(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function I_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vv={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function WP(){if(KE)return Gc;KE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:i,key:l,ref:s!==void 0?s:null,props:a}}return Gc.Fragment=t,Gc.jsx=n,Gc.jsxs=n,Gc}var XE;function YP(){return XE||(XE=1,vv.exports=WP()),vv.exports}var T=YP(),_v={exports:{}},$c={},bv={exports:{}},xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function GP(){return QE||(QE=1,function(e){function t(G,Z){var ht=G.length;G.push(Z);t:for(;0<ht;){var ct=ht-1>>>1,B=G[ct];if(0<s(B,Z))G[ct]=Z,G[ht]=B,ht=ct;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],ht=G.pop();if(ht!==Z){G[0]=ht;t:for(var ct=0,B=G.length,Q=B>>>1;ct<Q;){var st=2*(ct+1)-1,J=G[st],ft=st+1,yt=G[ft];if(0>s(J,ht))ft<B&&0>s(yt,J)?(G[ct]=yt,G[ft]=ht,ct=ft):(G[ct]=J,G[st]=ht,ct=st);else if(ft<B&&0>s(yt,ht))G[ct]=yt,G[ft]=ht,ct=ft;else break t}}return Z}function s(G,Z){var ht=G.sortIndex-Z.sortIndex;return ht!==0?ht:G.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,y=null,_=3,x=!1,E=!1,C=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(G){for(var Z=n(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=G)i(d),Z.sortIndex=Z.expirationTime,t(h,Z);else break;Z=n(d)}}function W(G){if(C=!1,H(G),!E)if(n(h)!==null)E=!0,nt||(nt=!0,j());else{var Z=n(d);Z!==null&&gt(W,Z.startTime-G)}}var nt=!1,N=-1,w=5,A=-1;function I(){return D?!0:!(e.unstable_now()-A<w)}function P(){if(D=!1,nt){var G=e.unstable_now();A=G;var Z=!0;try{t:{E=!1,C&&(C=!1,F(N),N=-1),x=!0;var ht=_;try{e:{for(H(G),y=n(h);y!==null&&!(y.expirationTime>G&&I());){var ct=y.callback;if(typeof ct=="function"){y.callback=null,_=y.priorityLevel;var B=ct(y.expirationTime<=G);if(G=e.unstable_now(),typeof B=="function"){y.callback=B,H(G),Z=!0;break e}y===n(h)&&i(h),H(G)}else i(h);y=n(h)}if(y!==null)Z=!0;else{var Q=n(d);Q!==null&&gt(W,Q.startTime-G),Z=!1}}break t}finally{y=null,_=ht,x=!1}Z=void 0}}finally{Z?j():nt=!1}}}var j;if(typeof L=="function")j=function(){L(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,xt=V.port2;V.port1.onmessage=P,j=function(){xt.postMessage(null)}}else j=function(){M(P,0)};function gt(G,Z){N=M(function(){G(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(G){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var ht=_;_=Z;try{return G()}finally{_=ht}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=_;_=G;try{return Z()}finally{_=ht}},e.unstable_scheduleCallback=function(G,Z,ht){var ct=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?ct+ht:ct):ht=ct,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ht+B,G={id:p++,callback:Z,priorityLevel:G,startTime:ht,expirationTime:B,sortIndex:-1},ht>ct?(G.sortIndex=ht,t(d,G),n(h)===null&&G===n(d)&&(C?(F(N),N=-1):C=!0,gt(W,ht-ct))):(G.sortIndex=B,t(h,G),E||x||(E=!0,nt||(nt=!0,j()))),G},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(G){var Z=_;return function(){var ht=_;_=Z;try{return G.apply(this,arguments)}finally{_=ht}}}}(xv)),xv}var ZE;function $P(){return ZE||(ZE=1,bv.exports=GP()),bv.exports}var wv={exports:{}},Bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function KP(){if(JE)return Bt;JE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function D(B,Q,st){this.props=B,this.context=Q,this.refs=C,this.updater=st||x}D.prototype.isReactComponent={},D.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=D.prototype;function F(B,Q,st){this.props=B,this.context=Q,this.refs=C,this.updater=st||x}var L=F.prototype=new M;L.constructor=F,E(L,D.prototype),L.isPureReactComponent=!0;var H=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function N(B,Q,st,J,ft,yt){return st=yt.ref,{$$typeof:e,type:B,key:Q,ref:st!==void 0?st:null,props:yt}}function w(B,Q){return N(B.type,Q,void 0,void 0,void 0,B.props)}function A(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function I(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(st){return Q[st]})}var P=/\/+/g;function j(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?I(""+B.key):Q.toString(36)}function V(){}function xt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function gt(B,Q,st,J,ft){var yt=typeof B;(yt==="undefined"||yt==="boolean")&&(B=null);var mt=!1;if(B===null)mt=!0;else switch(yt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(B.$$typeof){case e:case t:mt=!0;break;case p:return mt=B._init,gt(mt(B._payload),Q,st,J,ft)}}if(mt)return ft=ft(B),mt=J===""?"."+j(B,0):J,H(ft)?(st="",mt!=null&&(st=mt.replace(P,"$&/")+"/"),gt(ft,Q,st,"",function(At){return At})):ft!=null&&(A(ft)&&(ft=w(ft,st+(ft.key==null||B&&B.key===ft.key?"":(""+ft.key).replace(P,"$&/")+"/")+mt)),Q.push(ft)),1;mt=0;var Yt=J===""?".":J+":";if(H(B))for(var _t=0;_t<B.length;_t++)J=B[_t],yt=Yt+j(J,_t),mt+=gt(J,Q,st,yt,ft);else if(_t=_(B),typeof _t=="function")for(B=_t.call(B),_t=0;!(J=B.next()).done;)J=J.value,yt=Yt+j(J,_t++),mt+=gt(J,Q,st,yt,ft);else if(yt==="object"){if(typeof B.then=="function")return gt(xt(B),Q,st,J,ft);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return mt}function G(B,Q,st){if(B==null)return B;var J=[],ft=0;return gt(B,J,"","",function(yt){return Q.call(st,yt,ft++)}),J}function Z(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(st){(B._status===0||B._status===-1)&&(B._status=1,B._result=st)},function(st){(B._status===0||B._status===-1)&&(B._status=2,B._result=st)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var ht=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ct(){}return Bt.Children={map:G,forEach:function(B,Q,st){G(B,function(){Q.apply(this,arguments)},st)},count:function(B){var Q=0;return G(B,function(){Q++}),Q},toArray:function(B){return G(B,function(Q){return Q})||[]},only:function(B){if(!A(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Bt.Component=D,Bt.Fragment=n,Bt.Profiler=s,Bt.PureComponent=F,Bt.StrictMode=i,Bt.Suspense=h,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return W.H.useMemoCache(B)}},Bt.cache=function(B){return function(){return B.apply(null,arguments)}},Bt.cloneElement=function(B,Q,st){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var J=E({},B.props),ft=B.key,yt=void 0;if(Q!=null)for(mt in Q.ref!==void 0&&(yt=void 0),Q.key!==void 0&&(ft=""+Q.key),Q)!nt.call(Q,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Q.ref===void 0||(J[mt]=Q[mt]);var mt=arguments.length-2;if(mt===1)J.children=st;else if(1<mt){for(var Yt=Array(mt),_t=0;_t<mt;_t++)Yt[_t]=arguments[_t+2];J.children=Yt}return N(B.type,ft,void 0,void 0,yt,J)},Bt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:a,_context:B},B},Bt.createElement=function(B,Q,st){var J,ft={},yt=null;if(Q!=null)for(J in Q.key!==void 0&&(yt=""+Q.key),Q)nt.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=Q[J]);var mt=arguments.length-2;if(mt===1)ft.children=st;else if(1<mt){for(var Yt=Array(mt),_t=0;_t<mt;_t++)Yt[_t]=arguments[_t+2];ft.children=Yt}if(B&&B.defaultProps)for(J in mt=B.defaultProps,mt)ft[J]===void 0&&(ft[J]=mt[J]);return N(B,yt,void 0,void 0,null,ft)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(B){return{$$typeof:c,render:B}},Bt.isValidElement=A,Bt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:Z}},Bt.memo=function(B,Q){return{$$typeof:d,type:B,compare:Q===void 0?null:Q}},Bt.startTransition=function(B){var Q=W.T,st={};W.T=st;try{var J=B(),ft=W.S;ft!==null&&ft(st,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ct,ht)}catch(yt){ht(yt)}finally{W.T=Q}},Bt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Bt.use=function(B){return W.H.use(B)},Bt.useActionState=function(B,Q,st){return W.H.useActionState(B,Q,st)},Bt.useCallback=function(B,Q){return W.H.useCallback(B,Q)},Bt.useContext=function(B){return W.H.useContext(B)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(B,Q){return W.H.useDeferredValue(B,Q)},Bt.useEffect=function(B,Q,st){var J=W.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(B,Q)},Bt.useId=function(){return W.H.useId()},Bt.useImperativeHandle=function(B,Q,st){return W.H.useImperativeHandle(B,Q,st)},Bt.useInsertionEffect=function(B,Q){return W.H.useInsertionEffect(B,Q)},Bt.useLayoutEffect=function(B,Q){return W.H.useLayoutEffect(B,Q)},Bt.useMemo=function(B,Q){return W.H.useMemo(B,Q)},Bt.useOptimistic=function(B,Q){return W.H.useOptimistic(B,Q)},Bt.useReducer=function(B,Q,st){return W.H.useReducer(B,Q,st)},Bt.useRef=function(B){return W.H.useRef(B)},Bt.useState=function(B){return W.H.useState(B)},Bt.useSyncExternalStore=function(B,Q,st){return W.H.useSyncExternalStore(B,Q,st)},Bt.useTransition=function(){return W.H.useTransition()},Bt.version="19.1.0",Bt}var tS;function O_(){return tS||(tS=1,wv.exports=KP()),wv.exports}var Tv={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function XP(){if(eS)return qn;eS=1;var e=O_();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(h,d,null,p)},qn.flushSync=function(h){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=d,i.p=p,i.d.f()}},qn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},qn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},qn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qn.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},qn.requestFormReset=function(h){i.d.r(h)},qn.unstable_batchedUpdates=function(h,d){return h(d)},qn.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},qn.version="19.1.0",qn}var nS;function QP(){if(nS)return Tv.exports;nS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tv.exports=XP(),Tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function ZP(){if(iS)return $c;iS=1;var e=$P(),t=O_(),n=QP();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(a(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,f=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),r;if(v===f)return c(g),o;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=g,f=v;else{for(var R=!1,O=g.child;O;){if(O===u){R=!0,u=g,f=v;break}if(O===f){R=!0,f=g,u=v;break}O=O.sibling}if(!R){for(O=v.child;O;){if(O===u){R=!0,u=v,f=g;break}if(O===f){R=!0,f=v,u=g;break}O=O.sibling}if(!R)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function xt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case W:return"Suspense";case nt:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case L:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case H:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return o=r.displayName||null,o!==null?o:xt(r.type)||"Memo";case w:o=r._payload,r=r._init;try{return xt(r(o))}catch{}}return null}var gt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},ct=[],B=-1;function Q(r){return{current:r}}function st(r){0>B||(r.current=ct[B],ct[B]=null,B--)}function J(r,o){B++,ct[B]=r.current,r.current=o}var ft=Q(null),yt=Q(null),mt=Q(null),Yt=Q(null);function _t(r,o){switch(J(mt,o),J(yt,r),J(ft,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?TE(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=TE(o),r=EE(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}st(ft),J(ft,r)}function At(){st(ft),st(yt),st(mt)}function te(r){r.memoizedState!==null&&J(Yt,r);var o=ft.current,u=EE(o,r.type);o!==u&&(J(yt,r),J(ft,u))}function Rt(r){yt.current===r&&(st(ft),st(yt)),Yt.current===r&&(st(Yt),zc._currentValue=ht)}var Gt=Object.prototype.hasOwnProperty,he=e.unstable_scheduleCallback,St=e.unstable_cancelCallback,Ft=e.unstable_shouldYield,Tt=e.unstable_requestPaint,ee=e.unstable_now,$t=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,_e=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,zn=e.unstable_LowPriority,Qn=e.unstable_IdlePriority,ke=e.log,An=e.unstable_setDisableYieldValue,jt=null,Nt=null;function Ce(r){if(typeof ke=="function"&&An(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(jt,r)}catch{}}var Pe=Math.clz32?Math.clz32:tn,xs=Math.log,pi=Math.LN2;function tn(r){return r>>>=0,r===0?32:31-(xs(r)/pi|0)|0}var vn=256,gi=4194304;function yi(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tr(r,o,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,v=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var O=f&134217727;return O!==0?(f=O&~v,f!==0?g=yi(f):(R&=O,R!==0?g=yi(R):u||(u=O&~r,u!==0&&(g=yi(u))))):(O=f&~v,O!==0?g=yi(O):R!==0?g=yi(R):u||(u=f&~r,u!==0&&(g=yi(u)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:g}function ws(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function er(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function Gr(){var r=gi;return gi<<=1,(gi&62914560)===0&&(gi=4194304),r}function ts(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Oi(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function en(r,o,u,f,g,v){var R=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var O=r.entanglements,z=r.expirationTimes,X=r.hiddenUpdates;for(u=R&~u;0<u;){var rt=31-Pe(u),lt=1<<rt;O[rt]=0,z[rt]=-1;var tt=X[rt];if(tt!==null)for(X[rt]=null,rt=0;rt<tt.length;rt++){var et=tt[rt];et!==null&&(et.lane&=-536870913)}u&=~lt}f!==0&&De(r,f,0),v!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=v&~(R&~o))}function De(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-Pe(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function Ts(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var f=31-Pe(u),g=1<<f;g&o|r[f]&o&&(r[f]|=o),u&=~g}}function oe(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Rn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Es(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:HE(r.type))}function $r(r,o){var u=Z.p;try{return Z.p=r,o()}finally{Z.p=u}}var Ee=Math.random().toString(36).slice(2),He="__reactFiber$"+Ee,Ne="__reactProps$"+Ee,Cn="__reactContainer$"+Ee,nr="__reactEvents$"+Ee,io="__reactListeners$"+Ee,Mi="__reactHandles$"+Ee,hl="__reactResources$"+Ee,es="__reactMarker$"+Ee;function ns(r){delete r[He],delete r[Ne],delete r[nr],delete r[io],delete r[Mi]}function is(r){var o=r[He];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Cn]||u[He]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=CE(r);r!==null;){if(u=r[He])return u;r=CE(r)}return o}r=u,u=r.parentNode}return null}function ki(r){if(r=r[He]||r[Cn]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Pt(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function qt(r){var o=r[hl];return o||(o=r[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ut(r){r[es]=!0}var Dn=new Set,_n={};function Zn(r,o){ss(r,o),ss(r+"Capture",o)}function ss(r,o){for(_n[r]=o,r=0;r<o.length;r++)Dn.add(o[r])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},so={};function Pf(r){return Gt.call(so,r)?!0:Gt.call(kf,r)?!1:fl.test(r)?so[r]=!0:(kf[r]=!0,!1)}function Kr(r,o,u){if(Pf(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ss(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function In(r,o,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+f)}}var ro,Nf;function ir(r){if(ro===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ro=o&&o[1]||"",Nf=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+r+Nf}var dl=!1;function ml(r,o){if(!r||dl)return"";dl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(et){var tt=et}Reflect.construct(r,[],lt)}else{try{lt.call()}catch(et){tt=et}r.call(lt.prototype)}}else{try{throw Error()}catch(et){tt=et}(lt=r())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(et){if(et&&tt&&typeof et.stack=="string")return[et.stack,tt.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),R=v[0],O=v[1];if(R&&O){var z=R.split(`
`),X=O.split(`
`);for(g=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(f===z.length||g===X.length)for(f=z.length-1,g=X.length-1;1<=f&&0<=g&&z[f]!==X[g];)g--;for(;1<=f&&0<=g;f--,g--)if(z[f]!==X[g]){if(f!==1||g!==1)do if(f--,g--,0>g||z[f]!==X[g]){var rt=`
`+z[f].replace(" at new "," at ");return r.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",r.displayName)),rt}while(1<=f&&0<=g);break}}}finally{dl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ir(u):""}function Ku(r){switch(r.tag){case 26:case 27:case 5:return ir(r.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 15:return ml(r.type,!1);case 11:return ml(r.type.render,!1);case 1:return ml(r.type,!0);case 31:return ir("Activity");default:return""}}function pl(r){try{var o="";do o+=Ku(r),r=r.return;while(r);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Jn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xu(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wg(r){var o=Xu(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return g.call(this)},set:function(R){f=""+R,v.call(this,R)}}),Object.defineProperty(r,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function gl(r){r._valueTracker||(r._valueTracker=wg(r))}function Qu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return r&&(f=Xu(r)?r.checked?"true":"false":r.value),r=f,r!==u?(o.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Tg=/[\n"\\]/g;function nn(r){return r.replace(Tg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function vi(r,o,u,f,g,v,R,O){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Jn(o)):r.value!==""+Jn(o)&&(r.value=""+Jn(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?Xr(r,R,Jn(o)):u!=null?Xr(r,R,Jn(u)):f!=null&&r.removeAttribute("value"),g==null&&v!=null&&(r.defaultChecked=!!v),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+Jn(O):r.removeAttribute("name")}function oo(r,o,u,f,g,v,R,O){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;u=u!=null?""+Jn(u):"",o=o!=null?""+Jn(o):u,O||o===r.value||(r.value=o),r.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=O?r.checked:!!f,r.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function Xr(r,o,u){o==="number"&&ao(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function sr(r,o,u,f){if(r=r.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=o.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Jn(u),o=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function be(r,o,u){if(o!=null&&(o=""+Jn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Jn(u):""}function lo(r,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(gt(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Jn(o),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function Pi(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vf(r,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,u):typeof u!="number"||u===0||uo.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function Zu(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&u[g]!==f&&Vf(r,g,f)}else for(var v in o)o.hasOwnProperty(v)&&Vf(r,v,o[v])}function Ju(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(r){return Sg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var rr=null;function Ni(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ar=null,or=null;function tc(r){var o=ki(r);if(o&&(r=o.stateNode)){var u=r[Ne]||null;t:switch(r=o.stateNode,o.type){case"input":if(vi(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+nn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==r&&f.form===r.form){var g=f[Ne]||null;if(!g)throw Error(i(90));vi(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===r.form&&Qu(f)}break t;case"textarea":be(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&sr(r,!!u.multiple,o,!1)}}}var As=!1;function Lf(r,o,u){if(As)return r(o,u);As=!0;try{var f=r(o);return f}finally{if(As=!1,(ar!==null||or!==null)&&(Id(),ar&&(o=ar,r=or,or=ar=null,tc(o),r)))for(o=0;o<r.length;o++)tc(r[o])}}function co(r,o){var u=r.stateNode;if(u===null)return null;var f=u[Ne]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vi=!1;if(rs)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Vi=!1}var Rs=null,Qr=null,lr=null;function ec(){if(lr)return lr;var r,o=Qr,u=o.length,f,g="value"in Rs?Rs.value:Rs.textContent,v=g.length;for(r=0;r<u&&o[r]===g[r];r++);var R=u-r;for(f=1;f<=R&&o[u-f]===g[v-f];f++);return lr=g.slice(r,1<f?1-f:void 0)}function Cs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Ds(){return!0}function nc(){return!1}function bn(r){function o(u,f,g,v,R){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=R,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(u=r[O],this[O]=u?u(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ds:nc,this.isPropagationStopped=nc,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),o}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=bn(fe),fo=p({},fe,{view:0,detail:0}),jf=bn(fo),_l,bl,Is,mo=p({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Is&&(Is&&r.type==="mousemove"?(_l=r.screenX-Is.screenX,bl=r.screenY-Is.screenY):bl=_l=0,Is=r),_l)},movementY:function(r){return"movementY"in r?r.movementY:bl}}),Li=bn(mo),Uf=p({},mo,{dataTransfer:0}),Ag=bn(Uf),po=p({},fo,{relatedTarget:0}),xl=bn(po),ic=p({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=bn(ic),Bf=p({},fe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tl=bn(Bf),Rg=p({},fe,{data:0}),sc=bn(Rg),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=zf[r])?!!o[r]:!1}function yo(){return rc}var Hf=p({},fo,{key:function(r){if(r.key){var o=go[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ff[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(r){return r.type==="keypress"?Cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),El=bn(Hf),qf=p({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=bn(qf),ur=p({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),Wf=bn(ur),Yf=p({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gf=bn(Yf),$f=p({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Sl=bn($f),ti=p({},fe,{newState:0,oldState:0}),Kf=bn(ti),Xf=[9,13,27,32],Os=rs&&"CompositionEvent"in window,m=null;rs&&"documentMode"in document&&(m=document.documentMode);var b=rs&&"TextEvent"in window&&!m,S=rs&&(!Os||m&&8<m&&11>=m),k=" ",$=!1;function it(r,o){switch(r){case"keyup":return Xf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ne=!1;function fn(r,o){switch(r){case"compositionend":return dt(o);case"keypress":return o.which!==32?null:($=!0,k);case"textInput":return r=o.data,r===k&&$?null:r;default:return null}}function ie(r,o){if(ne)return r==="compositionend"||!Os&&it(r,o)?(r=ec(),lr=Qr=Rs=null,ne=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!xn[r.type]:o==="textarea"}function cr(r,o,u,f){ar?or?or.push(f):or=[f]:ar=f,o=Vd(o,"onChange"),0<o.length&&(u=new vl("onChange","change",null,u,f),r.push({event:u,listeners:o}))}var On=null,Ms=null;function oc(r){vE(r,0)}function Qf(r){var o=Pt(r);if(Qu(o))return r}function Ux(r,o){if(r==="change")return o}var Bx=!1;if(rs){var Cg;if(rs){var Dg="oninput"in document;if(!Dg){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),Dg=typeof Fx.oninput=="function"}Cg=Dg}else Cg=!1;Bx=Cg&&(!document.documentMode||9<document.documentMode)}function zx(){On&&(On.detachEvent("onpropertychange",Hx),Ms=On=null)}function Hx(r){if(r.propertyName==="value"&&Qf(Ms)){var o=[];cr(o,Ms,r,Ni(r)),Lf(oc,o)}}function xk(r,o,u){r==="focusin"?(zx(),On=o,Ms=u,On.attachEvent("onpropertychange",Hx)):r==="focusout"&&zx()}function wk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qf(Ms)}function Tk(r,o){if(r==="click")return Qf(o)}function Ek(r,o){if(r==="input"||r==="change")return Qf(o)}function Sk(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var _i=typeof Object.is=="function"?Object.is:Sk;function lc(r,o){if(_i(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!Gt.call(o,g)||!_i(r[g],o[g]))return!1}return!0}function qx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wx(r,o){var u=qx(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=o&&f>=o)return{node:u,offset:o-r};r=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=qx(u)}}function Yx(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Yx(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Gx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=ao(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=ao(r.document)}return o}function Ig(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Ak=rs&&"documentMode"in document&&11>=document.documentMode,Al=null,Og=null,uc=null,Mg=!1;function $x(r,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mg||Al==null||Al!==ao(f)||(f=Al,"selectionStart"in f&&Ig(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),uc&&lc(uc,f)||(uc=f,f=Vd(Og,"onSelect"),0<f.length&&(o=new vl("onSelect","select",null,o,u),r.push({event:o,listeners:f}),o.target=Al)))}function vo(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var Rl={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},kg={},Kx={};rs&&(Kx=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function _o(r){if(kg[r])return kg[r];if(!Rl[r])return r;var o=Rl[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in Kx)return kg[r]=o[u];return r}var Xx=_o("animationend"),Qx=_o("animationiteration"),Zx=_o("animationstart"),Rk=_o("transitionrun"),Ck=_o("transitionstart"),Dk=_o("transitioncancel"),Jx=_o("transitionend"),tw=new Map,Pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pg.push("scrollEnd");function as(r,o){tw.set(r,o),Zn(o,[r])}var ew=new WeakMap;function ji(r,o){if(typeof r=="object"&&r!==null){var u=ew.get(r);return u!==void 0?u:(o={value:r,source:o,stack:pl(o)},ew.set(r,o),o)}return{value:r,source:o,stack:pl(o)}}var Ui=[],Cl=0,Ng=0;function Zf(){for(var r=Cl,o=Ng=Cl=0;o<r;){var u=Ui[o];Ui[o++]=null;var f=Ui[o];Ui[o++]=null;var g=Ui[o];Ui[o++]=null;var v=Ui[o];if(Ui[o++]=null,f!==null&&g!==null){var R=f.pending;R===null?g.next=g:(g.next=R.next,R.next=g),f.pending=g}v!==0&&nw(u,g,v)}}function Jf(r,o,u,f){Ui[Cl++]=r,Ui[Cl++]=o,Ui[Cl++]=u,Ui[Cl++]=f,Ng|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Vg(r,o,u,f){return Jf(r,o,u,f),td(r)}function Dl(r,o){return Jf(r,null,null,o),td(r)}function nw(r,o,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,v=r.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(g=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,g&&o!==null&&(g=31-Pe(u),r=v.hiddenUpdates,f=r[g],f===null?r[g]=[o]:f.push(o),o.lane=u|536870912),v):null}function td(r){if(50<Pc)throw Pc=0,zy=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Il={};function Ik(r,o,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(r,o,u,f){return new Ik(r,o,u,f)}function Lg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hr(r,o){var u=r.alternate;return u===null?(u=bi(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function iw(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function ed(r,o,u,f,g,v){var R=0;if(f=r,typeof r=="function")Lg(r)&&(R=1);else if(typeof r=="string")R=MP(r,u,ft.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case A:return r=bi(31,u,o,g),r.elementType=A,r.lanes=v,r;case E:return bo(u.children,g,v,o);case C:R=8,g|=24;break;case D:return r=bi(12,u,o,g|2),r.elementType=D,r.lanes=v,r;case W:return r=bi(13,u,o,g),r.elementType=W,r.lanes=v,r;case nt:return r=bi(19,u,o,g),r.elementType=nt,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case L:R=10;break t;case F:R=9;break t;case H:R=11;break t;case N:R=14;break t;case w:R=16,f=null;break t}R=29,u=Error(i(130,r===null?"null":typeof r,"")),f=null}return o=bi(R,u,o,g),o.elementType=r,o.type=f,o.lanes=v,o}function bo(r,o,u,f){return r=bi(7,r,f,o),r.lanes=u,r}function jg(r,o,u){return r=bi(6,r,null,o),r.lanes=u,r}function Ug(r,o,u){return o=bi(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Ol=[],Ml=0,nd=null,id=0,Bi=[],Fi=0,xo=null,fr=1,dr="";function wo(r,o){Ol[Ml++]=id,Ol[Ml++]=nd,nd=r,id=o}function sw(r,o,u){Bi[Fi++]=fr,Bi[Fi++]=dr,Bi[Fi++]=xo,xo=r;var f=fr;r=dr;var g=32-Pe(f)-1;f&=~(1<<g),u+=1;var v=32-Pe(o)+g;if(30<v){var R=g-g%5;v=(f&(1<<R)-1).toString(32),f>>=R,g-=R,fr=1<<32-Pe(o)+g|u<<g|f,dr=v+r}else fr=1<<v|u<<g|f,dr=r}function Bg(r){r.return!==null&&(wo(r,1),sw(r,1,0))}function Fg(r){for(;r===nd;)nd=Ol[--Ml],Ol[Ml]=null,id=Ol[--Ml],Ol[Ml]=null;for(;r===xo;)xo=Bi[--Fi],Bi[Fi]=null,dr=Bi[--Fi],Bi[Fi]=null,fr=Bi[--Fi],Bi[Fi]=null}var ei=null,qe=null,ce=!1,To=null,ks=!1,zg=Error(i(519));function Eo(r){var o=Error(i(418,""));throw fc(ji(o,r)),zg}function rw(r){var o=r.stateNode,u=r.type,f=r.memoizedProps;switch(o[He]=r,o[Ne]=f,u){case"dialog":Xt("cancel",o),Xt("close",o);break;case"iframe":case"object":case"embed":Xt("load",o);break;case"video":case"audio":for(u=0;u<Vc.length;u++)Xt(Vc[u],o);break;case"source":Xt("error",o);break;case"img":case"image":case"link":Xt("error",o),Xt("load",o);break;case"details":Xt("toggle",o);break;case"input":Xt("invalid",o),oo(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),gl(o);break;case"select":Xt("invalid",o);break;case"textarea":Xt("invalid",o),lo(o,f.value,f.defaultValue,f.children),gl(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||wE(o.textContent,u)?(f.popover!=null&&(Xt("beforetoggle",o),Xt("toggle",o)),f.onScroll!=null&&Xt("scroll",o),f.onScrollEnd!=null&&Xt("scrollend",o),f.onClick!=null&&(o.onclick=Ld),o=!0):o=!1,o||Eo(r)}function aw(r){for(ei=r.return;ei;)switch(ei.tag){case 5:case 13:ks=!1;return;case 27:case 3:ks=!0;return;default:ei=ei.return}}function cc(r){if(r!==ei)return!1;if(!ce)return aw(r),ce=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||sv(r.type,r.memoizedProps)),u=!u),u&&qe&&Eo(r),aw(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(o===0){qe=ls(r.nextSibling);break t}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;r=r.nextSibling}qe=null}}else o===27?(o=qe,da(r.type)?(r=lv,lv=null,qe=r):qe=o):qe=ei?ls(r.stateNode.nextSibling):null;return!0}function hc(){qe=ei=null,ce=!1}function ow(){var r=To;return r!==null&&(li===null?li=r:li.push.apply(li,r),To=null),r}function fc(r){To===null?To=[r]:To.push(r)}var Hg=Q(null),So=null,mr=null;function Zr(r,o,u){J(Hg,o._currentValue),o._currentValue=u}function pr(r){r._currentValue=Hg.current,st(Hg)}function qg(r,o,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===u)break;r=r.return}}function Wg(r,o,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var v=g.dependencies;if(v!==null){var R=g.child;v=v.firstContext;t:for(;v!==null;){var O=v;v=g;for(var z=0;z<o.length;z++)if(O.context===o[z]){v.lanes|=u,O=v.alternate,O!==null&&(O.lanes|=u),qg(v.return,u,r),f||(R=null);break t}v=O.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(i(341));R.lanes|=u,v=R.alternate,v!==null&&(v.lanes|=u),qg(R,u,r),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===r){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function dc(r,o,u,f){r=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var O=g.type;_i(g.pendingProps.value,R.value)||(r!==null?r.push(O):r=[O])}}else if(g===Yt.current){if(R=g.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(zc):r=[zc])}g=g.return}r!==null&&Wg(o,r,u,f),o.flags|=262144}function sd(r){for(r=r.firstContext;r!==null;){if(!_i(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ao(r){So=r,mr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Hn(r){return lw(So,r)}function rd(r,o){return So===null&&Ao(r),lw(r,o)}function lw(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},mr===null){if(r===null)throw Error(i(308));mr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else mr=mr.next=o;return u}var Ok=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},Mk=e.unstable_scheduleCallback,kk=e.unstable_NormalPriority,mn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yg(){return{controller:new Ok,data:new Map,refCount:0}}function mc(r){r.refCount--,r.refCount===0&&Mk(kk,function(){r.controller.abort()})}var pc=null,Gg=0,kl=0,Pl=null;function Pk(r,o){if(pc===null){var u=pc=[];Gg=0,kl=Ky(),Pl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Gg++,o.then(uw,uw),o}function uw(){if(--Gg===0&&pc!==null){Pl!==null&&(Pl.status="fulfilled");var r=pc;pc=null,kl=0,Pl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function Nk(r,o){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var cw=G.S;G.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Pk(r,o),cw!==null&&cw(r,o)};var Ro=Q(null);function $g(){var r=Ro.current;return r!==null?r:Ae.pooledCache}function ad(r,o){o===null?J(Ro,Ro.current):J(Ro,o.pool)}function hw(){var r=$g();return r===null?null:{parent:mn._currentValue,pool:r}}var gc=Error(i(460)),fw=Error(i(474)),od=Error(i(542)),Kg={then:function(){}};function dw(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ld(){}function mw(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(ld,ld),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,gw(r),r;default:if(typeof o.status=="string")o.then(ld,ld);else{if(r=Ae,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,gw(r),r}throw yc=o,gc}}var yc=null;function pw(){if(yc===null)throw Error(i(459));var r=yc;return yc=null,r}function gw(r){if(r===gc||r===od)throw Error(i(483))}var Jr=!1;function Xg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ta(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ea(r,o,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(me&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=td(r),nw(r,null,u),o}return Jf(r,f,o,u),td(r)}function vc(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ts(r,u)}}function Zg(r,o){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=R:v=v.next=R,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var Jg=!1;function _c(){if(Jg){var r=Pl;if(r!==null)throw r}}function bc(r,o,u,f){Jg=!1;var g=r.updateQueue;Jr=!1;var v=g.firstBaseUpdate,R=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var z=O,X=z.next;z.next=null,R===null?v=X:R.next=X,R=z;var rt=r.alternate;rt!==null&&(rt=rt.updateQueue,O=rt.lastBaseUpdate,O!==R&&(O===null?rt.firstBaseUpdate=X:O.next=X,rt.lastBaseUpdate=z))}if(v!==null){var lt=g.baseState;R=0,rt=X=z=null,O=v;do{var tt=O.lane&-536870913,et=tt!==O.lane;if(et?(se&tt)===tt:(f&tt)===tt){tt!==0&&tt===kl&&(Jg=!0),rt!==null&&(rt=rt.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Mt=r,Ct=O;tt=o;var Te=u;switch(Ct.tag){case 1:if(Mt=Ct.payload,typeof Mt=="function"){lt=Mt.call(Te,lt,tt);break t}lt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ct.payload,tt=typeof Mt=="function"?Mt.call(Te,lt,tt):Mt,tt==null)break t;lt=p({},lt,tt);break t;case 2:Jr=!0}}tt=O.callback,tt!==null&&(r.flags|=64,et&&(r.flags|=8192),et=g.callbacks,et===null?g.callbacks=[tt]:et.push(tt))}else et={lane:tt,tag:O.tag,payload:O.payload,callback:O.callback,next:null},rt===null?(X=rt=et,z=lt):rt=rt.next=et,R|=tt;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;et=O,O=et.next,et.next=null,g.lastBaseUpdate=et,g.shared.pending=null}}while(!0);rt===null&&(z=lt),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=rt,v===null&&(g.shared.lanes=0),ua|=R,r.lanes=R,r.memoizedState=lt}}function yw(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function vw(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)yw(u[r],o)}var Nl=Q(null),ud=Q(0);function _w(r,o){r=wr,J(ud,r),J(Nl,o),wr=r|o.baseLanes}function ty(){J(ud,wr),J(Nl,Nl.current)}function ey(){wr=ud.current,st(Nl),st(ud)}var na=0,zt=null,xe=null,sn=null,cd=!1,Vl=!1,Co=!1,hd=0,xc=0,Ll=null,Vk=0;function Ke(){throw Error(i(321))}function ny(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!_i(r[u],o[u]))return!1;return!0}function iy(r,o,u,f,g,v){return na=v,zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=r===null||r.memoizedState===null?nT:iT,Co=!1,v=u(f,g),Co=!1,Vl&&(v=xw(o,u,f,g)),bw(r),v}function bw(r){G.H=yd;var o=xe!==null&&xe.next!==null;if(na=0,sn=xe=zt=null,cd=!1,xc=0,Ll=null,o)throw Error(i(300));r===null||wn||(r=r.dependencies,r!==null&&sd(r)&&(wn=!0))}function xw(r,o,u,f){zt=r;var g=0;do{if(Vl&&(Ll=null),xc=0,Vl=!1,25<=g)throw Error(i(301));if(g+=1,sn=xe=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=Hk,v=o(u,f)}while(Vl);return v}function Lk(){var r=G.H,o=r.useState()[0];return o=typeof o.then=="function"?wc(o):o,r=r.useState()[0],(xe!==null?xe.memoizedState:null)!==r&&(zt.flags|=1024),o}function sy(){var r=hd!==0;return hd=0,r}function ry(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function ay(r){if(cd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}cd=!1}na=0,sn=xe=zt=null,Vl=!1,xc=hd=0,Ll=null}function ai(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?zt.memoizedState=sn=r:sn=sn.next=r,sn}function rn(){if(xe===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=xe.next;var o=sn===null?zt.memoizedState:sn.next;if(o!==null)sn=o,xe=r;else{if(r===null)throw zt.alternate===null?Error(i(467)):Error(i(310));xe=r,r={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},sn===null?zt.memoizedState=sn=r:sn=sn.next=r}return sn}function oy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(r){var o=xc;return xc+=1,Ll===null&&(Ll=[]),r=mw(Ll,r,o),o=zt,(sn===null?o.memoizedState:sn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?nT:iT),r}function fd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return wc(r);if(r.$$typeof===L)return Hn(r)}throw Error(i(438,String(r)))}function ly(r){var o=null,u=zt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=zt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=oy(),zt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),f=0;f<r;f++)u[f]=I;return o.index++,u}function gr(r,o){return typeof o=="function"?o(r):o}function dd(r){var o=rn();return uy(o,xe,r)}function uy(r,o,u){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var g=r.baseQueue,v=f.pending;if(v!==null){if(g!==null){var R=g.next;g.next=v.next,v.next=R}o.baseQueue=g=v,f.pending=null}if(v=r.baseState,g===null)r.memoizedState=v;else{o=g.next;var O=R=null,z=null,X=o,rt=!1;do{var lt=X.lane&-536870913;if(lt!==X.lane?(se&lt)===lt:(na&lt)===lt){var tt=X.revertLane;if(tt===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),lt===kl&&(rt=!0);else if((na&tt)===tt){X=X.next,tt===kl&&(rt=!0);continue}else lt={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=lt,R=v):z=z.next=lt,zt.lanes|=tt,ua|=tt;lt=X.action,Co&&u(v,lt),v=X.hasEagerState?X.eagerState:u(v,lt)}else tt={lane:lt,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=tt,R=v):z=z.next=tt,zt.lanes|=lt,ua|=lt;X=X.next}while(X!==null&&X!==o);if(z===null?R=v:z.next=O,!_i(v,r.memoizedState)&&(wn=!0,rt&&(u=Pl,u!==null)))throw u;r.memoizedState=v,r.baseState=R,r.baseQueue=z,f.lastRenderedState=v}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function cy(r){var o=rn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var R=g=g.next;do v=r(v,R.action),R=R.next;while(R!==g);_i(v,o.memoizedState)||(wn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function ww(r,o,u){var f=zt,g=rn(),v=ce;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var R=!_i((xe||g).memoizedState,u);R&&(g.memoizedState=u,wn=!0),g=g.queue;var O=Sw.bind(null,f,g,r);if(Tc(2048,8,O,[r]),g.getSnapshot!==o||R||sn!==null&&sn.memoizedState.tag&1){if(f.flags|=2048,jl(9,md(),Ew.bind(null,f,g,u,o),null),Ae===null)throw Error(i(349));v||(na&124)!==0||Tw(f,o,u)}return u}function Tw(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=zt.updateQueue,o===null?(o=oy(),zt.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function Ew(r,o,u,f){o.value=u,o.getSnapshot=f,Aw(o)&&Rw(r)}function Sw(r,o,u){return u(function(){Aw(o)&&Rw(r)})}function Aw(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!_i(r,u)}catch{return!0}}function Rw(r){var o=Dl(r,2);o!==null&&Si(o,r,2)}function hy(r){var o=ai();if(typeof r=="function"){var u=r;if(r=u(),Co){Ce(!0);try{u()}finally{Ce(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:r},o}function Cw(r,o,u,f){return r.baseState=u,uy(r,xe,typeof f=="function"?f:gr)}function jk(r,o,u,f,g){if(gd(r))throw Error(i(485));if(r=o.action,r!==null){var v={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){v.listeners.push(R)}};G.T!==null?u(!0):v.isTransition=!1,f(v),u=o.pending,u===null?(v.next=o.pending=v,Dw(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Dw(r,o){var u=o.action,f=o.payload,g=r.state;if(o.isTransition){var v=G.T,R={};G.T=R;try{var O=u(g,f),z=G.S;z!==null&&z(R,O),Iw(r,o,O)}catch(X){fy(r,o,X)}finally{G.T=v}}else try{v=u(g,f),Iw(r,o,v)}catch(X){fy(r,o,X)}}function Iw(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Ow(r,o,f)},function(f){return fy(r,o,f)}):Ow(r,o,u)}function Ow(r,o,u){o.status="fulfilled",o.value=u,Mw(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Dw(r,u)))}function fy(r,o,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Mw(o),o=o.next;while(o!==f)}r.action=null}function Mw(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function kw(r,o){return o}function Pw(r,o){if(ce){var u=Ae.formState;if(u!==null){t:{var f=zt;if(ce){if(qe){e:{for(var g=qe,v=ks;g.nodeType!==8;){if(!v){g=null;break e}if(g=ls(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){qe=ls(g.nextSibling),f=g.data==="F!";break t}}Eo(f)}f=!1}f&&(o=u[0])}}return u=ai(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kw,lastRenderedState:o},u.queue=f,u=Jw.bind(null,zt,f),f.dispatch=u,f=hy(!1),v=yy.bind(null,zt,!1,f.queue),f=ai(),g={state:o,dispatch:null,action:r,pending:null},f.queue=g,u=jk.bind(null,zt,g,v,u),g.dispatch=u,f.memoizedState=r,[o,u,!1]}function Nw(r){var o=rn();return Vw(o,xe,r)}function Vw(r,o,u){if(o=uy(r,o,kw)[0],r=dd(gr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=wc(o)}catch(R){throw R===gc?od:R}else f=o;o=rn();var g=o.queue,v=g.dispatch;return u!==o.memoizedState&&(zt.flags|=2048,jl(9,md(),Uk.bind(null,g,u),null)),[f,v,r]}function Uk(r,o){r.action=o}function Lw(r){var o=rn(),u=xe;if(u!==null)return Vw(o,u,r);rn(),o=o.memoizedState,u=rn();var f=u.queue.dispatch;return u.memoizedState=r,[o,f,!1]}function jl(r,o,u,f){return r={tag:r,create:u,deps:f,inst:o,next:null},o=zt.updateQueue,o===null&&(o=oy(),zt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,o.lastEffect=r),r}function md(){return{destroy:void 0,resource:void 0}}function jw(){return rn().memoizedState}function pd(r,o,u,f){var g=ai();f=f===void 0?null:f,zt.flags|=r,g.memoizedState=jl(1|o,md(),u,f)}function Tc(r,o,u,f){var g=rn();f=f===void 0?null:f;var v=g.memoizedState.inst;xe!==null&&f!==null&&ny(f,xe.memoizedState.deps)?g.memoizedState=jl(o,v,u,f):(zt.flags|=r,g.memoizedState=jl(1|o,v,u,f))}function Uw(r,o){pd(8390656,8,r,o)}function Bw(r,o){Tc(2048,8,r,o)}function Fw(r,o){return Tc(4,2,r,o)}function zw(r,o){return Tc(4,4,r,o)}function Hw(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function qw(r,o,u){u=u!=null?u.concat([r]):null,Tc(4,4,Hw.bind(null,o,r),u)}function dy(){}function Ww(r,o){var u=rn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&ny(o,f[1])?f[0]:(u.memoizedState=[r,o],r)}function Yw(r,o){var u=rn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&ny(o,f[1]))return f[0];if(f=r(),Co){Ce(!0);try{r()}finally{Ce(!1)}}return u.memoizedState=[f,o],f}function my(r,o,u){return u===void 0||(na&1073741824)!==0?r.memoizedState=o:(r.memoizedState=u,r=KT(),zt.lanes|=r,ua|=r,u)}function Gw(r,o,u,f){return _i(u,o)?u:Nl.current!==null?(r=my(r,u,f),_i(r,o)||(wn=!0),r):(na&42)===0?(wn=!0,r.memoizedState=u):(r=KT(),zt.lanes|=r,ua|=r,o)}function $w(r,o,u,f,g){var v=Z.p;Z.p=v!==0&&8>v?v:8;var R=G.T,O={};G.T=O,yy(r,!1,o,u);try{var z=g(),X=G.S;if(X!==null&&X(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var rt=Nk(z,f);Ec(r,o,rt,Ei(r))}else Ec(r,o,f,Ei(r))}catch(lt){Ec(r,o,{then:function(){},status:"rejected",reason:lt},Ei())}finally{Z.p=v,G.T=R}}function Bk(){}function py(r,o,u,f){if(r.tag!==5)throw Error(i(476));var g=Kw(r).queue;$w(r,g,o,ht,u===null?Bk:function(){return Xw(r),u(f)})}function Kw(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:ht},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Xw(r){var o=Kw(r).next.queue;Ec(r,o,{},Ei())}function gy(){return Hn(zc)}function Qw(){return rn().memoizedState}function Zw(){return rn().memoizedState}function Fk(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ei();r=ta(u);var f=ea(o,r,u);f!==null&&(Si(f,o,u),vc(f,o,u)),o={cache:Yg()},r.payload=o;return}o=o.return}}function zk(r,o,u){var f=Ei();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},gd(r)?tT(o,u):(u=Vg(r,o,u,f),u!==null&&(Si(u,r,f),eT(u,o,f)))}function Jw(r,o,u){var f=Ei();Ec(r,o,u,f)}function Ec(r,o,u,f){var g={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(gd(r))tT(o,g);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var R=o.lastRenderedState,O=v(R,u);if(g.hasEagerState=!0,g.eagerState=O,_i(O,R))return Jf(r,o,g,0),Ae===null&&Zf(),!1}catch{}finally{}if(u=Vg(r,o,g,f),u!==null)return Si(u,r,f),eT(u,o,f),!0}return!1}function yy(r,o,u,f){if(f={lane:2,revertLane:Ky(),action:f,hasEagerState:!1,eagerState:null,next:null},gd(r)){if(o)throw Error(i(479))}else o=Vg(r,u,f,2),o!==null&&Si(o,r,2)}function gd(r){var o=r.alternate;return r===zt||o!==null&&o===zt}function tT(r,o){Vl=cd=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function eT(r,o,u){if((u&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,u|=f,o.lanes=u,Ts(r,u)}}var yd={readContext:Hn,use:fd,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},nT={readContext:Hn,use:fd,useCallback:function(r,o){return ai().memoizedState=[r,o===void 0?null:o],r},useContext:Hn,useEffect:Uw,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,pd(4194308,4,Hw.bind(null,o,r),u)},useLayoutEffect:function(r,o){return pd(4194308,4,r,o)},useInsertionEffect:function(r,o){pd(4,2,r,o)},useMemo:function(r,o){var u=ai();o=o===void 0?null:o;var f=r();if(Co){Ce(!0);try{r()}finally{Ce(!1)}}return u.memoizedState=[f,o],f},useReducer:function(r,o,u){var f=ai();if(u!==void 0){var g=u(o);if(Co){Ce(!0);try{u(o)}finally{Ce(!1)}}}else g=o;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=zk.bind(null,zt,r),[f.memoizedState,r]},useRef:function(r){var o=ai();return r={current:r},o.memoizedState=r},useState:function(r){r=hy(r);var o=r.queue,u=Jw.bind(null,zt,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:dy,useDeferredValue:function(r,o){var u=ai();return my(u,r,o)},useTransition:function(){var r=hy(!1);return r=$w.bind(null,zt,r.queue,!0,!1),ai().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var f=zt,g=ai();if(ce){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ae===null)throw Error(i(349));(se&124)!==0||Tw(f,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,Uw(Sw.bind(null,f,v,r),[r]),f.flags|=2048,jl(9,md(),Ew.bind(null,f,v,u,o),null),u},useId:function(){var r=ai(),o=Ae.identifierPrefix;if(ce){var u=dr,f=fr;u=(f&~(1<<32-Pe(f)-1)).toString(32)+u,o=""+o+"R"+u,u=hd++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=Vk++,o=""+o+"r"+u.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:gy,useFormState:Pw,useActionState:Pw,useOptimistic:function(r){var o=ai();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=yy.bind(null,zt,!0,u),u.dispatch=o,[r,o]},useMemoCache:ly,useCacheRefresh:function(){return ai().memoizedState=Fk.bind(null,zt)}},iT={readContext:Hn,use:fd,useCallback:Ww,useContext:Hn,useEffect:Bw,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Yw,useReducer:dd,useRef:jw,useState:function(){return dd(gr)},useDebugValue:dy,useDeferredValue:function(r,o){var u=rn();return Gw(u,xe.memoizedState,r,o)},useTransition:function(){var r=dd(gr)[0],o=rn().memoizedState;return[typeof r=="boolean"?r:wc(r),o]},useSyncExternalStore:ww,useId:Qw,useHostTransitionStatus:gy,useFormState:Nw,useActionState:Nw,useOptimistic:function(r,o){var u=rn();return Cw(u,xe,r,o)},useMemoCache:ly,useCacheRefresh:Zw},Hk={readContext:Hn,use:fd,useCallback:Ww,useContext:Hn,useEffect:Bw,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:zw,useMemo:Yw,useReducer:cy,useRef:jw,useState:function(){return cy(gr)},useDebugValue:dy,useDeferredValue:function(r,o){var u=rn();return xe===null?my(u,r,o):Gw(u,xe.memoizedState,r,o)},useTransition:function(){var r=cy(gr)[0],o=rn().memoizedState;return[typeof r=="boolean"?r:wc(r),o]},useSyncExternalStore:ww,useId:Qw,useHostTransitionStatus:gy,useFormState:Lw,useActionState:Lw,useOptimistic:function(r,o){var u=rn();return xe!==null?Cw(u,xe,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:ly,useCacheRefresh:Zw},Ul=null,Sc=0;function vd(r){var o=Sc;return Sc+=1,Ul===null&&(Ul=[]),mw(Ul,r,o)}function Ac(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function _d(r,o){throw o.$$typeof===y?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function sT(r){var o=r._init;return o(r._payload)}function rT(r){function o(Y,q){if(r){var K=Y.deletions;K===null?(Y.deletions=[q],Y.flags|=16):K.push(q)}}function u(Y,q){if(!r)return null;for(;q!==null;)o(Y,q),q=q.sibling;return null}function f(Y){for(var q=new Map;Y!==null;)Y.key!==null?q.set(Y.key,Y):q.set(Y.index,Y),Y=Y.sibling;return q}function g(Y,q){return Y=hr(Y,q),Y.index=0,Y.sibling=null,Y}function v(Y,q,K){return Y.index=K,r?(K=Y.alternate,K!==null?(K=K.index,K<q?(Y.flags|=67108866,q):K):(Y.flags|=67108866,q)):(Y.flags|=1048576,q)}function R(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,q,K,at){return q===null||q.tag!==6?(q=jg(K,Y.mode,at),q.return=Y,q):(q=g(q,K),q.return=Y,q)}function z(Y,q,K,at){var bt=K.type;return bt===E?rt(Y,q,K.props.children,at,K.key):q!==null&&(q.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&sT(bt)===q.type)?(q=g(q,K.props),Ac(q,K),q.return=Y,q):(q=ed(K.type,K.key,K.props,null,Y.mode,at),Ac(q,K),q.return=Y,q)}function X(Y,q,K,at){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Ug(K,Y.mode,at),q.return=Y,q):(q=g(q,K.children||[]),q.return=Y,q)}function rt(Y,q,K,at,bt){return q===null||q.tag!==7?(q=bo(K,Y.mode,at,bt),q.return=Y,q):(q=g(q,K),q.return=Y,q)}function lt(Y,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=jg(""+q,Y.mode,K),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return K=ed(q.type,q.key,q.props,null,Y.mode,K),Ac(K,q),K.return=Y,K;case x:return q=Ug(q,Y.mode,K),q.return=Y,q;case w:var at=q._init;return q=at(q._payload),lt(Y,q,K)}if(gt(q)||j(q))return q=bo(q,Y.mode,K,null),q.return=Y,q;if(typeof q.then=="function")return lt(Y,vd(q),K);if(q.$$typeof===L)return lt(Y,rd(Y,q),K);_d(Y,q)}return null}function tt(Y,q,K,at){var bt=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return bt!==null?null:O(Y,q,""+K,at);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return K.key===bt?z(Y,q,K,at):null;case x:return K.key===bt?X(Y,q,K,at):null;case w:return bt=K._init,K=bt(K._payload),tt(Y,q,K,at)}if(gt(K)||j(K))return bt!==null?null:rt(Y,q,K,at,null);if(typeof K.then=="function")return tt(Y,q,vd(K),at);if(K.$$typeof===L)return tt(Y,q,rd(Y,K),at);_d(Y,K)}return null}function et(Y,q,K,at,bt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Y=Y.get(K)||null,O(q,Y,""+at,bt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case _:return Y=Y.get(at.key===null?K:at.key)||null,z(q,Y,at,bt);case x:return Y=Y.get(at.key===null?K:at.key)||null,X(q,Y,at,bt);case w:var Wt=at._init;return at=Wt(at._payload),et(Y,q,K,at,bt)}if(gt(at)||j(at))return Y=Y.get(K)||null,rt(q,Y,at,bt,null);if(typeof at.then=="function")return et(Y,q,K,vd(at),bt);if(at.$$typeof===L)return et(Y,q,K,rd(q,at),bt);_d(q,at)}return null}function Mt(Y,q,K,at){for(var bt=null,Wt=null,wt=q,Dt=q=0,En=null;wt!==null&&Dt<K.length;Dt++){wt.index>Dt?(En=wt,wt=null):En=wt.sibling;var le=tt(Y,wt,K[Dt],at);if(le===null){wt===null&&(wt=En);break}r&&wt&&le.alternate===null&&o(Y,wt),q=v(le,q,Dt),Wt===null?bt=le:Wt.sibling=le,Wt=le,wt=En}if(Dt===K.length)return u(Y,wt),ce&&wo(Y,Dt),bt;if(wt===null){for(;Dt<K.length;Dt++)wt=lt(Y,K[Dt],at),wt!==null&&(q=v(wt,q,Dt),Wt===null?bt=wt:Wt.sibling=wt,Wt=wt);return ce&&wo(Y,Dt),bt}for(wt=f(wt);Dt<K.length;Dt++)En=et(wt,Y,Dt,K[Dt],at),En!==null&&(r&&En.alternate!==null&&wt.delete(En.key===null?Dt:En.key),q=v(En,q,Dt),Wt===null?bt=En:Wt.sibling=En,Wt=En);return r&&wt.forEach(function(va){return o(Y,va)}),ce&&wo(Y,Dt),bt}function Ct(Y,q,K,at){if(K==null)throw Error(i(151));for(var bt=null,Wt=null,wt=q,Dt=q=0,En=null,le=K.next();wt!==null&&!le.done;Dt++,le=K.next()){wt.index>Dt?(En=wt,wt=null):En=wt.sibling;var va=tt(Y,wt,le.value,at);if(va===null){wt===null&&(wt=En);break}r&&wt&&va.alternate===null&&o(Y,wt),q=v(va,q,Dt),Wt===null?bt=va:Wt.sibling=va,Wt=va,wt=En}if(le.done)return u(Y,wt),ce&&wo(Y,Dt),bt;if(wt===null){for(;!le.done;Dt++,le=K.next())le=lt(Y,le.value,at),le!==null&&(q=v(le,q,Dt),Wt===null?bt=le:Wt.sibling=le,Wt=le);return ce&&wo(Y,Dt),bt}for(wt=f(wt);!le.done;Dt++,le=K.next())le=et(wt,Y,Dt,le.value,at),le!==null&&(r&&le.alternate!==null&&wt.delete(le.key===null?Dt:le.key),q=v(le,q,Dt),Wt===null?bt=le:Wt.sibling=le,Wt=le);return r&&wt.forEach(function(qP){return o(Y,qP)}),ce&&wo(Y,Dt),bt}function Te(Y,q,K,at){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case _:t:{for(var bt=K.key;q!==null;){if(q.key===bt){if(bt=K.type,bt===E){if(q.tag===7){u(Y,q.sibling),at=g(q,K.props.children),at.return=Y,Y=at;break t}}else if(q.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&sT(bt)===q.type){u(Y,q.sibling),at=g(q,K.props),Ac(at,K),at.return=Y,Y=at;break t}u(Y,q);break}else o(Y,q);q=q.sibling}K.type===E?(at=bo(K.props.children,Y.mode,at,K.key),at.return=Y,Y=at):(at=ed(K.type,K.key,K.props,null,Y.mode,at),Ac(at,K),at.return=Y,Y=at)}return R(Y);case x:t:{for(bt=K.key;q!==null;){if(q.key===bt)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){u(Y,q.sibling),at=g(q,K.children||[]),at.return=Y,Y=at;break t}else{u(Y,q);break}else o(Y,q);q=q.sibling}at=Ug(K,Y.mode,at),at.return=Y,Y=at}return R(Y);case w:return bt=K._init,K=bt(K._payload),Te(Y,q,K,at)}if(gt(K))return Mt(Y,q,K,at);if(j(K)){if(bt=j(K),typeof bt!="function")throw Error(i(150));return K=bt.call(K),Ct(Y,q,K,at)}if(typeof K.then=="function")return Te(Y,q,vd(K),at);if(K.$$typeof===L)return Te(Y,q,rd(Y,K),at);_d(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(u(Y,q.sibling),at=g(q,K),at.return=Y,Y=at):(u(Y,q),at=jg(K,Y.mode,at),at.return=Y,Y=at),R(Y)):u(Y,q)}return function(Y,q,K,at){try{Sc=0;var bt=Te(Y,q,K,at);return Ul=null,bt}catch(wt){if(wt===gc||wt===od)throw wt;var Wt=bi(29,wt,null,Y.mode);return Wt.lanes=at,Wt.return=Y,Wt}finally{}}}var Bl=rT(!0),aT=rT(!1),zi=Q(null),Ps=null;function ia(r){var o=r.alternate;J(pn,pn.current&1),J(zi,r),Ps===null&&(o===null||Nl.current!==null||o.memoizedState!==null)&&(Ps=r)}function oT(r){if(r.tag===22){if(J(pn,pn.current),J(zi,r),Ps===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Ps=r)}}else sa()}function sa(){J(pn,pn.current),J(zi,zi.current)}function yr(r){st(zi),Ps===r&&(Ps=null),st(pn)}var pn=Q(0);function bd(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||ov(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function vy(r,o,u,f){o=r.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var _y={enqueueSetState:function(r,o,u){r=r._reactInternals;var f=Ei(),g=ta(f);g.payload=o,u!=null&&(g.callback=u),o=ea(r,g,f),o!==null&&(Si(o,r,f),vc(o,r,f))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var f=Ei(),g=ta(f);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=ea(r,g,f),o!==null&&(Si(o,r,f),vc(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Ei(),f=ta(u);f.tag=2,o!=null&&(f.callback=o),o=ea(r,f,u),o!==null&&(Si(o,r,u),vc(o,r,u))}};function lT(r,o,u,f,g,v,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,R):o.prototype&&o.prototype.isPureReactComponent?!lc(u,f)||!lc(g,v):!0}function uT(r,o,u,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==r&&_y.enqueueReplaceState(o,o.state,null)}function Do(r,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(r=r.defaultProps){u===o&&(u=p({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}var xd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function cT(r){xd(r)}function hT(r){console.error(r)}function fT(r){xd(r)}function wd(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function dT(r,o,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function by(r,o,u){return u=ta(u),u.tag=3,u.payload={element:null},u.callback=function(){wd(r,o)},u}function mT(r){return r=ta(r),r.tag=3,r}function pT(r,o,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;r.payload=function(){return g(v)},r.callback=function(){dT(o,u,f)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){dT(o,u,f),typeof g!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function qk(r,o,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&dc(o,u,g,!0),u=zi.current,u!==null){switch(u.tag){case 13:return Ps===null?qy():u.alternate===null&&We===0&&(We=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===Kg?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),Yy(r,f,g)),!1;case 22:return u.flags|=65536,f===Kg?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),Yy(r,f,g)),!1}throw Error(i(435,u.tag))}return Yy(r,f,g),qy(),!1}if(ce)return o=zi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==zg&&(r=Error(i(422),{cause:f}),fc(ji(r,u)))):(f!==zg&&(o=Error(i(423),{cause:f}),fc(ji(o,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=ji(f,u),g=by(r.stateNode,f,g),Zg(r,g),We!==4&&(We=2)),!1;var v=Error(i(520),{cause:f});if(v=ji(v,u),kc===null?kc=[v]:kc.push(v),We!==4&&(We=2),o===null)return!0;f=ji(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=by(u.stateNode,f,r),Zg(u,r),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ca===null||!ca.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=mT(g),pT(g,r,u,f),Zg(u,g),!1}u=u.return}while(u!==null);return!1}var gT=Error(i(461)),wn=!1;function Mn(r,o,u,f){o.child=r===null?aT(o,null,u,f):Bl(o,r.child,u,f)}function yT(r,o,u,f,g){u=u.render;var v=o.ref;if("ref"in f){var R={};for(var O in f)O!=="ref"&&(R[O]=f[O])}else R=f;return Ao(o),f=iy(r,o,u,R,v,g),O=sy(),r!==null&&!wn?(ry(r,o,g),vr(r,o,g)):(ce&&O&&Bg(o),o.flags|=1,Mn(r,o,f,g),o.child)}function vT(r,o,u,f,g){if(r===null){var v=u.type;return typeof v=="function"&&!Lg(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,_T(r,o,v,f,g)):(r=ed(u.type,null,f,o,o.mode,g),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Cy(r,g)){var R=v.memoizedProps;if(u=u.compare,u=u!==null?u:lc,u(R,f)&&r.ref===o.ref)return vr(r,o,g)}return o.flags|=1,r=hr(v,f),r.ref=o.ref,r.return=o,o.child=r}function _T(r,o,u,f,g){if(r!==null){var v=r.memoizedProps;if(lc(v,f)&&r.ref===o.ref)if(wn=!1,o.pendingProps=f=v,Cy(r,g))(r.flags&131072)!==0&&(wn=!0);else return o.lanes=r.lanes,vr(r,o,g)}return xy(r,o,u,f,g)}function bT(r,o,u){var f=o.pendingProps,g=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,r!==null){for(g=o.child=r.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~f}else o.childLanes=0,o.child=null;return xT(r,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&ad(o,v!==null?v.cachePool:null),v!==null?_w(o,v):ty(),oT(o);else return o.lanes=o.childLanes=536870912,xT(r,o,v!==null?v.baseLanes|u:u,u)}else v!==null?(ad(o,v.cachePool),_w(o,v),sa(),o.memoizedState=null):(r!==null&&ad(o,null),ty(),sa());return Mn(r,o,g,u),o.child}function xT(r,o,u,f){var g=$g();return g=g===null?null:{parent:mn._currentValue,pool:g},o.memoizedState={baseLanes:u,cachePool:g},r!==null&&ad(o,null),ty(),oT(o),r!==null&&dc(r,o,f,!0),null}function Td(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function xy(r,o,u,f,g){return Ao(o),u=iy(r,o,u,f,void 0,g),f=sy(),r!==null&&!wn?(ry(r,o,g),vr(r,o,g)):(ce&&f&&Bg(o),o.flags|=1,Mn(r,o,u,g),o.child)}function wT(r,o,u,f,g,v){return Ao(o),o.updateQueue=null,u=xw(o,f,u,g),bw(r),f=sy(),r!==null&&!wn?(ry(r,o,v),vr(r,o,v)):(ce&&f&&Bg(o),o.flags|=1,Mn(r,o,u,v),o.child)}function TT(r,o,u,f,g){if(Ao(o),o.stateNode===null){var v=Il,R=u.contextType;typeof R=="object"&&R!==null&&(v=Hn(R)),v=new u(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=_y,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},Xg(o),R=u.contextType,v.context=typeof R=="object"&&R!==null?Hn(R):Il,v.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(vy(o,u,R,f),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(R=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),R!==v.state&&_y.enqueueReplaceState(v,v.state,null),bc(o,f,v,g),_c(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){v=o.stateNode;var O=o.memoizedProps,z=Do(u,O);v.props=z;var X=v.context,rt=u.contextType;R=Il,typeof rt=="object"&&rt!==null&&(R=Hn(rt));var lt=u.getDerivedStateFromProps;rt=typeof lt=="function"||typeof v.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,rt||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(O||X!==R)&&uT(o,v,f,R),Jr=!1;var tt=o.memoizedState;v.state=tt,bc(o,f,v,g),_c(),X=o.memoizedState,O||tt!==X||Jr?(typeof lt=="function"&&(vy(o,u,lt,f),X=o.memoizedState),(z=Jr||lT(o,u,z,f,tt,X,R))?(rt||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),v.props=f,v.state=X,v.context=R,f=z):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,Qg(r,o),R=o.memoizedProps,rt=Do(u,R),v.props=rt,lt=o.pendingProps,tt=v.context,X=u.contextType,z=Il,typeof X=="object"&&X!==null&&(z=Hn(X)),O=u.getDerivedStateFromProps,(X=typeof O=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==lt||tt!==z)&&uT(o,v,f,z),Jr=!1,tt=o.memoizedState,v.state=tt,bc(o,f,v,g),_c();var et=o.memoizedState;R!==lt||tt!==et||Jr||r!==null&&r.dependencies!==null&&sd(r.dependencies)?(typeof O=="function"&&(vy(o,u,O,f),et=o.memoizedState),(rt=Jr||lT(o,u,rt,f,tt,et,z)||r!==null&&r.dependencies!==null&&sd(r.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,et,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,et,z)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&tt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&tt===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=et),v.props=f,v.state=et,v.context=z,f=rt):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&tt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&tt===r.memoizedState||(o.flags|=1024),f=!1)}return v=f,Td(r,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&f?(o.child=Bl(o,r.child,null,g),o.child=Bl(o,null,u,g)):Mn(r,o,u,g),o.memoizedState=v.state,r=o.child):r=vr(r,o,g),r}function ET(r,o,u,f){return hc(),o.flags|=256,Mn(r,o,u,f),o.child}var wy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ty(r){return{baseLanes:r,cachePool:hw()}}function Ey(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=Hi),r}function ST(r,o,u){var f=o.pendingProps,g=!1,v=(o.flags&128)!==0,R;if((R=v)||(R=r!==null&&r.memoizedState===null?!1:(pn.current&2)!==0),R&&(g=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(ce){if(g?ia(o):sa(),ce){var O=qe,z;if(z=O){t:{for(z=O,O=ks;z.nodeType!==8;){if(!O){O=null;break t}if(z=ls(z.nextSibling),z===null){O=null;break t}}O=z}O!==null?(o.memoizedState={dehydrated:O,treeContext:xo!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},z=bi(18,null,null,0),z.stateNode=O,z.return=o,o.child=z,ei=o,qe=null,z=!0):z=!1}z||Eo(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return ov(O)?o.lanes=32:o.lanes=536870912,null;yr(o)}return O=f.children,f=f.fallback,g?(sa(),g=o.mode,O=Ed({mode:"hidden",children:O},g),f=bo(f,g,u,null),O.return=o,f.return=o,O.sibling=f,o.child=O,g=o.child,g.memoizedState=Ty(u),g.childLanes=Ey(r,R,u),o.memoizedState=wy,f):(ia(o),Sy(o,O))}if(z=r.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(v)o.flags&256?(ia(o),o.flags&=-257,o=Ay(r,o,u)):o.memoizedState!==null?(sa(),o.child=r.child,o.flags|=128,o=null):(sa(),g=f.fallback,O=o.mode,f=Ed({mode:"visible",children:f.children},O),g=bo(g,O,u,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,Bl(o,r.child,null,u),f=o.child,f.memoizedState=Ty(u),f.childLanes=Ey(r,R,u),o.memoizedState=wy,o=g);else if(ia(o),ov(O)){if(R=O.nextSibling&&O.nextSibling.dataset,R)var X=R.dgst;R=X,f=Error(i(419)),f.stack="",f.digest=R,fc({value:f,source:null,stack:null}),o=Ay(r,o,u)}else if(wn||dc(r,o,u,!1),R=(u&r.childLanes)!==0,wn||R){if(R=Ae,R!==null&&(f=u&-u,f=(f&42)!==0?1:oe(f),f=(f&(R.suspendedLanes|u))!==0?0:f,f!==0&&f!==z.retryLane))throw z.retryLane=f,Dl(r,f),Si(R,r,f),gT;O.data==="$?"||qy(),o=Ay(r,o,u)}else O.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=z.treeContext,qe=ls(O.nextSibling),ei=o,ce=!0,To=null,ks=!1,r!==null&&(Bi[Fi++]=fr,Bi[Fi++]=dr,Bi[Fi++]=xo,fr=r.id,dr=r.overflow,xo=o),o=Sy(o,f.children),o.flags|=4096);return o}return g?(sa(),g=f.fallback,O=o.mode,z=r.child,X=z.sibling,f=hr(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?g=hr(X,g):(g=bo(g,O,u,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,O=r.child.memoizedState,O===null?O=Ty(u):(z=O.cachePool,z!==null?(X=mn._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=hw(),O={baseLanes:O.baseLanes|u,cachePool:z}),g.memoizedState=O,g.childLanes=Ey(r,R,u),o.memoizedState=wy,f):(ia(o),u=r.child,r=u.sibling,u=hr(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=u,o.memoizedState=null,u)}function Sy(r,o){return o=Ed({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Ed(r,o){return r=bi(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ay(r,o,u){return Bl(o,r.child,null,u),r=Sy(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function AT(r,o,u){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),qg(r.return,o,u)}function Ry(r,o,u,f,g){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function RT(r,o,u){var f=o.pendingProps,g=f.revealOrder,v=f.tail;if(Mn(r,o,f.children,u),f=pn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&AT(r,u,o);else if(r.tag===19)AT(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(J(pn,f),g){case"forwards":for(u=o.child,g=null;u!==null;)r=u.alternate,r!==null&&bd(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Ry(o,!1,g,u,v);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(r=g.alternate,r!==null&&bd(r)===null){o.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Ry(o,!0,u,null,v);break;case"together":Ry(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function vr(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),ua|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(dc(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=hr(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=hr(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function Cy(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&sd(r)))}function Wk(r,o,u){switch(o.tag){case 3:_t(o,o.stateNode.containerInfo),Zr(o,mn,r.memoizedState.cache),hc();break;case 27:case 5:te(o);break;case 4:_t(o,o.stateNode.containerInfo);break;case 10:Zr(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(ia(o),o.flags|=128,null):(u&o.child.childLanes)!==0?ST(r,o,u):(ia(o),r=vr(r,o,u),r!==null?r.sibling:null);ia(o);break;case 19:var g=(r.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(dc(r,o,u,!1),f=(u&o.childLanes)!==0),g){if(f)return RT(r,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(pn,pn.current),f)break;return null;case 22:case 23:return o.lanes=0,bT(r,o,u);case 24:Zr(o,mn,r.memoizedState.cache)}return vr(r,o,u)}function CT(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)wn=!0;else{if(!Cy(r,u)&&(o.flags&128)===0)return wn=!1,Wk(r,o,u);wn=(r.flags&131072)!==0}else wn=!1,ce&&(o.flags&1048576)!==0&&sw(o,id,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")Lg(f)?(r=Do(f,r),o.tag=1,o=TT(null,o,f,r,u)):(o.tag=0,o=xy(null,o,f,r,u));else{if(f!=null){if(g=f.$$typeof,g===H){o.tag=11,o=yT(null,o,f,r,u);break t}else if(g===N){o.tag=14,o=vT(null,o,f,r,u);break t}}throw o=xt(f)||f,Error(i(306,o,""))}}return o;case 0:return xy(r,o,o.type,o.pendingProps,u);case 1:return f=o.type,g=Do(f,o.pendingProps),TT(r,o,f,g,u);case 3:t:{if(_t(o,o.stateNode.containerInfo),r===null)throw Error(i(387));f=o.pendingProps;var v=o.memoizedState;g=v.element,Qg(r,o),bc(o,f,null,u);var R=o.memoizedState;if(f=R.cache,Zr(o,mn,f),f!==v.cache&&Wg(o,[mn],u,!0),_c(),f=R.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=ET(r,o,f,u);break t}else if(f!==g){g=ji(Error(i(424)),o),fc(g),o=ET(r,o,f,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(qe=ls(r.firstChild),ei=o,ce=!0,To=null,ks=!0,u=aT(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(hc(),f===g){o=vr(r,o,u);break t}Mn(r,o,f,u)}o=o.child}return o;case 26:return Td(r,o),r===null?(u=ME(o.type,null,o.pendingProps,null))?o.memoizedState=u:ce||(u=o.type,r=o.pendingProps,f=jd(mt.current).createElement(u),f[He]=o,f[Ne]=r,Pn(f,u,r),Ut(f),o.stateNode=f):o.memoizedState=ME(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return te(o),r===null&&ce&&(f=o.stateNode=DE(o.type,o.pendingProps,mt.current),ei=o,ks=!0,g=qe,da(o.type)?(lv=g,qe=ls(f.firstChild)):qe=g),Mn(r,o,o.pendingProps.children,u),Td(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&ce&&((g=f=qe)&&(f=_P(f,o.type,o.pendingProps,ks),f!==null?(o.stateNode=f,ei=o,qe=ls(f.firstChild),ks=!1,g=!0):g=!1),g||Eo(o)),te(o),g=o.type,v=o.pendingProps,R=r!==null?r.memoizedProps:null,f=v.children,sv(g,v)?f=null:R!==null&&sv(g,R)&&(o.flags|=32),o.memoizedState!==null&&(g=iy(r,o,Lk,null,null,u),zc._currentValue=g),Td(r,o),Mn(r,o,f,u),o.child;case 6:return r===null&&ce&&((r=u=qe)&&(u=bP(u,o.pendingProps,ks),u!==null?(o.stateNode=u,ei=o,qe=null,r=!0):r=!1),r||Eo(o)),null;case 13:return ST(r,o,u);case 4:return _t(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Bl(o,null,f,u):Mn(r,o,f,u),o.child;case 11:return yT(r,o,o.type,o.pendingProps,u);case 7:return Mn(r,o,o.pendingProps,u),o.child;case 8:return Mn(r,o,o.pendingProps.children,u),o.child;case 12:return Mn(r,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,Zr(o,o.type,f.value),Mn(r,o,f.children,u),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,Ao(o),g=Hn(g),f=f(g),o.flags|=1,Mn(r,o,f,u),o.child;case 14:return vT(r,o,o.type,o.pendingProps,u);case 15:return _T(r,o,o.type,o.pendingProps,u);case 19:return RT(r,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},r===null?(u=Ed(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=hr(r.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return bT(r,o,u);case 24:return Ao(o),f=Hn(mn),r===null?(g=$g(),g===null&&(g=Ae,v=Yg(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),o.memoizedState={parent:f,cache:g},Xg(o),Zr(o,mn,g)):((r.lanes&u)!==0&&(Qg(r,o),bc(o,null,null,u),_c()),g=r.memoizedState,v=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Zr(o,mn,f)):(f=v.cache,Zr(o,mn,f),f!==g.cache&&Wg(o,[mn],u,!0))),Mn(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function _r(r){r.flags|=4}function DT(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!LE(o)){if(o=zi.current,o!==null&&((se&4194048)===se?Ps!==null:(se&62914560)!==se&&(se&536870912)===0||o!==Ps))throw yc=Kg,fw;r.flags|=8192}}function Sd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Gr():536870912,r.lanes|=o,ql|=o)}function Rc(r,o){if(!ce)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ue(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(o)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,o}function Yk(r,o,u){var f=o.pendingProps;switch(Fg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(o),null;case 1:return Ue(o),null;case 3:return u=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),pr(mn),At(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(cc(o)?_r(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ow())),Ue(o),null;case 26:return u=o.memoizedState,r===null?(_r(o),u!==null?(Ue(o),DT(o,u)):(Ue(o),o.flags&=-16777217)):u?u!==r.memoizedState?(_r(o),Ue(o),DT(o,u)):(Ue(o),o.flags&=-16777217):(r.memoizedProps!==f&&_r(o),Ue(o),o.flags&=-16777217),null;case 27:Rt(o),u=mt.current;var g=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&_r(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ue(o),null}r=ft.current,cc(o)?rw(o):(r=DE(g,f,u),o.stateNode=r,_r(o))}return Ue(o),null;case 5:if(Rt(o),u=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&_r(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Ue(o),null}if(r=ft.current,cc(o))rw(o);else{switch(g=jd(mt.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(u,{is:f.is}):g.createElement(u)}}r[He]=o,r[Ne]=f;t:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=r;t:switch(Pn(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&_r(o)}}return Ue(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&_r(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(r=mt.current,cc(o)){if(r=o.stateNode,u=o.memoizedProps,f=null,g=ei,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[He]=o,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||wE(r.nodeValue,u)),r||Eo(o)}else r=jd(r).createTextNode(f),r[He]=o,o.stateNode=r}return Ue(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=cc(o),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[He]=o}else hc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ue(o),g=!1}else g=ow(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(yr(o),o):(yr(o),null)}if(yr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)}return u!==r&&u&&(o.child.flags|=8192),Sd(o,o.updateQueue),Ue(o),null;case 4:return At(),r===null&&Jy(o.stateNode.containerInfo),Ue(o),null;case 10:return pr(o.type),Ue(o),null;case 19:if(st(pn),g=o.memoizedState,g===null)return Ue(o),null;if(f=(o.flags&128)!==0,v=g.rendering,v===null)if(f)Rc(g,!1);else{if(We!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=bd(r),v!==null){for(o.flags|=128,Rc(g,!1),r=v.updateQueue,o.updateQueue=r,Sd(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)iw(u,r),u=u.sibling;return J(pn,pn.current&1|2),o.child}r=r.sibling}g.tail!==null&&ee()>Cd&&(o.flags|=128,f=!0,Rc(g,!1),o.lanes=4194304)}else{if(!f)if(r=bd(v),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,Sd(o,r),Rc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ce)return Ue(o),null}else 2*ee()-g.renderingStartTime>Cd&&u!==536870912&&(o.flags|=128,f=!0,Rc(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(r=g.last,r!==null?r.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=ee(),o.sibling=null,r=pn.current,J(pn,f?r&1|2:r&1),o):(Ue(o),null);case 22:case 23:return yr(o),ey(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Ue(o),o.subtreeFlags&6&&(o.flags|=8192)):Ue(o),u=o.updateQueue,u!==null&&Sd(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),r!==null&&st(Ro),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),pr(mn),Ue(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Gk(r,o){switch(Fg(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return pr(mn),At(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Rt(o),null;case 13:if(yr(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));hc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return st(pn),null;case 4:return At(),null;case 10:return pr(o.type),null;case 22:case 23:return yr(o),ey(),r!==null&&st(Ro),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return pr(mn),null;case 25:return null;default:return null}}function IT(r,o){switch(Fg(o),o.tag){case 3:pr(mn),At();break;case 26:case 27:case 5:Rt(o);break;case 4:At();break;case 13:yr(o);break;case 19:st(pn);break;case 10:pr(o.type);break;case 22:case 23:yr(o),ey(),r!==null&&st(Ro);break;case 24:pr(mn)}}function Cc(r,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var v=u.create,R=u.inst;f=v(),R.destroy=f}u=u.next}while(u!==g)}}catch(O){Se(o,o.return,O)}}function ra(r,o,u){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&r)===r){var R=f.inst,O=R.destroy;if(O!==void 0){R.destroy=void 0,g=o;var z=u,X=O;try{X()}catch(rt){Se(g,z,rt)}}}f=f.next}while(f!==v)}}catch(rt){Se(o,o.return,rt)}}function OT(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{vw(o,u)}catch(f){Se(r,r.return,f)}}}function MT(r,o,u){u.props=Do(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){Se(r,o,f)}}function Dc(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){Se(r,o,g)}}function Ns(r,o){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){Se(r,o,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Se(r,o,g)}else u.current=null}function kT(r){var o=r.type,u=r.memoizedProps,f=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){Se(r,r.return,g)}}function Dy(r,o,u){try{var f=r.stateNode;mP(f,r.type,u,o),f[Ne]=o}catch(g){Se(r,r.return,g)}}function PT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function Iy(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||PT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Oy(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ld));else if(f!==4&&(f===27&&da(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Oy(r,o,u),r=r.sibling;r!==null;)Oy(r,o,u),r=r.sibling}function Ad(r,o,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(f!==4&&(f===27&&da(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Ad(r,o,u),r=r.sibling;r!==null;)Ad(r,o,u),r=r.sibling}function NT(r){var o=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Pn(o,f,u),o[He]=r,o[Ne]=u}catch(v){Se(r,r.return,v)}}var br=!1,Xe=!1,My=!1,VT=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function $k(r,o){if(r=r.containerInfo,nv=qd,r=Gx(r),Ig(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var R=0,O=-1,z=-1,X=0,rt=0,lt=r,tt=null;e:for(;;){for(var et;lt!==u||g!==0&&lt.nodeType!==3||(O=R+g),lt!==v||f!==0&&lt.nodeType!==3||(z=R+f),lt.nodeType===3&&(R+=lt.nodeValue.length),(et=lt.firstChild)!==null;)tt=lt,lt=et;for(;;){if(lt===r)break e;if(tt===u&&++X===g&&(O=R),tt===v&&++rt===f&&(z=R),(et=lt.nextSibling)!==null)break;lt=tt,tt=lt.parentNode}lt=et}u=O===-1||z===-1?null:{start:O,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(iv={focusedElem:r,selectionRange:u},qd=!1,Tn=o;Tn!==null;)if(o=Tn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,Tn=r;else for(;Tn!==null;){switch(o=Tn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,u=o,g=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Mt=Do(u.type,g,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(Mt,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(Ct){Se(u,u.return,Ct)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)av(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":av(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Tn=r;break}Tn=o.return}}function LT(r,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:aa(r,u),f&4&&Cc(5,u);break;case 1:if(aa(r,u),f&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(R){Se(u,u.return,R)}else{var g=Do(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(g,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Se(u,u.return,R)}}f&64&&OT(u),f&512&&Dc(u,u.return);break;case 3:if(aa(r,u),f&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{vw(r,o)}catch(R){Se(u,u.return,R)}}break;case 27:o===null&&f&4&&NT(u);case 26:case 5:aa(r,u),o===null&&f&4&&kT(u),f&512&&Dc(u,u.return);break;case 12:aa(r,u);break;case 13:aa(r,u),f&4&&BT(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=iP.bind(null,u),xP(r,u))));break;case 22:if(f=u.memoizedState!==null||br,!f){o=o!==null&&o.memoizedState!==null||Xe,g=br;var v=Xe;br=f,(Xe=o)&&!v?oa(r,u,(u.subtreeFlags&8772)!==0):aa(r,u),br=g,Xe=v}break;case 30:break;default:aa(r,u)}}function jT(r){var o=r.alternate;o!==null&&(r.alternate=null,jT(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&ns(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ve=null,oi=!1;function xr(r,o,u){for(u=u.child;u!==null;)UT(r,o,u),u=u.sibling}function UT(r,o,u){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(jt,u)}catch{}switch(u.tag){case 26:Xe||Ns(u,o),xr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Xe||Ns(u,o);var f=Ve,g=oi;da(u.type)&&(Ve=u.stateNode,oi=!1),xr(r,o,u),jc(u.stateNode),Ve=f,oi=g;break;case 5:Xe||Ns(u,o);case 6:if(f=Ve,g=oi,Ve=null,xr(r,o,u),Ve=f,oi=g,Ve!==null)if(oi)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(u.stateNode)}catch(v){Se(u,o,v)}else try{Ve.removeChild(u.stateNode)}catch(v){Se(u,o,v)}break;case 18:Ve!==null&&(oi?(r=Ve,RE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Yc(r)):RE(Ve,u.stateNode));break;case 4:f=Ve,g=oi,Ve=u.stateNode.containerInfo,oi=!0,xr(r,o,u),Ve=f,oi=g;break;case 0:case 11:case 14:case 15:Xe||ra(2,u,o),Xe||ra(4,u,o),xr(r,o,u);break;case 1:Xe||(Ns(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&MT(u,o,f)),xr(r,o,u);break;case 21:xr(r,o,u);break;case 22:Xe=(f=Xe)||u.memoizedState!==null,xr(r,o,u),Xe=f;break;default:xr(r,o,u)}}function BT(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Yc(r)}catch(u){Se(o,o.return,u)}}function Kk(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new VT),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new VT),o;default:throw Error(i(435,r.tag))}}function ky(r,o){var u=Kk(r);o.forEach(function(f){var g=sP.bind(null,r,f);u.has(f)||(u.add(f),f.then(g,g))})}function xi(r,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],v=r,R=o,O=R;t:for(;O!==null;){switch(O.tag){case 27:if(da(O.type)){Ve=O.stateNode,oi=!1;break t}break;case 5:Ve=O.stateNode,oi=!1;break t;case 3:case 4:Ve=O.stateNode.containerInfo,oi=!0;break t}O=O.return}if(Ve===null)throw Error(i(160));UT(v,R,g),Ve=null,oi=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)FT(o,r),o=o.sibling}var os=null;function FT(r,o){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:xi(o,r),wi(r),f&4&&(ra(3,r,r.return),Cc(3,r),ra(5,r,r.return));break;case 1:xi(o,r),wi(r),f&512&&(Xe||u===null||Ns(u,u.return)),f&64&&br&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=os;if(xi(o,r),wi(r),f&512&&(Xe||u===null||Ns(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){t:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;e:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[es]||v[He]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),Pn(v,f,u),v[He]=r,Ut(v),f=v;break t;case"link":var R=NE("link","href",g).get(f+(u.href||""));if(R){for(var O=0;O<R.length;O++)if(v=R[O],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(O,1);break e}}v=g.createElement(f),Pn(v,f,u),g.head.appendChild(v);break;case"meta":if(R=NE("meta","content",g).get(f+(u.content||""))){for(O=0;O<R.length;O++)if(v=R[O],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(O,1);break e}}v=g.createElement(f),Pn(v,f,u),g.head.appendChild(v);break;default:throw Error(i(468,f))}v[He]=r,Ut(v),f=v}r.stateNode=f}else VE(g,r.type,r.stateNode);else r.stateNode=PE(g,f,r.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?VE(g,r.type,r.stateNode):PE(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Dy(r,r.memoizedProps,u.memoizedProps)}break;case 27:xi(o,r),wi(r),f&512&&(Xe||u===null||Ns(u,u.return)),u!==null&&f&4&&Dy(r,r.memoizedProps,u.memoizedProps);break;case 5:if(xi(o,r),wi(r),f&512&&(Xe||u===null||Ns(u,u.return)),r.flags&32){g=r.stateNode;try{Pi(g,"")}catch(et){Se(r,r.return,et)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Dy(r,g,u!==null?u.memoizedProps:g)),f&1024&&(My=!0);break;case 6:if(xi(o,r),wi(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(et){Se(r,r.return,et)}}break;case 3:if(Fd=null,g=os,os=Ud(o.containerInfo),xi(o,r),os=g,wi(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Yc(o.containerInfo)}catch(et){Se(r,r.return,et)}My&&(My=!1,zT(r));break;case 4:f=os,os=Ud(r.stateNode.containerInfo),xi(o,r),wi(r),os=f;break;case 12:xi(o,r),wi(r);break;case 13:xi(o,r),wi(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uy=ee()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ky(r,f)));break;case 22:g=r.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,X=br,rt=Xe;if(br=X||g,Xe=rt||z,xi(o,r),Xe=rt,br=X,wi(r),f&8192)t:for(o=r.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||z||br||Xe||Io(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){z=u=o;try{if(v=z.stateNode,g)R=v.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{O=z.stateNode;var lt=z.memoizedProps.style,tt=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;O.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(et){Se(z,z.return,et)}}}else if(o.tag===6){if(u===null){z=o;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(et){Se(z,z.return,et)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,ky(r,u))));break;case 19:xi(o,r),wi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,ky(r,f)));break;case 30:break;case 21:break;default:xi(o,r),wi(r)}}function wi(r){var o=r.flags;if(o&2){try{for(var u,f=r.return;f!==null;){if(PT(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=Iy(r);Ad(r,v,g);break;case 5:var R=u.stateNode;u.flags&32&&(Pi(R,""),u.flags&=-33);var O=Iy(r);Ad(r,O,R);break;case 3:case 4:var z=u.stateNode.containerInfo,X=Iy(r);Oy(r,X,z);break;default:throw Error(i(161))}}catch(rt){Se(r,r.return,rt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function zT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;zT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function aa(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)LT(r,o.alternate,o),o=o.sibling}function Io(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:ra(4,o,o.return),Io(o);break;case 1:Ns(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&MT(o,o.return,u),Io(o);break;case 27:jc(o.stateNode);case 26:case 5:Ns(o,o.return),Io(o);break;case 22:o.memoizedState===null&&Io(o);break;case 30:Io(o);break;default:Io(o)}r=r.sibling}}function oa(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=r,v=o,R=v.flags;switch(v.tag){case 0:case 11:case 15:oa(g,v,u),Cc(4,v);break;case 1:if(oa(g,v,u),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){Se(f,f.return,X)}if(f=v,g=f.updateQueue,g!==null){var O=f.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)yw(z[g],O)}catch(X){Se(f,f.return,X)}}u&&R&64&&OT(v),Dc(v,v.return);break;case 27:NT(v);case 26:case 5:oa(g,v,u),u&&f===null&&R&4&&kT(v),Dc(v,v.return);break;case 12:oa(g,v,u);break;case 13:oa(g,v,u),u&&R&4&&BT(g,v);break;case 22:v.memoizedState===null&&oa(g,v,u),Dc(v,v.return);break;case 30:break;default:oa(g,v,u)}o=o.sibling}}function Py(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&mc(u))}function Ny(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&mc(r))}function Vs(r,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HT(r,o,u,f),o=o.sibling}function HT(r,o,u,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(r,o,u,f),g&2048&&Cc(9,o);break;case 1:Vs(r,o,u,f);break;case 3:Vs(r,o,u,f),g&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&mc(r)));break;case 12:if(g&2048){Vs(r,o,u,f),r=o.stateNode;try{var v=o.memoizedProps,R=v.id,O=v.onPostCommit;typeof O=="function"&&O(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){Se(o,o.return,z)}}else Vs(r,o,u,f);break;case 13:Vs(r,o,u,f);break;case 23:break;case 22:v=o.stateNode,R=o.alternate,o.memoizedState!==null?v._visibility&2?Vs(r,o,u,f):Ic(r,o):v._visibility&2?Vs(r,o,u,f):(v._visibility|=2,Fl(r,o,u,f,(o.subtreeFlags&10256)!==0)),g&2048&&Py(R,o);break;case 24:Vs(r,o,u,f),g&2048&&Ny(o.alternate,o);break;default:Vs(r,o,u,f)}}function Fl(r,o,u,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,R=o,O=u,z=f,X=R.flags;switch(R.tag){case 0:case 11:case 15:Fl(v,R,O,z,g),Cc(8,R);break;case 23:break;case 22:var rt=R.stateNode;R.memoizedState!==null?rt._visibility&2?Fl(v,R,O,z,g):Ic(v,R):(rt._visibility|=2,Fl(v,R,O,z,g)),g&&X&2048&&Py(R.alternate,R);break;case 24:Fl(v,R,O,z,g),g&&X&2048&&Ny(R.alternate,R);break;default:Fl(v,R,O,z,g)}o=o.sibling}}function Ic(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,f=o,g=f.flags;switch(f.tag){case 22:Ic(u,f),g&2048&&Py(f.alternate,f);break;case 24:Ic(u,f),g&2048&&Ny(f.alternate,f);break;default:Ic(u,f)}o=o.sibling}}var Oc=8192;function zl(r){if(r.subtreeFlags&Oc)for(r=r.child;r!==null;)qT(r),r=r.sibling}function qT(r){switch(r.tag){case 26:zl(r),r.flags&Oc&&r.memoizedState!==null&&PP(os,r.memoizedState,r.memoizedProps);break;case 5:zl(r);break;case 3:case 4:var o=os;os=Ud(r.stateNode.containerInfo),zl(r),os=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Oc,Oc=16777216,zl(r),Oc=o):zl(r));break;default:zl(r)}}function WT(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Mc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Tn=f,GT(f,r)}WT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)YT(r),r=r.sibling}function YT(r){switch(r.tag){case 0:case 11:case 15:Mc(r),r.flags&2048&&ra(9,r,r.return);break;case 3:Mc(r);break;case 12:Mc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Rd(r)):Mc(r);break;default:Mc(r)}}function Rd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Tn=f,GT(f,r)}WT(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:ra(8,o,o.return),Rd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Rd(o));break;default:Rd(o)}r=r.sibling}}function GT(r,o){for(;Tn!==null;){var u=Tn;switch(u.tag){case 0:case 11:case 15:ra(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:mc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Tn=f;else t:for(u=r;Tn!==null;){f=Tn;var g=f.sibling,v=f.return;if(jT(f),f===u){Tn=null;break t}if(g!==null){g.return=v,Tn=g;break t}Tn=v}}}var Xk={getCacheForType:function(r){var o=Hn(mn),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u}},Qk=typeof WeakMap=="function"?WeakMap:Map,me=0,Ae=null,Kt=null,se=0,pe=0,Ti=null,la=!1,Hl=!1,Vy=!1,wr=0,We=0,ua=0,Oo=0,Ly=0,Hi=0,ql=0,kc=null,li=null,jy=!1,Uy=0,Cd=1/0,Dd=null,ca=null,kn=0,ha=null,Wl=null,Yl=0,By=0,Fy=null,$T=null,Pc=0,zy=null;function Ei(){if((me&2)!==0&&se!==0)return se&-se;if(G.T!==null){var r=kl;return r!==0?r:Ky()}return Es()}function KT(){Hi===0&&(Hi=(se&536870912)===0||ce?no():536870912);var r=zi.current;return r!==null&&(r.flags|=32),Hi}function Si(r,o,u){(r===Ae&&(pe===2||pe===9)||r.cancelPendingCommit!==null)&&(Gl(r,0),fa(r,se,Hi,!1)),Oi(r,u),((me&2)===0||r!==Ae)&&(r===Ae&&((me&2)===0&&(Oo|=u),We===4&&fa(r,se,Hi,!1)),Ls(r))}function XT(r,o,u){if((me&6)!==0)throw Error(i(327));var f=!u&&(o&124)===0&&(o&r.expiredLanes)===0||ws(r,o),g=f?tP(r,o):Wy(r,o,!0),v=f;do{if(g===0){Hl&&!f&&fa(r,o,0,!1);break}else{if(u=r.current.alternate,v&&!Zk(u)){g=Wy(r,o,!1),v=!1;continue}if(g===2){if(v=o,r.errorRecoveryDisabledLanes&v)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;t:{var O=r;g=kc;var z=O.current.memoizedState.isDehydrated;if(z&&(Gl(O,R).flags|=256),R=Wy(O,R,!1),R!==2){if(Vy&&!z){O.errorRecoveryDisabledLanes|=v,Oo|=v,g=4;break t}v=li,li=g,v!==null&&(li===null?li=v:li.push.apply(li,v))}g=R}if(v=!1,g!==2)continue}}if(g===1){Gl(r,0),fa(r,o,0,!0);break}t:{switch(f=r,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:fa(f,o,Hi,!la);break t;case 2:li=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Uy+300-ee(),10<g)){if(fa(f,o,Hi,!la),tr(f,0,!0)!==0)break t;f.timeoutHandle=SE(QT.bind(null,f,u,li,Dd,jy,o,Hi,Oo,ql,la,v,2,-0,0),g);break t}QT(f,u,li,Dd,jy,o,Hi,Oo,ql,la,v,0,-0,0)}}break}while(!0);Ls(r)}function QT(r,o,u,f,g,v,R,O,z,X,rt,lt,tt,et){if(r.timeoutHandle=-1,lt=o.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:kP},qT(o),lt=NP(),lt!==null)){r.cancelPendingCommit=lt(sE.bind(null,r,o,v,u,f,g,R,O,z,rt,1,tt,et)),fa(r,v,R,!X);return}sE(r,o,v,u,f,g,R,O,z)}function Zk(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!_i(v(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fa(r,o,u,f){o&=~Ly,o&=~Oo,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var g=o;0<g;){var v=31-Pe(g),R=1<<v;f[v]=-1,g&=~R}u!==0&&De(r,u,o)}function Id(){return(me&6)===0?(Nc(0),!1):!0}function Hy(){if(Kt!==null){if(pe===0)var r=Kt.return;else r=Kt,mr=So=null,ay(r),Ul=null,Sc=0,r=Kt;for(;r!==null;)IT(r.alternate,r),r=r.return;Kt=null}}function Gl(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,gP(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),Hy(),Ae=r,Kt=u=hr(r.current,null),se=o,pe=0,Ti=null,la=!1,Hl=ws(r,o),Vy=!1,ql=Hi=Ly=Oo=ua=We=0,li=kc=null,jy=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var g=31-Pe(f),v=1<<g;o|=r[g],f&=~v}return wr=o,Zf(),u}function ZT(r,o){zt=null,G.H=yd,o===gc||o===od?(o=pw(),pe=3):o===fw?(o=pw(),pe=4):pe=o===gT?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ti=o,Kt===null&&(We=1,wd(r,ji(o,r.current)))}function JT(){var r=G.H;return G.H=yd,r===null?yd:r}function tE(){var r=G.A;return G.A=Xk,r}function qy(){We=4,la||(se&4194048)!==se&&zi.current!==null||(Hl=!0),(ua&134217727)===0&&(Oo&134217727)===0||Ae===null||fa(Ae,se,Hi,!1)}function Wy(r,o,u){var f=me;me|=2;var g=JT(),v=tE();(Ae!==r||se!==o)&&(Dd=null,Gl(r,o)),o=!1;var R=We;t:do try{if(pe!==0&&Kt!==null){var O=Kt,z=Ti;switch(pe){case 8:Hy(),R=6;break t;case 3:case 2:case 9:case 6:zi.current===null&&(o=!0);var X=pe;if(pe=0,Ti=null,$l(r,O,z,X),u&&Hl){R=0;break t}break;default:X=pe,pe=0,Ti=null,$l(r,O,z,X)}}Jk(),R=We;break}catch(rt){ZT(r,rt)}while(!0);return o&&r.shellSuspendCounter++,mr=So=null,me=f,G.H=g,G.A=v,Kt===null&&(Ae=null,se=0,Zf()),R}function Jk(){for(;Kt!==null;)eE(Kt)}function tP(r,o){var u=me;me|=2;var f=JT(),g=tE();Ae!==r||se!==o?(Dd=null,Cd=ee()+500,Gl(r,o)):Hl=ws(r,o);t:do try{if(pe!==0&&Kt!==null){o=Kt;var v=Ti;e:switch(pe){case 1:pe=0,Ti=null,$l(r,o,v,1);break;case 2:case 9:if(dw(v)){pe=0,Ti=null,nE(o);break}o=function(){pe!==2&&pe!==9||Ae!==r||(pe=7),Ls(r)},v.then(o,o);break t;case 3:pe=7;break t;case 4:pe=5;break t;case 7:dw(v)?(pe=0,Ti=null,nE(o)):(pe=0,Ti=null,$l(r,o,v,7));break;case 5:var R=null;switch(Kt.tag){case 26:R=Kt.memoizedState;case 5:case 27:var O=Kt;if(!R||LE(R)){pe=0,Ti=null;var z=O.sibling;if(z!==null)Kt=z;else{var X=O.return;X!==null?(Kt=X,Od(X)):Kt=null}break e}}pe=0,Ti=null,$l(r,o,v,5);break;case 6:pe=0,Ti=null,$l(r,o,v,6);break;case 8:Hy(),We=6;break t;default:throw Error(i(462))}}eP();break}catch(rt){ZT(r,rt)}while(!0);return mr=So=null,G.H=f,G.A=g,me=u,Kt!==null?0:(Ae=null,se=0,Zf(),We)}function eP(){for(;Kt!==null&&!Ft();)eE(Kt)}function eE(r){var o=CT(r.alternate,r,wr);r.memoizedProps=r.pendingProps,o===null?Od(r):Kt=o}function nE(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=wT(u,o,o.pendingProps,o.type,void 0,se);break;case 11:o=wT(u,o,o.pendingProps,o.type.render,o.ref,se);break;case 5:ay(o);default:IT(u,o),o=Kt=iw(o,wr),o=CT(u,o,wr)}r.memoizedProps=r.pendingProps,o===null?Od(r):Kt=o}function $l(r,o,u,f){mr=So=null,ay(o),Ul=null,Sc=0;var g=o.return;try{if(qk(r,g,o,u,se)){We=1,wd(r,ji(u,r.current)),Kt=null;return}}catch(v){if(g!==null)throw Kt=g,v;We=1,wd(r,ji(u,r.current)),Kt=null;return}o.flags&32768?(ce||f===1?r=!0:Hl||(se&536870912)!==0?r=!1:(la=r=!0,(f===2||f===9||f===3||f===6)&&(f=zi.current,f!==null&&f.tag===13&&(f.flags|=16384))),iE(o,r)):Od(o)}function Od(r){var o=r;do{if((o.flags&32768)!==0){iE(o,la);return}r=o.return;var u=Yk(o.alternate,o,wr);if(u!==null){Kt=u;return}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=r}while(o!==null);We===0&&(We=5)}function iE(r,o){do{var u=Gk(r.alternate,r);if(u!==null){u.flags&=32767,Kt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Kt=r;return}Kt=r=u}while(r!==null);We=6,Kt=null}function sE(r,o,u,f,g,v,R,O,z){r.cancelPendingCommit=null;do Md();while(kn!==0);if((me&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Ng,en(r,u,v,R,O,z),r===Ae&&(Kt=Ae=null,se=0),Wl=o,ha=r,Yl=u,By=v,Fy=g,$T=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rP(Fn,function(){return uE(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=G.T,G.T=null,g=Z.p,Z.p=2,R=me,me|=4;try{$k(r,o,u)}finally{me=R,Z.p=g,G.T=f}}kn=1,rE(),aE(),oE()}}function rE(){if(kn===1){kn=0;var r=ha,o=Wl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var f=Z.p;Z.p=2;var g=me;me|=4;try{FT(o,r);var v=iv,R=Gx(r.containerInfo),O=v.focusedElem,z=v.selectionRange;if(R!==O&&O&&O.ownerDocument&&Yx(O.ownerDocument.documentElement,O)){if(z!==null&&Ig(O)){var X=z.start,rt=z.end;if(rt===void 0&&(rt=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(rt,O.value.length);else{var lt=O.ownerDocument||document,tt=lt&&lt.defaultView||window;if(tt.getSelection){var et=tt.getSelection(),Mt=O.textContent.length,Ct=Math.min(z.start,Mt),Te=z.end===void 0?Ct:Math.min(z.end,Mt);!et.extend&&Ct>Te&&(R=Te,Te=Ct,Ct=R);var Y=Wx(O,Ct),q=Wx(O,Te);if(Y&&q&&(et.rangeCount!==1||et.anchorNode!==Y.node||et.anchorOffset!==Y.offset||et.focusNode!==q.node||et.focusOffset!==q.offset)){var K=lt.createRange();K.setStart(Y.node,Y.offset),et.removeAllRanges(),Ct>Te?(et.addRange(K),et.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),et.addRange(K))}}}}for(lt=[],et=O;et=et.parentNode;)et.nodeType===1&&lt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<lt.length;O++){var at=lt[O];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}qd=!!nv,iv=nv=null}finally{me=g,Z.p=f,G.T=u}}r.current=o,kn=2}}function aE(){if(kn===2){kn=0;var r=ha,o=Wl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var f=Z.p;Z.p=2;var g=me;me|=4;try{LT(r,o.alternate,o)}finally{me=g,Z.p=f,G.T=u}}kn=3}}function oE(){if(kn===4||kn===3){kn=0,Tt();var r=ha,o=Wl,u=Yl,f=$T;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,Wl=ha=null,lE(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ca=null),Rn(u),o=o.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(jt,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=G.T,g=Z.p,Z.p=2,G.T=null;try{for(var v=r.onRecoverableError,R=0;R<f.length;R++){var O=f[R];v(O.value,{componentStack:O.stack})}}finally{G.T=o,Z.p=g}}(Yl&3)!==0&&Md(),Ls(r),g=r.pendingLanes,(u&4194090)!==0&&(g&42)!==0?r===zy?Pc++:(Pc=0,zy=r):Pc=0,Nc(0)}}function lE(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,mc(o)))}function Md(r){return rE(),aE(),oE(),uE()}function uE(){if(kn!==5)return!1;var r=ha,o=By;By=0;var u=Rn(Yl),f=G.T,g=Z.p;try{Z.p=32>u?32:u,G.T=null,u=Fy,Fy=null;var v=ha,R=Yl;if(kn=0,Wl=ha=null,Yl=0,(me&6)!==0)throw Error(i(331));var O=me;if(me|=4,YT(v.current),HT(v,v.current,R,u),me=O,Nc(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(jt,v)}catch{}return!0}finally{Z.p=g,G.T=f,lE(r,o)}}function cE(r,o,u){o=ji(u,o),o=by(r.stateNode,o,2),r=ea(r,o,2),r!==null&&(Oi(r,2),Ls(r))}function Se(r,o,u){if(r.tag===3)cE(r,r,u);else for(;o!==null;){if(o.tag===3){cE(o,r,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ca===null||!ca.has(f))){r=ji(u,r),u=mT(2),f=ea(o,u,2),f!==null&&(pT(u,f,o,r),Oi(f,2),Ls(f));break}}o=o.return}}function Yy(r,o,u){var f=r.pingCache;if(f===null){f=r.pingCache=new Qk;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(Vy=!0,g.add(u),r=nP.bind(null,r,o,u),o.then(r,r))}function nP(r,o,u){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,Ae===r&&(se&u)===u&&(We===4||We===3&&(se&62914560)===se&&300>ee()-Uy?(me&2)===0&&Gl(r,0):Ly|=u,ql===se&&(ql=0)),Ls(r)}function hE(r,o){o===0&&(o=Gr()),r=Dl(r,o),r!==null&&(Oi(r,o),Ls(r))}function iP(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),hE(r,u)}function sP(r,o){var u=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),hE(r,u)}function rP(r,o){return he(r,o)}var kd=null,Kl=null,Gy=!1,Pd=!1,$y=!1,Mo=0;function Ls(r){r!==Kl&&r.next===null&&(Kl===null?kd=Kl=r:Kl=Kl.next=r),Pd=!0,Gy||(Gy=!0,oP())}function Nc(r,o){if(!$y&&Pd){$y=!0;do for(var u=!1,f=kd;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var R=f.suspendedLanes,O=f.pingedLanes;v=(1<<31-Pe(42|r)+1)-1,v&=g&~(R&~O),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,pE(f,v))}else v=se,v=tr(f,f===Ae?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||ws(f,v)||(u=!0,pE(f,v));f=f.next}while(u);$y=!1}}function aP(){fE()}function fE(){Pd=Gy=!1;var r=0;Mo!==0&&(pP()&&(r=Mo),Mo=0);for(var o=ee(),u=null,f=kd;f!==null;){var g=f.next,v=dE(f,o);v===0?(f.next=null,u===null?kd=g:u.next=g,g===null&&(Kl=u)):(u=f,(r!==0||(v&3)!==0)&&(Pd=!0)),f=g}Nc(r)}function dE(r,o){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var R=31-Pe(v),O=1<<R,z=g[R];z===-1?((O&u)===0||(O&f)!==0)&&(g[R]=er(O,o)):z<=o&&(r.expiredLanes|=O),v&=~O}if(o=Ae,u=se,u=tr(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===o&&(pe===2||pe===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&St(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||ws(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(f!==null&&St(f),Rn(u)){case 2:case 8:u=_e;break;case 32:u=Fn;break;case 268435456:u=Qn;break;default:u=Fn}return f=mE.bind(null,r),u=he(u,f),r.callbackPriority=o,r.callbackNode=u,o}return f!==null&&f!==null&&St(f),r.callbackPriority=2,r.callbackNode=null,2}function mE(r,o){if(kn!==0&&kn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Md()&&r.callbackNode!==u)return null;var f=se;return f=tr(r,r===Ae?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(XT(r,f,o),dE(r,ee()),r.callbackNode!=null&&r.callbackNode===u?mE.bind(null,r):null)}function pE(r,o){if(Md())return null;XT(r,o,!0)}function oP(){yP(function(){(me&6)!==0?he(ae,aP):fE()})}function Ky(){return Mo===0&&(Mo=no()),Mo}function gE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yl(""+r)}function yE(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function lP(r,o,u,f,g){if(o==="submit"&&u&&u.stateNode===g){var v=gE((g[Ne]||null).action),R=f.submitter;R&&(o=(o=R[Ne]||null)?gE(o.formAction):R.getAttribute("formAction"),o!==null&&(v=o,R=null));var O=new vl("action","action",null,f,g);r.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Mo!==0){var z=R?yE(g,R):new FormData(g);py(u,{pending:!0,data:z,method:g.method,action:v},null,z)}}else typeof v=="function"&&(O.preventDefault(),z=R?yE(g,R):new FormData(g),py(u,{pending:!0,data:z,method:g.method,action:v},v,z))},currentTarget:g}]})}}for(var Xy=0;Xy<Pg.length;Xy++){var Qy=Pg[Xy],uP=Qy.toLowerCase(),cP=Qy[0].toUpperCase()+Qy.slice(1);as(uP,"on"+cP)}as(Xx,"onAnimationEnd"),as(Qx,"onAnimationIteration"),as(Zx,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Rk,"onTransitionRun"),as(Ck,"onTransitionStart"),as(Dk,"onTransitionCancel"),as(Jx,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function vE(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;t:{var v=void 0;if(o)for(var R=f.length-1;0<=R;R--){var O=f[R],z=O.instance,X=O.currentTarget;if(O=O.listener,z!==v&&g.isPropagationStopped())break t;v=O,g.currentTarget=X;try{v(g)}catch(rt){xd(rt)}g.currentTarget=null,v=z}else for(R=0;R<f.length;R++){if(O=f[R],z=O.instance,X=O.currentTarget,O=O.listener,z!==v&&g.isPropagationStopped())break t;v=O,g.currentTarget=X;try{v(g)}catch(rt){xd(rt)}g.currentTarget=null,v=z}}}}function Xt(r,o){var u=o[nr];u===void 0&&(u=o[nr]=new Set);var f=r+"__bubble";u.has(f)||(_E(o,r,2,!1),u.add(f))}function Zy(r,o,u){var f=0;o&&(f|=4),_E(u,r,f,o)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Jy(r){if(!r[Nd]){r[Nd]=!0,Dn.forEach(function(u){u!=="selectionchange"&&(hP.has(u)||Zy(u,!1,r),Zy(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Nd]||(o[Nd]=!0,Zy("selectionchange",!1,o))}}function _E(r,o,u,f){switch(HE(o)){case 2:var g=jP;break;case 8:g=UP;break;default:g=dv}u=g.bind(null,o,u,r),g=void 0,!Vi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(o,u,{capture:!0,passive:g}):r.addEventListener(o,u,!0):g!==void 0?r.addEventListener(o,u,{passive:g}):r.addEventListener(o,u,!1)}function tv(r,o,u,f,g){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var O=f.stateNode.containerInfo;if(O===g)break;if(R===4)for(R=f.return;R!==null;){var z=R.tag;if((z===3||z===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;O!==null;){if(R=is(O),R===null)return;if(z=R.tag,z===5||z===6||z===26||z===27){f=v=R;continue t}O=O.parentNode}}f=f.return}Lf(function(){var X=v,rt=Ni(u),lt=[];t:{var tt=tw.get(r);if(tt!==void 0){var et=vl,Mt=r;switch(r){case"keypress":if(Cs(u)===0)break t;case"keydown":case"keyup":et=El;break;case"focusin":Mt="focus",et=xl;break;case"focusout":Mt="blur",et=xl;break;case"beforeblur":case"afterblur":et=xl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Wf;break;case Xx:case Qx:case Zx:et=wl;break;case Jx:et=Gf;break;case"scroll":case"scrollend":et=jf;break;case"wheel":et=Sl;break;case"copy":case"cut":case"paste":et=Tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=ac;break;case"toggle":case"beforetoggle":et=Kf}var Ct=(o&4)!==0,Te=!Ct&&(r==="scroll"||r==="scrollend"),Y=Ct?tt!==null?tt+"Capture":null:tt;Ct=[];for(var q=X,K;q!==null;){var at=q;if(K=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||K===null||Y===null||(at=co(q,Y),at!=null&&Ct.push(Lc(q,at,K))),Te)break;q=q.return}0<Ct.length&&(tt=new et(tt,Mt,null,u,rt),lt.push({event:tt,listeners:Ct}))}}if((o&7)===0){t:{if(tt=r==="mouseover"||r==="pointerover",et=r==="mouseout"||r==="pointerout",tt&&u!==rr&&(Mt=u.relatedTarget||u.fromElement)&&(is(Mt)||Mt[Cn]))break t;if((et||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,et?(Mt=u.relatedTarget||u.toElement,et=X,Mt=Mt?is(Mt):null,Mt!==null&&(Te=a(Mt),Ct=Mt.tag,Mt!==Te||Ct!==5&&Ct!==27&&Ct!==6)&&(Mt=null)):(et=null,Mt=X),et!==Mt)){if(Ct=Li,at="onMouseLeave",Y="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Ct=ac,at="onPointerLeave",Y="onPointerEnter",q="pointer"),Te=et==null?tt:Pt(et),K=Mt==null?tt:Pt(Mt),tt=new Ct(at,q+"leave",et,u,rt),tt.target=Te,tt.relatedTarget=K,at=null,is(rt)===X&&(Ct=new Ct(Y,q+"enter",Mt,u,rt),Ct.target=K,Ct.relatedTarget=Te,at=Ct),Te=at,et&&Mt)e:{for(Ct=et,Y=Mt,q=0,K=Ct;K;K=Xl(K))q++;for(K=0,at=Y;at;at=Xl(at))K++;for(;0<q-K;)Ct=Xl(Ct),q--;for(;0<K-q;)Y=Xl(Y),K--;for(;q--;){if(Ct===Y||Y!==null&&Ct===Y.alternate)break e;Ct=Xl(Ct),Y=Xl(Y)}Ct=null}else Ct=null;et!==null&&bE(lt,tt,et,Ct,!1),Mt!==null&&Te!==null&&bE(lt,Te,Mt,Ct,!0)}}t:{if(tt=X?Pt(X):window,et=tt.nodeName&&tt.nodeName.toLowerCase(),et==="select"||et==="input"&&tt.type==="file")var bt=Ux;else if(dn(tt))if(Bx)bt=Ek;else{bt=wk;var Wt=xk}else et=tt.nodeName,!et||et.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?X&&Ju(X.elementType)&&(bt=Ux):bt=Tk;if(bt&&(bt=bt(r,X))){cr(lt,bt,u,rt);break t}Wt&&Wt(r,tt,X),r==="focusout"&&X&&tt.type==="number"&&X.memoizedProps.value!=null&&Xr(tt,"number",tt.value)}switch(Wt=X?Pt(X):window,r){case"focusin":(dn(Wt)||Wt.contentEditable==="true")&&(Al=Wt,Og=X,uc=null);break;case"focusout":uc=Og=Al=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,$x(lt,u,rt);break;case"selectionchange":if(Ak)break;case"keydown":case"keyup":$x(lt,u,rt)}var wt;if(Os)t:{switch(r){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ne?it(r,u)&&(Dt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(S&&u.locale!=="ko"&&(ne||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ne&&(wt=ec()):(Rs=rt,Qr="value"in Rs?Rs.value:Rs.textContent,ne=!0)),Wt=Vd(X,Dt),0<Wt.length&&(Dt=new sc(Dt,r,null,u,rt),lt.push({event:Dt,listeners:Wt}),wt?Dt.data=wt:(wt=dt(u),wt!==null&&(Dt.data=wt)))),(wt=b?fn(r,u):ie(r,u))&&(Dt=Vd(X,"onBeforeInput"),0<Dt.length&&(Wt=new sc("onBeforeInput","beforeinput",null,u,rt),lt.push({event:Wt,listeners:Dt}),Wt.data=wt)),lP(lt,r,X,u,rt)}vE(lt,o)})}function Lc(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Vd(r,o){for(var u=o+"Capture",f=[];r!==null;){var g=r,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=co(r,u),g!=null&&f.unshift(Lc(r,g,v)),g=co(r,o),g!=null&&f.push(Lc(r,g,v))),r.tag===3)return f;r=r.return}return[]}function Xl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function bE(r,o,u,f,g){for(var v=o._reactName,R=[];u!==null&&u!==f;){var O=u,z=O.alternate,X=O.stateNode;if(O=O.tag,z!==null&&z===f)break;O!==5&&O!==26&&O!==27||X===null||(z=X,g?(X=co(u,v),X!=null&&R.unshift(Lc(u,X,z))):g||(X=co(u,v),X!=null&&R.push(Lc(u,X,z)))),u=u.return}R.length!==0&&r.push({event:o,listeners:R})}var fP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function xE(r){return(typeof r=="string"?r:""+r).replace(fP,`
`).replace(dP,"")}function wE(r,o){return o=xE(o),xE(r)===o}function Ld(){}function we(r,o,u,f,g,v){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Pi(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Pi(r,""+f);break;case"className":Ss(r,"class",f);break;case"tabIndex":Ss(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(r,u,f);break;case"style":Zu(r,f,v);break;case"data":if(o!=="object"){Ss(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=yl(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&we(r,o,"name",g.name,g,null),we(r,o,"formEncType",g.formEncType,g,null),we(r,o,"formMethod",g.formMethod,g,null),we(r,o,"formTarget",g.formTarget,g,null)):(we(r,o,"encType",g.encType,g,null),we(r,o,"method",g.method,g,null),we(r,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=yl(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ld);break;case"onScroll":f!=null&&Xt("scroll",r);break;case"onScrollEnd":f!=null&&Xt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=yl(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Xt("beforetoggle",r),Xt("toggle",r),Kr(r,"popover",f);break;case"xlinkActuate":In(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":In(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":In(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":In(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":In(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":In(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":In(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":In(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":In(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Kr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Eg.get(u)||u,Kr(r,u,f))}}function ev(r,o,u,f,g,v){switch(u){case"style":Zu(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof f=="string"?Pi(r,f):(typeof f=="number"||typeof f=="bigint")&&Pi(r,""+f);break;case"onScroll":f!=null&&Xt("scroll",r);break;case"onScrollEnd":f!=null&&Xt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ld);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_n.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),v=r[Ne]||null,v=v!=null?v[u]:null,typeof v=="function"&&r.removeEventListener(o,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,f,g);break t}u in r?r[u]=f:f===!0?r.setAttribute(u,""):Kr(r,u,f)}}}function Pn(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",r),Xt("load",r);var f=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var R=u[v];if(R!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:we(r,o,v,R,u,null)}}g&&we(r,o,"srcSet",u.srcSet,u,null),f&&we(r,o,"src",u.src,u,null);return;case"input":Xt("invalid",r);var O=v=R=g=null,z=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var rt=u[f];if(rt!=null)switch(f){case"name":g=rt;break;case"type":R=rt;break;case"checked":z=rt;break;case"defaultChecked":X=rt;break;case"value":v=rt;break;case"defaultValue":O=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,o));break;default:we(r,o,f,rt,u,null)}}oo(r,v,O,z,X,R,g,!1),gl(r);return;case"select":Xt("invalid",r),f=R=v=null;for(g in u)if(u.hasOwnProperty(g)&&(O=u[g],O!=null))switch(g){case"value":v=O;break;case"defaultValue":R=O;break;case"multiple":f=O;default:we(r,o,g,O,u,null)}o=v,u=R,r.multiple=!!f,o!=null?sr(r,!!f,o,!1):u!=null&&sr(r,!!f,u,!0);return;case"textarea":Xt("invalid",r),v=g=f=null;for(R in u)if(u.hasOwnProperty(R)&&(O=u[R],O!=null))switch(R){case"value":f=O;break;case"defaultValue":g=O;break;case"children":v=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:we(r,o,R,O,u,null)}lo(r,f,g,v),gl(r);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(f=u[z],f!=null))switch(z){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:we(r,o,z,f,u,null)}return;case"dialog":Xt("beforetoggle",r),Xt("toggle",r),Xt("cancel",r),Xt("close",r);break;case"iframe":case"object":Xt("load",r);break;case"video":case"audio":for(f=0;f<Vc.length;f++)Xt(Vc[f],r);break;case"image":Xt("error",r),Xt("load",r);break;case"details":Xt("toggle",r);break;case"embed":case"source":case"link":Xt("error",r),Xt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:we(r,o,X,f,u,null)}return;default:if(Ju(o)){for(rt in u)u.hasOwnProperty(rt)&&(f=u[rt],f!==void 0&&ev(r,o,rt,f,u,void 0));return}}for(O in u)u.hasOwnProperty(O)&&(f=u[O],f!=null&&we(r,o,O,f,u,null))}function mP(r,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,R=null,O=null,z=null,X=null,rt=null;for(et in u){var lt=u[et];if(u.hasOwnProperty(et)&&lt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":z=lt;default:f.hasOwnProperty(et)||we(r,o,et,null,f,lt)}}for(var tt in f){var et=f[tt];if(lt=u[tt],f.hasOwnProperty(tt)&&(et!=null||lt!=null))switch(tt){case"type":v=et;break;case"name":g=et;break;case"checked":X=et;break;case"defaultChecked":rt=et;break;case"value":R=et;break;case"defaultValue":O=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,o));break;default:et!==lt&&we(r,o,tt,et,f,lt)}}vi(r,R,O,z,X,rt,v,g);return;case"select":et=R=O=tt=null;for(v in u)if(z=u[v],u.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":et=z;default:f.hasOwnProperty(v)||we(r,o,v,null,f,z)}for(g in f)if(v=f[g],z=u[g],f.hasOwnProperty(g)&&(v!=null||z!=null))switch(g){case"value":tt=v;break;case"defaultValue":O=v;break;case"multiple":R=v;default:v!==z&&we(r,o,g,v,f,z)}o=O,u=R,f=et,tt!=null?sr(r,!!u,tt,!1):!!f!=!!u&&(o!=null?sr(r,!!u,o,!0):sr(r,!!u,u?[]:"",!1));return;case"textarea":et=tt=null;for(O in u)if(g=u[O],u.hasOwnProperty(O)&&g!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:we(r,o,O,null,f,g)}for(R in f)if(g=f[R],v=u[R],f.hasOwnProperty(R)&&(g!=null||v!=null))switch(R){case"value":tt=g;break;case"defaultValue":et=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&we(r,o,R,g,f,v)}be(r,tt,et);return;case"option":for(var Mt in u)if(tt=u[Mt],u.hasOwnProperty(Mt)&&tt!=null&&!f.hasOwnProperty(Mt))switch(Mt){case"selected":r.selected=!1;break;default:we(r,o,Mt,null,f,tt)}for(z in f)if(tt=f[z],et=u[z],f.hasOwnProperty(z)&&tt!==et&&(tt!=null||et!=null))switch(z){case"selected":r.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:we(r,o,z,tt,f,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in u)tt=u[Ct],u.hasOwnProperty(Ct)&&tt!=null&&!f.hasOwnProperty(Ct)&&we(r,o,Ct,null,f,tt);for(X in f)if(tt=f[X],et=u[X],f.hasOwnProperty(X)&&tt!==et&&(tt!=null||et!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:we(r,o,X,tt,f,et)}return;default:if(Ju(o)){for(var Te in u)tt=u[Te],u.hasOwnProperty(Te)&&tt!==void 0&&!f.hasOwnProperty(Te)&&ev(r,o,Te,void 0,f,tt);for(rt in f)tt=f[rt],et=u[rt],!f.hasOwnProperty(rt)||tt===et||tt===void 0&&et===void 0||ev(r,o,rt,tt,f,et);return}}for(var Y in u)tt=u[Y],u.hasOwnProperty(Y)&&tt!=null&&!f.hasOwnProperty(Y)&&we(r,o,Y,null,f,tt);for(lt in f)tt=f[lt],et=u[lt],!f.hasOwnProperty(lt)||tt===et||tt==null&&et==null||we(r,o,lt,tt,f,et)}var nv=null,iv=null;function jd(r){return r.nodeType===9?r:r.ownerDocument}function TE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function sv(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rv=null;function pP(){var r=window.event;return r&&r.type==="popstate"?r===rv?!1:(rv=r,!0):(rv=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,gP=typeof clearTimeout=="function"?clearTimeout:void 0,AE=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof AE<"u"?function(r){return AE.resolve(null).then(r).catch(vP)}:SE;function vP(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function RE(r,o){var u=o,f=0,g=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var R=r.ownerDocument;if(u&1&&jc(R.documentElement),u&2&&jc(R.body),u&4)for(u=R.head,jc(u),R=u.firstChild;R;){var O=R.nextSibling,z=R.nodeName;R[es]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&R.rel.toLowerCase()==="stylesheet"||u.removeChild(R),R=O}}if(g===0){r.removeChild(v),Yc(o);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);Yc(o)}function av(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":av(u),ns(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function _P(r,o,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[es])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=ls(r.nextSibling),r===null)break}return null}function bP(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ls(r.nextSibling),r===null))return null;return r}function ov(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xP(r,o){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ls(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var lv=null;function CE(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return r;o--}else u==="/$"&&o++}r=r.previousSibling}return null}function DE(r,o,u){switch(o=jd(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function jc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);ns(r)}var qi=new Map,IE=new Set;function Ud(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Tr=Z.d;Z.d={f:wP,r:TP,D:EP,C:SP,L:AP,m:RP,X:DP,S:CP,M:IP};function wP(){var r=Tr.f(),o=Id();return r||o}function TP(r){var o=ki(r);o!==null&&o.tag===5&&o.type==="form"?Xw(o):Tr.r(r)}var Ql=typeof document>"u"?null:document;function OE(r,o,u){var f=Ql;if(f&&typeof o=="string"&&o){var g=nn(o);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),IE.has(g)||(IE.add(g),r={rel:r,crossOrigin:u,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),Pn(o,"link",r),Ut(o),f.head.appendChild(o)))}}function EP(r){Tr.D(r),OE("dns-prefetch",r,null)}function SP(r,o){Tr.C(r,o),OE("preconnect",r,o)}function AP(r,o,u){Tr.L(r,o,u);var f=Ql;if(f&&r&&o){var g='link[rel="preload"][as="'+nn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+nn(u.imageSizes)+'"]')):g+='[href="'+nn(r)+'"]';var v=g;switch(o){case"style":v=Zl(r);break;case"script":v=Jl(r)}qi.has(v)||(r=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),qi.set(v,r),f.querySelector(g)!==null||o==="style"&&f.querySelector(Uc(v))||o==="script"&&f.querySelector(Bc(v))||(o=f.createElement("link"),Pn(o,"link",r),Ut(o),f.head.appendChild(o)))}}function RP(r,o){Tr.m(r,o);var u=Ql;if(u&&r){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+nn(f)+'"][href="'+nn(r)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Jl(r)}if(!qi.has(v)&&(r=p({rel:"modulepreload",href:r},o),qi.set(v,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bc(v)))return}f=u.createElement("link"),Pn(f,"link",r),Ut(f),u.head.appendChild(f)}}}function CP(r,o,u){Tr.S(r,o,u);var f=Ql;if(f&&r){var g=qt(f).hoistableStyles,v=Zl(r);o=o||"default";var R=g.get(v);if(!R){var O={loading:0,preload:null};if(R=f.querySelector(Uc(v)))O.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},u),(u=qi.get(v))&&uv(r,u);var z=R=f.createElement("link");Ut(z),Pn(z,"link",r),z._p=new Promise(function(X,rt){z.onload=X,z.onerror=rt}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Bd(R,o,f)}R={type:"stylesheet",instance:R,count:1,state:O},g.set(v,R)}}}function DP(r,o){Tr.X(r,o);var u=Ql;if(u&&r){var f=qt(u).hoistableScripts,g=Jl(r),v=f.get(g);v||(v=u.querySelector(Bc(g)),v||(r=p({src:r,async:!0},o),(o=qi.get(g))&&cv(r,o),v=u.createElement("script"),Ut(v),Pn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function IP(r,o){Tr.M(r,o);var u=Ql;if(u&&r){var f=qt(u).hoistableScripts,g=Jl(r),v=f.get(g);v||(v=u.querySelector(Bc(g)),v||(r=p({src:r,async:!0,type:"module"},o),(o=qi.get(g))&&cv(r,o),v=u.createElement("script"),Ut(v),Pn(v,"link",r),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function ME(r,o,u,f){var g=(g=mt.current)?Ud(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Zl(u.href),u=qt(g).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Zl(u.href);var v=qt(g).hoistableStyles,R=v.get(r);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,R),(v=g.querySelector(Uc(r)))&&!v._p&&(R.instance=v,R.state.loading=5),qi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},qi.set(r,u),v||OP(g,r,u,R.state))),o&&f===null)throw Error(i(528,""));return R}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Jl(u),u=qt(g).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Zl(r){return'href="'+nn(r)+'"'}function Uc(r){return'link[rel="stylesheet"]['+r+"]"}function kE(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function OP(r,o,u,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Pn(o,"link",u),Ut(o),r.head.appendChild(o))}function Jl(r){return'[src="'+nn(r)+'"]'}function Bc(r){return"script[async]"+r}function PE(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+nn(u.href)+'"]');if(f)return o.instance=f,Ut(f),f;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Ut(f),Pn(f,"style",g),Bd(f,u.precedence,r),o.instance=f;case"stylesheet":g=Zl(u.href);var v=r.querySelector(Uc(g));if(v)return o.state.loading|=4,o.instance=v,Ut(v),v;f=kE(u),(g=qi.get(g))&&uv(f,g),v=(r.ownerDocument||r).createElement("link"),Ut(v);var R=v;return R._p=new Promise(function(O,z){R.onload=O,R.onerror=z}),Pn(v,"link",f),o.state.loading|=4,Bd(v,u.precedence,r),o.instance=v;case"script":return v=Jl(u.src),(g=r.querySelector(Bc(v)))?(o.instance=g,Ut(g),g):(f=u,(g=qi.get(v))&&(f=p({},u),cv(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ut(g),Pn(g,"link",f),r.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Bd(f,u.precedence,r));return o.instance}function Bd(r,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,R=0;R<f.length;R++){var O=f[R];if(O.dataset.precedence===o)v=O;else if(v!==g)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function uv(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function cv(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Fd=null;function NE(r,o,u){if(Fd===null){var f=new Map,g=Fd=new Map;g.set(u,f)}else g=Fd,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var v=u[g];if(!(v[es]||v[He]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var R=v.getAttribute(o)||"";R=r+R;var O=f.get(R);O?O.push(v):f.set(R,[v])}}return f}function VE(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function MP(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function LE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Fc=null;function kP(){}function PP(r,o,u){if(Fc===null)throw Error(i(475));var f=Fc;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Zl(u.href),v=r.querySelector(Uc(g));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=zd.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=v,Ut(v);return}v=r.ownerDocument||r,u=kE(u),(g=qi.get(g))&&uv(u,g),v=v.createElement("link"),Ut(v);var R=v;R._p=new Promise(function(O,z){R.onload=O,R.onerror=z}),Pn(v,"link",u),o.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=zd.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function NP(){if(Fc===null)throw Error(i(475));var r=Fc;return r.stylesheets&&r.count===0&&hv(r,r.stylesheets),0<r.count?function(o){var u=setTimeout(function(){if(r.stylesheets&&hv(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u)}}:null}function zd(){if(this.count--,this.count===0){if(this.stylesheets)hv(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hd=null;function hv(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hd=new Map,o.forEach(VP,r),Hd=null,zd.call(r))}function VP(r,o){if(!(o.state.loading&4)){var u=Hd.get(r);if(u)var f=u.get(null);else{u=new Map,Hd.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var R=g[v];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),f=R)}f&&u.set(null,f)}g=o.instance,R=g.getAttribute("data-precedence"),v=u.get(R)||f,v===f&&u.set(null,g),u.set(R,g),this.count++,f=zd.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),o.state.loading|=4}}var zc={$$typeof:L,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function LP(r,o,u,f,g,v,R,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function jE(r,o,u,f,g,v,R,O,z,X,rt,lt){return r=new LP(r,o,u,R,O,z,X,lt),o=1,v===!0&&(o|=24),v=bi(3,null,null,o),r.current=v,v.stateNode=r,o=Yg(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:o},Xg(v),r}function UE(r){return r?(r=Il,r):Il}function BE(r,o,u,f,g,v){g=UE(g),f.context===null?f.context=g:f.pendingContext=g,f=ta(o),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=ea(r,f,o),u!==null&&(Si(u,r,o),vc(u,r,o))}function FE(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function fv(r,o){FE(r,o),(r=r.alternate)&&FE(r,o)}function zE(r){if(r.tag===13){var o=Dl(r,67108864);o!==null&&Si(o,r,67108864),fv(r,67108864)}}var qd=!0;function jP(r,o,u,f){var g=G.T;G.T=null;var v=Z.p;try{Z.p=2,dv(r,o,u,f)}finally{Z.p=v,G.T=g}}function UP(r,o,u,f){var g=G.T;G.T=null;var v=Z.p;try{Z.p=8,dv(r,o,u,f)}finally{Z.p=v,G.T=g}}function dv(r,o,u,f){if(qd){var g=mv(f);if(g===null)tv(r,o,f,Wd,u),qE(r,f);else if(FP(g,r,o,u,f))f.stopPropagation();else if(qE(r,f),o&4&&-1<BP.indexOf(r)){for(;g!==null;){var v=ki(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var R=yi(v.pendingLanes);if(R!==0){var O=v;for(O.pendingLanes|=2,O.entangledLanes|=2;R;){var z=1<<31-Pe(R);O.entanglements[1]|=z,R&=~z}Ls(v),(me&6)===0&&(Cd=ee()+500,Nc(0))}}break;case 13:O=Dl(v,2),O!==null&&Si(O,v,2),Id(),fv(v,2)}if(v=mv(f),v===null&&tv(r,o,f,Wd,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else tv(r,o,f,null,u)}}function mv(r){return r=Ni(r),pv(r)}var Wd=null;function pv(r){if(Wd=null,r=is(r),r!==null){var o=a(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Wd=r,null}function HE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case ae:return 2;case _e:return 8;case Fn:case zn:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var gv=!1,ma=null,pa=null,ga=null,Hc=new Map,qc=new Map,ya=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(r,o){switch(r){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Hc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(o.pointerId)}}function Wc(r,o,u,f,g,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},o!==null&&(o=ki(o),o!==null&&zE(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function FP(r,o,u,f,g){switch(o){case"focusin":return ma=Wc(ma,r,o,u,f,g),!0;case"dragenter":return pa=Wc(pa,r,o,u,f,g),!0;case"mouseover":return ga=Wc(ga,r,o,u,f,g),!0;case"pointerover":var v=g.pointerId;return Hc.set(v,Wc(Hc.get(v)||null,r,o,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,qc.set(v,Wc(qc.get(v)||null,r,o,u,f,g)),!0}return!1}function WE(r){var o=is(r.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,$r(r.priority,function(){if(u.tag===13){var f=Ei();f=oe(f);var g=Dl(u,f);g!==null&&Si(g,u,f),fv(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=mv(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);rr=f,u.target.dispatchEvent(f),rr=null}else return o=ki(u),o!==null&&zE(o),r.blockedOn=u,!1;o.shift()}return!0}function YE(r,o,u){Yd(r)&&u.delete(o)}function zP(){gv=!1,ma!==null&&Yd(ma)&&(ma=null),pa!==null&&Yd(pa)&&(pa=null),ga!==null&&Yd(ga)&&(ga=null),Hc.forEach(YE),qc.forEach(YE)}function Gd(r,o){r.blockedOn===o&&(r.blockedOn=null,gv||(gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zP)))}var $d=null;function GE(r){$d!==r&&($d=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$d===r&&($d=null);for(var o=0;o<r.length;o+=3){var u=r[o],f=r[o+1],g=r[o+2];if(typeof f!="function"){if(pv(f||u)===null)continue;break}var v=ki(u);v!==null&&(r.splice(o,3),o-=3,py(v,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function Yc(r){function o(z){return Gd(z,r)}ma!==null&&Gd(ma,r),pa!==null&&Gd(pa,r),ga!==null&&Gd(ga,r),Hc.forEach(o),qc.forEach(o);for(var u=0;u<ya.length;u++){var f=ya[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ya.length&&(u=ya[0],u.blockedOn===null);)WE(u),u.blockedOn===null&&ya.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],v=u[f+1],R=g[Ne]||null;if(typeof v=="function")R||GE(u);else if(R){var O=null;if(v&&v.hasAttribute("formAction")){if(g=v,R=v[Ne]||null)O=R.formAction;else if(pv(g)!==null)continue}else O=R.action;typeof O=="function"?u[f+1]=O:(u.splice(f,3),f-=3),GE(u)}}}function yv(r){this._internalRoot=r}Kd.prototype.render=yv.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=Ei();BE(u,f,r,o,null,null)},Kd.prototype.unmount=yv.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;BE(r.current,2,null,r,null,null),Id(),o[Cn]=null}};function Kd(r){this._internalRoot=r}Kd.prototype.unstable_scheduleHydration=function(r){if(r){var o=Es();r={blockedOn:null,target:r,priority:o};for(var u=0;u<ya.length&&o!==0&&o<ya[u].priority;u++);ya.splice(u,0,r),u===0&&WE(r)}};var $E=t.version;if($E!=="19.1.0")throw Error(i(527,$E,"19.1.0"));Z.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var HP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{jt=Xd.inject(HP),Nt=Xd}catch{}}return $c.createRoot=function(r,o){if(!s(r))throw Error(i(299));var u=!1,f="",g=cT,v=hT,R=fT,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=jE(r,1,!1,null,null,u,f,g,v,R,O,null),r[Cn]=o.current,Jy(r),new yv(o)},$c.hydrateRoot=function(r,o,u){if(!s(r))throw Error(i(299));var f=!1,g="",v=cT,R=hT,O=fT,z=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(O=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),o=jE(r,1,!0,o,u??null,f,g,v,R,O,z,X),o.context=UE(null),u=o.current,f=Ei(),f=oe(f),g=ta(f),g.callback=null,ea(u,g,f),u=f,o.current.lanes=u,Oi(o,u),Ls(o),r[Cn]=o.current,Jy(r),new Kd(o)},$c.version="19.1.0",$c}var sS;function JP(){if(sS)return _v.exports;sS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=ZP(),_v.exports}var tN=JP();const eN=I_(tN);var U=O_();const OC=I_(U);var Kc={},rS;function nN(){if(rS)return Kc;rS=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.parse=l,Kc.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,x){const E=new a,C=_.length;if(C<2)return E;const D=x?.decode||p;let M=0;do{const F=_.indexOf("=",M);if(F===-1)break;const L=_.indexOf(";",M),H=L===-1?C:L;if(F>H){M=_.lastIndexOf(";",F-1)+1;continue}const W=c(_,M,F),nt=h(_,F,W),N=_.slice(W,nt);if(E[N]===void 0){let w=c(_,F+1,H),A=h(_,H,w);const I=D(_.slice(w,A));E[N]=I}M=H+1}while(M<C);return E}function c(_,x,E){do{const C=_.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<E);return E}function h(_,x,E){for(;x>E;){const C=_.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return E}function d(_,x,E){const C=E?.encode||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const D=C(x);if(!t.test(D))throw new TypeError(`argument val is invalid: ${x}`);let M=_+"="+D;if(!E)return M;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);M+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);M+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);M+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);M+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(M+="; HttpOnly"),E.secure&&(M+="; Secure"),E.partitioned&&(M+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return M}function p(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function y(_){return s.call(_)==="[object Date]"}return Kc}nN();var aS="popstate";function iN(e={}){function t(i,s){let{pathname:a,search:l,hash:c}=i.location;return f0("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Nh(s)}return rN(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ds(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sN(){return Math.random().toString(36).substring(2,10)}function oS(e,t){return{usr:e.state,key:e.key,idx:t}}function f0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mu(t):t,state:n,key:t&&t.key||i||sN()}}function Nh({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function rN(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c="POP",h=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let D=p(),M=D==null?null:D-d;d=D,h&&h({action:c,location:C.location,delta:M})}function _(D,M){c="PUSH";let F=f0(C.location,D,M);d=p()+1;let L=oS(F,d),H=C.createHref(F);try{l.pushState(L,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;s.location.assign(H)}a&&h&&h({action:c,location:C.location,delta:1})}function x(D,M){c="REPLACE";let F=f0(C.location,D,M);d=p();let L=oS(F,d),H=C.createHref(F);l.replaceState(L,"",H),a&&h&&h({action:c,location:C.location,delta:0})}function E(D){return aN(D)}let C={get action(){return c},get location(){return e(s,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(aS,y),h=D,()=>{s.removeEventListener(aS,y),h=null}},createHref(D){return t(s,D)},createURL:E,encodeLocation(D){let M=E(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(D){return l.go(D)}};return C}function aN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Nh(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function MC(e,t,n="/"){return oN(e,t,n,!1)}function oN(e,t,n,i){let s=typeof t=="string"?Mu(t):t,a=Pr(s.pathname||"/",n);if(a==null)return null;let l=kC(e);lN(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let d=_N(a);c=yN(l[h],d,i)}return c}function kC(e,t=[],n=[],i=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let d=Mr([i,h.relativePath]),p=n.concat(h);a.children&&a.children.length>0&&(Le(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),kC(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:pN(d,a.index),routesMeta:p})};return e.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of PC(a.path))s(a,l,c)}),t}function PC(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=PC(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function lN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var uN=/^:[\w-]+$/,cN=3,hN=2,fN=1,dN=10,mN=-2,lS=e=>e==="*";function pN(e,t){let n=e.split("/"),i=n.length;return n.some(lS)&&(i+=mN),t&&(i+=hN),n.filter(s=>!lS(s)).reduce((s,a)=>s+(uN.test(a)?cN:a===""?fN:dN),i)}function gN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function yN(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],d=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",y=qm({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&n&&!i[i.length-1].route.index&&(y=qm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Mr([a,y.pathname]),pathnameBase:TN(Mr([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Mr([a,y.pathnameBase]))}return l}function qm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=vN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function vN(e,t=!1,n=!0){ds(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function _N(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ds(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function bN(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?Mu(e):e;return{pathname:n?n.startsWith("/")?n:xN(n,t):t,search:EN(i),hash:SN(s)}}function xN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ev(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function M_(e){let t=wN(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function k_(e,t,n,i=!1){let s;typeof e=="string"?s=Mu(e):(s={...e},Le(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=t.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?t[y]:"/"}let h=bN(s,c),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Mr=e=>e.join("/").replace(/\/\/+/g,"/"),TN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var NC=["POST","PUT","PATCH","DELETE"];new Set(NC);var RN=["GET",...NC];new Set(RN);var ku=U.createContext(null);ku.displayName="DataRouter";var Op=U.createContext(null);Op.displayName="DataRouterState";var VC=U.createContext({isTransitioning:!1});VC.displayName="ViewTransition";var CN=U.createContext(new Map);CN.displayName="Fetchers";var DN=U.createContext(null);DN.displayName="Await";var ys=U.createContext(null);ys.displayName="Navigation";var af=U.createContext(null);af.displayName="Location";var vs=U.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var P_=U.createContext(null);P_.displayName="RouteError";function IN(e,{relative:t}={}){Le(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(ys),{hash:s,pathname:a,search:l}=of(e,{relative:t}),c=a;return n!=="/"&&(c=a==="/"?n:Mr([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Pu(){return U.useContext(af)!=null}function _s(){return Le(Pu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(af).location}var LC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jC(e){U.useContext(ys).static||U.useLayoutEffect(e)}function Ka(){let{isDataRoute:e}=U.useContext(vs);return e?qN():ON()}function ON(){Le(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(ku),{basename:t,navigator:n}=U.useContext(ys),{matches:i}=U.useContext(vs),{pathname:s}=_s(),a=JSON.stringify(M_(i)),l=U.useRef(!1);return jC(()=>{l.current=!0}),U.useCallback((h,d={})=>{if(ds(l.current,LC),!l.current)return;if(typeof h=="number"){n.go(h);return}let p=k_(h,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Mr([t,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[t,n,a,s,e])}U.createContext(null);function MN(){let{matches:e}=U.useContext(vs),t=e[e.length-1];return t?t.params:{}}function of(e,{relative:t}={}){let{matches:n}=U.useContext(vs),{pathname:i}=_s(),s=JSON.stringify(M_(n));return U.useMemo(()=>k_(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function kN(e,t){return UC(e,t)}function UC(e,t,n,i){Le(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=U.useContext(ys),{matches:a}=U.useContext(vs),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",p=l&&l.route;{let M=p&&p.path||"";BC(h,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=_s(),_;if(t){let M=typeof t=="string"?Mu(t):t;Le(d==="/"||M.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${M.pathname}" was given in the \`location\` prop.`),_=M}else _=y;let x=_.pathname||"/",E=x;if(d!=="/"){let M=d.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=MC(e,{pathname:E});ds(p||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ds(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=jN(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:Mr([d,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Mr([d,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,i);return t&&D?U.createElement(af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},D):D}function PN(){let e=HN(),t=AN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:s},n):null,l)}var NN=U.createElement(PN,null),VN=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(vs.Provider,{value:this.props.routeContext},U.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:e,match:t,children:n}){let i=U.useContext(ku);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(vs.Provider,{value:e},n)}function jN(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n?.errors;if(a!=null){let h=s.findIndex(d=>d.route.id&&a?.[d.route.id]!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,_=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,d,p)=>{let y,_=!1,x=null,E=null;n&&(y=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||NN,l&&(c<0&&p===0?(BC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=d.route.hydrateFallbackElement||null)));let C=t.concat(s.slice(0,p+1)),D=()=>{let M;return y?M=x:_?M=E:d.route.Component?M=U.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=h,U.createElement(LN,{match:d,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:M})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?U.createElement(VN,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function N_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UN(e){let t=U.useContext(ku);return Le(t,N_(e)),t}function BN(e){let t=U.useContext(Op);return Le(t,N_(e)),t}function FN(e){let t=U.useContext(vs);return Le(t,N_(e)),t}function V_(e){let t=FN(e),n=t.matches[t.matches.length-1];return Le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zN(){return V_("useRouteId")}function HN(){let e=U.useContext(P_),t=BN("useRouteError"),n=V_("useRouteError");return e!==void 0?e:t.errors?.[n]}function qN(){let{router:e}=UN("useNavigate"),t=V_("useNavigate"),n=U.useRef(!1);return jC(()=>{n.current=!0}),U.useCallback(async(s,a={})=>{ds(n.current,LC),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var uS={};function BC(e,t,n){!t&&!uS[e]&&(uS[e]=!0,ds(!1,n))}U.memo(WN);function WN({routes:e,future:t,state:n}){return UC(e,void 0,n,t)}function FC({to:e,replace:t,state:n,relative:i}){Le(Pu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=U.useContext(ys);ds(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(vs),{pathname:l}=_s(),c=Ka(),h=k_(e,M_(a),l,i==="path"),d=JSON.stringify(h);return U.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:i})},[c,d,i,t,n]),null}function us(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){Le(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Mu(n));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:_="default"}=n,x=U.useMemo(()=>{let E=Pr(h,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:_},navigationType:i}},[l,h,d,p,y,_,i]);return ds(x!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(ys.Provider,{value:c},U.createElement(af.Provider,{children:t,value:x}))}function GN({children:e,location:t}){return kN(d0(e),t)}function d0(e,t=[]){let n=[];return U.Children.forEach(e,(i,s)=>{if(!U.isValidElement(i))return;let a=[...t,s];if(i.type===U.Fragment){n.push.apply(n,d0(i.props.children,a));return}Le(i.type===us,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=d0(i.props.children,a)),n.push(l)}),n}var Tm="get",Em="application/x-www-form-urlencoded";function Mp(e){return e!=null&&typeof e.tagName=="string"}function $N(e){return Mp(e)&&e.tagName.toLowerCase()==="button"}function KN(e){return Mp(e)&&e.tagName.toLowerCase()==="form"}function XN(e){return Mp(e)&&e.tagName.toLowerCase()==="input"}function QN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZN(e,t){return e.button===0&&(!t||t==="_self")&&!QN(e)}var Qd=null;function JN(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var tV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sv(e){return e!=null&&!tV.has(e)?(ds(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Em}"`),null):e}function eV(e,t){let n,i,s,a,l;if(KN(e)){let c=e.getAttribute("action");i=c?Pr(c,t):null,n=e.getAttribute("method")||Tm,s=Sv(e.getAttribute("enctype"))||Em,a=new FormData(e)}else if($N(e)||XN(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||c.getAttribute("action");if(i=h?Pr(h,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Tm,s=Sv(e.getAttribute("formenctype"))||Sv(c.getAttribute("enctype"))||Em,a=new FormData(c,e),!JN()){let{name:d,type:p,value:y}=e;if(p==="image"){let _=d?`${d}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else d&&a.append(d,y)}}else{if(Mp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tm,i=null,s=Em,l=e}return a&&s==="text/plain"&&(l=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:l}}function L_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function nV(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iV(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sV(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let l=await nV(a,n);return l.links?l.links():[]}return[]}));return lV(i.flat(1).filter(iV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cS(e,t,n,i,s,a){let l=(h,d)=>n[d]?h.route.id!==n[d].route.id:!0,c=(h,d)=>n[d].pathname!==h.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,d)=>l(h,d)||c(h,d)):a==="data"?t.filter((h,d)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(l(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function rV(e,t,{includeHydrateFallback:n}={}){return aV(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function aV(e){return[...new Set(e)]}function oV(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function lV(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(oV(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uV=new Set([100,101,204,205]);function cV(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Pr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function zC(){let e=U.useContext(ku);return L_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hV(){let e=U.useContext(Op);return L_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var j_=U.createContext(void 0);j_.displayName="FrameworkContext";function HC(){let e=U.useContext(j_);return L_(e,"You must render this element inside a <HydratedRouter> element"),e}function fV(e,t){let n=U.useContext(j_),[i,s]=U.useState(!1),[a,l]=U.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=t,_=U.useRef(null);U.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let C=M=>{M.forEach(F=>{l(F.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return _.current&&D.observe(_.current),()=>{D.disconnect()}}},[e]),U.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[a,_,{}]:[a,_,{onFocus:Xc(c,x),onBlur:Xc(h,E),onMouseEnter:Xc(d,x),onMouseLeave:Xc(p,E),onTouchStart:Xc(y,x)}]:[!1,_,{}]}function Xc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dV({page:e,...t}){let{router:n}=zC(),i=U.useMemo(()=>MC(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?U.createElement(pV,{page:e,matches:i,...t}):null}function mV(e){let{manifest:t,routeModules:n}=HC(),[i,s]=U.useState([]);return U.useEffect(()=>{let a=!1;return sV(e,t,n).then(l=>{a||s(l)}),()=>{a=!0}},[e,t,n]),i}function pV({page:e,matches:t,...n}){let i=_s(),{manifest:s,routeModules:a}=HC(),{basename:l}=zC(),{loaderData:c,matches:h}=hV(),d=U.useMemo(()=>cS(e,t,h,s,i,"data"),[e,t,h,s,i]),p=U.useMemo(()=>cS(e,t,h,s,i,"assets"),[e,t,h,s,i]),y=U.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let E=new Set,C=!1;if(t.forEach(M=>{let F=s.routes[M.route.id];!F||!F.hasLoader||(!d.some(L=>L.route.id===M.route.id)&&M.route.id in c&&a[M.route.id]?.shouldRevalidate||F.hasClientLoader?C=!0:E.add(M.route.id))}),E.size===0)return[];let D=cV(e,l);return C&&E.size>0&&D.searchParams.set("_routes",t.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[l,c,i,s,d,t,e,a]),_=U.useMemo(()=>rV(p,s),[p,s]),x=mV(p);return U.createElement(U.Fragment,null,y.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:C})=>U.createElement("link",{key:E,...C})))}function gV(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qC&&(window.__reactRouterVersion="7.6.3")}catch{}function yV({basename:e,children:t,window:n}){let i=U.useRef();i.current==null&&(i.current=iN({window:n,v5Compat:!0}));let s=i.current,[a,l]=U.useState({action:s.action,location:s.location}),c=U.useCallback(h=>{U.startTransition(()=>l(h))},[l]);return U.useLayoutEffect(()=>s.listen(c),[s,c]),U.createElement(YN,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var WC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=U.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},x){let{basename:E}=U.useContext(ys),C=typeof d=="string"&&WC.test(d),D,M=!1;if(typeof d=="string"&&C&&(D=d,qC))try{let A=new URL(window.location.href),I=d.startsWith("//")?new URL(A.protocol+d):new URL(d),P=Pr(I.pathname,E);I.origin===A.origin&&P!=null?d=P+I.search+I.hash:M=!0}catch{ds(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=IN(d,{relative:s}),[L,H,W]=fV(i,_),nt=xV(d,{replace:l,state:c,target:h,preventScrollReset:p,relative:s,viewTransition:y});function N(A){t&&t(A),A.defaultPrevented||nt(A)}let w=U.createElement("a",{..._,...W,href:D||F,onClick:M||a?t:N,ref:gV(x,H),target:h,"data-discover":!C&&n==="render"?"true":void 0});return L&&!C?U.createElement(U.Fragment,null,w,U.createElement(dV,{page:F})):w});on.displayName="Link";var vV=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...d},p){let y=of(l,{relative:d.relative}),_=_s(),x=U.useContext(Op),{navigator:E,basename:C}=U.useContext(ys),D=x!=null&&AV(y)&&c===!0,M=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,F=_.pathname,L=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(F=F.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&C&&(L=Pr(L,C)||L);const H=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let W=F===M||!s&&F.startsWith(M)&&F.charAt(H)==="/",nt=L!=null&&(L===M||!s&&L.startsWith(M)&&L.charAt(M.length)==="/"),N={isActive:W,isPending:nt,isTransitioning:D},w=W?t:void 0,A;typeof i=="function"?A=i(N):A=[i,W?"active":null,nt?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(N):a;return U.createElement(on,{...d,"aria-current":w,className:A,ref:p,style:I,to:l,viewTransition:c},typeof h=="function"?h(N):h)});vV.displayName="NavLink";var _V=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:l=Tm,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},x)=>{let E=EV(),C=SV(c,{relative:d}),D=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&WC.test(c),F=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,W=H?.getAttribute("formmethod")||l;E(H||L.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:s,state:a,relative:d,preventScrollReset:p,viewTransition:y})};return U.createElement("form",{ref:x,method:D,action:C,onSubmit:i?h:F,..._,"data-discover":!M&&e==="render"?"true":void 0})});_V.displayName="Form";function bV(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(e){let t=U.useContext(ku);return Le(t,bV(e)),t}function xV(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Ka(),h=_s(),d=of(e,{relative:a});return U.useCallback(p=>{if(ZN(p,t)){p.preventDefault();let y=n!==void 0?n:Nh(h)===Nh(d);c(e,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,d,n,i,t,e,s,a,l])}var wV=0,TV=()=>`__${String(++wV)}__`;function EV(){let{router:e}=YC("useSubmit"),{basename:t}=U.useContext(ys),n=zN();return U.useCallback(async(i,s={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=eV(i,t);if(s.navigate===!1){let p=s.fetcherKey||TV();await e.fetch(p,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function SV(e,{relative:t}={}){let{basename:n}=U.useContext(ys),i=U.useContext(vs);Le(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...of(e||".",{relative:t})},l=_s();if(e==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();a.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Mr([n,a.pathname])),Nh(a)}function AV(e,t={}){let n=U.useContext(VC);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=YC("useViewTransitionState"),s=of(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Pr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Pr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qm(s.pathname,l)!=null||qm(s.pathname,a)!=null}[...uV];const RV=()=>{};var hS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},CV=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=e[n++],l=e[n++],c=e[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(h>>10)),t[i++]=String.fromCharCode(56320+(h&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return t.join("")},$C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const a=e[s],l=s+1<e.length,c=l?e[s+1]:0,h=s+2<e.length,d=h?e[s+2]:0,p=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|d>>6,x=d&63;h||(x=64,l||(_=64)),i.push(n[p],n[y],n[_],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const a=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const y=s<e.length?n[e.charAt(s)]:64;if(++s,a==null||c==null||d==null||y==null)throw new DV;const _=a<<2|c>>4;if(i.push(_),d!==64){const x=c<<4&240|d>>2;if(i.push(x),y!==64){const E=d<<6&192|y;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IV=function(e){const t=GC(e);return $C.encodeByteArray(t,!0)},Wm=function(e){return IV(e).replace(/\./g,"")},KC=function(e){try{return $C.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=()=>OV().__FIREBASE_DEFAULTS__,kV=()=>{if(typeof process>"u"||typeof hS>"u")return;const e=hS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&KC(e[1]);return t&&JSON.parse(t)},kp=()=>{try{return RV()||MV()||kV()||PV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XC=e=>{var t,n;return(n=(t=kp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},NV=e=>{const t=XC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},QC=()=>{var e;return(e=kp())===null||e===void 0?void 0:e.config},ZC=e=>{var t;return(t=kp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JC(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wm(JSON.stringify(n)),Wm(JSON.stringify(l)),""].join(".")}const _h={};function jV(){const e={prod:[],emulator:[]};for(const t of Object.keys(_h))_h[t]?e.emulator.push(t):e.prod.push(t);return e}function UV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let fS=!1;function tD(e,t){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||_h[e]===t||_h[e]||fS)return;_h[e]=t;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",a=jV().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{fS=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=UV(i),x=n("text"),E=document.getElementById(x)||document.createElement("span"),C=n("learnmore"),D=document.getElementById(C)||document.createElement("a"),M=n("preprendIcon"),F=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;c(L),p(D,C);const H=d();h(F,M),L.append(F,E,D,H),document.body.appendChild(L)}a?(E.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function FV(){var e;const t=(e=kp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WV(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function YV(){return!FV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GV(){try{return typeof indexedDB=="object"}catch{return!1}}function $V(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;t(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FirebaseError";class Hr extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=KV,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,a=this.errors[t],l=a?XV(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Hr(s,c,i)}}function XV(e,t){return e.replace(QV,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const QV=/\{\$([^}]+)}/g;function ZV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const a=e[s],l=t[s];if(dS(a)&&dS(l)){if(!Jo(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function dS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function oh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(a)}}),t}function lh(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function JV(e,t){const n=new tL(e,t);return n.subscribe.bind(n)}class tL{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Av),s.error===void 0&&(s.error=Av),s.complete===void 0&&(s.complete=Av);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}class tl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new VV;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t?.identifier),s=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sL(t))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(t=jo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jo){return this.instances.has(t)}getOptions(t=jo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iL(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=jo){return this.component?this.component.multipleInstances?t:jo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iL(e){return e===jo?void 0:e}function sL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nL(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Zt||(Zt={}));const aL={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},oL=Zt.INFO,lL={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},uL=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=lL[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class U_{constructor(t){this.name=t,this._logLevel=oL,this._logHandler=uL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}const cL=(e,t)=>t.some(n=>e instanceof n);let mS,pS;function hL(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eD=new WeakMap,m0=new WeakMap,nD=new WeakMap,Rv=new WeakMap,B_=new WeakMap;function dL(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Ia(e.result)),s()},l=()=>{i(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&eD.set(n,e)}).catch(()=>{}),B_.set(t,e),t}function mL(e){if(m0.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});m0.set(e,t)}let p0={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return m0.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nD.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pL(e){p0=e(p0)}function gL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Cv(this),t,...n);return nD.set(i,t.sort?t.sort():[t]),Ia(i)}:fL().includes(e)?function(...t){return e.apply(Cv(this),t),Ia(eD.get(this))}:function(...t){return Ia(e.apply(Cv(this),t))}}function yL(e){return typeof e=="function"?gL(e):(e instanceof IDBTransaction&&mL(e),cL(e,hL())?new Proxy(e,p0):e)}function Ia(e){if(e instanceof IDBRequest)return dL(e);if(Rv.has(e))return Rv.get(e);const t=yL(e);return t!==e&&(Rv.set(e,t),B_.set(t,e)),t}const Cv=e=>B_.get(e);function vL(e,t,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),c=Ia(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ia(l.result),h.oldVersion,h.newVersion,Ia(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const _L=["get","getKey","getAll","getAllKeys","count"],bL=["put","add","delete","clear"],Dv=new Map;function gS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dv.get(t))return Dv.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=bL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||_L.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return Dv.set(t,a),a}pL(e=>({...e,get:(t,n,i)=>gS(t,n)||e.get(t,n,i),has:(t,n)=>!!gS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wL(e){const t=e.getComponent();return t?.type==="VERSION"}const g0="@firebase/app",yS="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new U_("@firebase/app"),TL="@firebase/app-compat",EL="@firebase/analytics-compat",SL="@firebase/analytics",AL="@firebase/app-check-compat",RL="@firebase/app-check",CL="@firebase/auth",DL="@firebase/auth-compat",IL="@firebase/database",OL="@firebase/data-connect",ML="@firebase/database-compat",kL="@firebase/functions",PL="@firebase/functions-compat",NL="@firebase/installations",VL="@firebase/installations-compat",LL="@firebase/messaging",jL="@firebase/messaging-compat",UL="@firebase/performance",BL="@firebase/performance-compat",FL="@firebase/remote-config",zL="@firebase/remote-config-compat",HL="@firebase/storage",qL="@firebase/storage-compat",WL="@firebase/firestore",YL="@firebase/ai",GL="@firebase/firestore-compat",$L="firebase",KL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]",XL={[g0]:"fire-core",[TL]:"fire-core-compat",[SL]:"fire-analytics",[EL]:"fire-analytics-compat",[RL]:"fire-app-check",[AL]:"fire-app-check-compat",[CL]:"fire-auth",[DL]:"fire-auth-compat",[IL]:"fire-rtdb",[OL]:"fire-data-connect",[ML]:"fire-rtdb-compat",[kL]:"fire-fn",[PL]:"fire-fn-compat",[NL]:"fire-iid",[VL]:"fire-iid-compat",[LL]:"fire-fcm",[jL]:"fire-fcm-compat",[UL]:"fire-perf",[BL]:"fire-perf-compat",[FL]:"fire-rc",[zL]:"fire-rc-compat",[HL]:"fire-gcs",[qL]:"fire-gcs-compat",[WL]:"fire-fst",[GL]:"fire-fst-compat",[YL]:"fire-vertex","fire-js":"fire-js",[$L]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new Map,QL=new Map,v0=new Map;function vS(e,t){try{e.container.addComponent(t)}catch(n){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xu(e){const t=e.name;if(v0.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;v0.set(t,e);for(const n of Ym.values())vS(n,e);for(const n of QL.values())vS(n,e);return!0}function F_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ri(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new lf("app","Firebase",ZL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=KL;function iD(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:y0,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw Oa.create("bad-app-name",{appName:String(s)});if(n||(n=QC()),!n)throw Oa.create("no-options");const a=Ym.get(s);if(a){if(Jo(n,a.options)&&Jo(i,a.config))return a;throw Oa.create("duplicate-app",{appName:s})}const l=new rL(s);for(const h of v0.values())l.addComponent(h);const c=new JL(n,i,l);return Ym.set(s,c),c}function sD(e=y0){const t=Ym.get(e);if(!t&&e===y0&&QC())return iD();if(!t)throw Oa.create("no-app",{appName:e});return t}function Ma(e,t,n){var i;let s=(i=XL[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(c.join(" "));return}xu(new tl(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="firebase-heartbeat-database",e4=1,Vh="firebase-heartbeat-store";let Iv=null;function rD(){return Iv||(Iv=vL(t4,e4,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Oa.create("idb-open",{originalErrorMessage:e.message})})),Iv}async function n4(e){try{const n=(await rD()).transaction(Vh),i=await n.objectStore(Vh).get(aD(e));return await n.done,i}catch(t){if(t instanceof Hr)Nr.warn(t.message);else{const n=Oa.create("idb-get",{originalErrorMessage:t?.message});Nr.warn(n.message)}}}async function _S(e,t){try{const i=(await rD()).transaction(Vh,"readwrite");await i.objectStore(Vh).put(t,aD(e)),await i.done}catch(n){if(n instanceof Hr)Nr.warn(n.message);else{const i=Oa.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(i.message)}}}function aD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1024,s4=30;class r4{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bS();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>s4){const l=l4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Nr.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bS(),{heartbeatsToSend:i,unsentEntries:s}=a4(this._heartbeatsCache.heartbeats),a=Wm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Nr.warn(n),""}}}function bS(){return new Date().toISOString().substring(0,10)}function a4(e,t=i4){const n=[];let i=e.slice();for(const s of e){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),xS(n)>t){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class o4{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GV()?$V().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return _S(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function xS(e){return Wm(JSON.stringify({version:2,heartbeats:e})).length}function l4(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e){xu(new tl("platform-logger",t=>new xL(t),"PRIVATE")),xu(new tl("heartbeat",t=>new r4(t),"PRIVATE")),Ma(g0,yS,e),Ma(g0,yS,"esm2017"),Ma("fire-js","")}u4("");var c4="firebase",h4="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(c4,h4,"app");function z_(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function oD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f4=oD,lD=new lf("auth","Firebase",oD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new U_("@firebase/auth");function d4(e,...t){Gm.logLevel<=Zt.WARN&&Gm.warn(`Auth (${Vu}): ${e}`,...t)}function Sm(e,...t){Gm.logLevel<=Zt.ERROR&&Gm.error(`Auth (${Vu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(e,...t){throw q_(e,...t)}function fs(e,...t){return q_(e,...t)}function H_(e,t,n){const i=Object.assign(Object.assign({},f4()),{[t]:n});return new lf("auth","Firebase",i).create(t,{appName:e.name})}function kr(e){return H_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m4(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Ji(e,"argument-error"),H_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q_(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return lD.create(e,...t)}function It(e,t,...n){if(!e)throw q_(t,...n)}function Ir(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sm(t),new Error(t)}function Vr(e,t){e||Ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function p4(){return wS()==="http:"||wS()==="https:"}function wS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p4()||HV()||"connection"in navigator)?navigator.onLine:!0}function y4(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n){this.shortDelay=t,this.longDelay=n,Vr(n>t,"Short delay should be less than long delay!"),this.isMobile=BV()||qV()}get(){return g4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(e,t){Vr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b4=new cf(3e4,6e4);function qr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Js(e,t,n,i,s={}){return cD(e,s,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const c=uf(Object.assign({key:e.config.apiKey},l)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const d=Object.assign({method:t,headers:h},a);return zV()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&Nu(e.emulatorConfig.host)&&(d.credentials="include"),uD.fetch()(await hD(e,e.config.apiHost,n,c),d)})}async function cD(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},v4),t);try{const s=new w4(e),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zd(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zd(e,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Zd(e,"email-already-in-use",l);if(h==="USER_DISABLED")throw Zd(e,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw H_(e,p,d);Ji(e,p)}}catch(s){if(s instanceof Hr)throw s;Ji(e,"network-request-failed",{message:String(s)})}}async function hf(e,t,n,i,s={}){const a=await Js(e,t,n,i,s);return"mfaPendingCredential"in a&&Ji(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function hD(e,t,n,i){const s=`${t}${n}?${i}`,a=e,l=a.config.emulator?W_(e.config,s):`${e.config.apiScheme}://${s}`;return _4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function x4(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fs(this.auth,"network-request-failed")),b4.get())})}}function Zd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=fs(e,t,i);return s.customData._tokenResponse=n,s}function TS(e){return e!==void 0&&e.enterprise!==void 0}class T4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return x4(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E4(e,t){return Js(e,"GET","/v2/recaptchaConfig",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(e,t){return Js(e,"POST","/v1/accounts:delete",t)}async function $m(e,t){return Js(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function A4(e,t=!1){const n=$e(e),i=await n.getIdToken(t),s=Y_(i);It(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:i,authTime:bh(Ov(s.auth_time)),issuedAtTime:bh(Ov(s.iat)),expirationTime:bh(Ov(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ov(e){return Number(e)*1e3}function Y_(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const s=KC(n);return s?JSON.parse(s):(Sm("Failed to decode base64 JWT payload"),null)}catch(s){return Sm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ES(e){const t=Y_(e);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Hr&&R4(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function R4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bh(this.lastLoginAt),this.creationTime=bh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(e){var t;const n=e.auth,i=await e.getIdToken(),s=await wu(e,$m(n,{idToken:i}));It(s?.users.length,n,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?fD(a.providerUserInfo):[],c=I4(e.providerData,l),h=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!c?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new b0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function D4(e){const t=$e(e);await Km(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function I4(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function fD(e){return e.map(t=>{var{providerId:n}=t,i=z_(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(e,t){const n=await cD(e,{},async()=>{const i=uf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,l=await hD(e,s,"/v1/token",`key=${a}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return e.emulatorConfig&&Nu(e.emulatorConfig.host)&&(h.credentials="include"),uD.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M4(e,t){return Js(e,"POST","/v2/accounts:revokeToken",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ES(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){It(t.length!==0,"internal-error");const n=ES(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await O4(t,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new pu;return i&&(It(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(It(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),a&&(It(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pu,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(e,t){It(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class hs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,a=z_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new b0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await wu(this,this.stsTokenManager.getToken(this.auth,t));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return A4(this,t)}reload(){return D4(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Km(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(kr(this.auth));const t=await this.getIdToken();return await wu(this,S4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,a,l,c,h,d,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,D=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,M=(d=n.createdAt)!==null&&d!==void 0?d:void 0,F=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:L,emailVerified:H,isAnonymous:W,providerData:nt,stsTokenManager:N}=n;It(L&&N,t,"internal-error");const w=pu.fromJSON(this.name,N);It(typeof L=="string",t,"internal-error"),_a(y,t.name),_a(_,t.name),It(typeof H=="boolean",t,"internal-error"),It(typeof W=="boolean",t,"internal-error"),_a(x,t.name),_a(E,t.name),_a(C,t.name),_a(D,t.name),_a(M,t.name),_a(F,t.name);const A=new hs({uid:L,auth:t,email:_,emailVerified:H,displayName:y,isAnonymous:W,photoURL:E,phoneNumber:x,tenantId:C,stsTokenManager:w,createdAt:M,lastLoginAt:F});return nt&&Array.isArray(nt)&&(A.providerData=nt.map(I=>Object.assign({},I))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(t,n,i=!1){const s=new pu;s.updateFromServerResponse(n);const a=new hs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Km(a),a}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];It(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?fD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new pu;c.updateFromIdToken(i);const h=new hs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new b0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new Map;function Or(e){Vr(e instanceof Function,"Expected a class definition");let t=SS.get(e);return t?(Vr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,SS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dD.type="NONE";const AS=dD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e,t,n){return`firebase:${e}:${t}:${n}`}class gu{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Am(this.userKey,s.apiKey,a),this.fullPersistenceKey=Am("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $m(this.auth,{idToken:t}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,t):null}return hs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new gu(Or(AS),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||Or(AS);const l=Am(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const p=await d._get(l);if(p){let y;if(typeof p=="string"){const _=await $m(t,{idToken:p}).catch(()=>{});if(!_)break;y=await hs._fromGetAccountInfoResponse(t,_,p)}else y=hs._fromJSON(t,p);d!==a&&(c=y),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new gu(a,t,i):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(l)}catch{}})),new gu(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_D(t))return"Blackberry";if(bD(t))return"Webos";if(pD(t))return"Safari";if((t.includes("chrome/")||gD(t))&&!t.includes("edge/"))return"Chrome";if(vD(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function mD(e=Xn()){return/firefox\//i.test(e)}function pD(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gD(e=Xn()){return/crios\//i.test(e)}function yD(e=Xn()){return/iemobile/i.test(e)}function vD(e=Xn()){return/android/i.test(e)}function _D(e=Xn()){return/blackberry/i.test(e)}function bD(e=Xn()){return/webos/i.test(e)}function G_(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function k4(e=Xn()){var t;return G_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function P4(){return WV()&&document.documentMode===10}function xD(e=Xn()){return G_(e)||vD(e)||bD(e)||_D(e)||/windows phone/i.test(e)||yD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(e,t=[]){let n;switch(e){case"Browser":n=RS(Xn());break;case"Worker":n=`${RS(Xn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,c)=>{try{const h=t(a);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(e,t={}){return Js(e,"GET","/v2/passwordPolicy",qr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=6;class j4{constructor(t){var n,i,s,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:L4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CS(this),this.idTokenSubscription=new CS(this),this.beforeStateQueue=new N4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var i,s,a;if(!this._deleted&&(this.persistenceManager=await gu.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $m(this,{idToken:t}),i=await hs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ri(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Km(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=y4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(kr(this));const n=t?$e(t):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V4(this),n=new j4(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lf("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await M4(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Or(t)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await gu.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=t.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=t.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&d4(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Wr(e){return $e(e)}class CS{constructor(t){this.auth=t,this.observer=null,this.addObserver=JV(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B4(e){Pp=e}function TD(e){return Pp.loadJS(e)}function F4(){return Pp.recaptchaEnterpriseScript}function z4(){return Pp.gapiScript}function H4(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class q4{constructor(){this.enterprise=new W4}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class W4{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Y4="recaptcha-enterprise",ED="NO_RECAPTCHA";class G4{constructor(t){this.type=Y4,this.auth=Wr(t)}async verify(t="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{E4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new T4(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;TS(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(d=>{l(d)}).catch(()=>{l(ED)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!n&&TS(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=F4();h.length!==0&&(h+=c),TD(h).then(()=>{s(c,a,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function DS(e,t,n,i=!1,s=!1){const a=new G4(e);let l;if(s)l=ED;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Xm(e,t,n,i,s){var a;if(!((a=e._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await DS(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await DS(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(e,t){const n=F_(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Jo(a,t??{}))return s;Ji(s,"already-initialized")}return n.initialize({options:t})}function K4(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Or);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function X4(e,t,n){const i=Wr(e);It(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,a=SD(t),{host:l,port:c}=Q4(t),h=c===null?"":`:${c}`,d={url:`${a}//${l}${h}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){It(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),It(Jo(d,i.config.emulator)&&Jo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Nu(l)?(JC(`${a}//${l}${h}`),tD("Auth",!0)):Z4()}function SD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Q4(e){const t=SD(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:IS(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:IS(l)}}}function IS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Z4(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,n){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}async function J4(e,t){return Js(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(e,t){return hf(e,"POST","/v1/accounts:signInWithPassword",qr(e,t))}async function AD(e,t){return Js(e,"POST","/v1/accounts:sendOobCode",qr(e,t))}async function ej(e,t){return AD(e,t)}async function nj(e,t){return AD(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(e,t){return hf(e,"POST","/v1/accounts:signInWithEmailLink",qr(e,t))}async function sj(e,t){return hf(e,"POST","/v1/accounts:signInWithEmailLink",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends $_{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Lh(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Lh(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(t,n,"signInWithPassword",tj);case"emailLink":return ij(t,{email:this._email,oobCode:this._password});default:Ji(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(t,i,"signUpPassword",J4);case"emailLink":return sj(t,{idToken:n,email:this._email,oobCode:this._password});default:Ji(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(e,t){return hf(e,"POST","/v1/accounts:signInWithIdp",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="http://localhost";class el extends $_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new el(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,a=z_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new el(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return yu(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,yu(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,yu(t,n)}buildRequest(){const t={requestUri:rj,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oj(e){const t=oh(lh(e)).link,n=t?oh(lh(t)).deep_link_id:null,i=oh(lh(e)).deep_link_id;return(i?oh(lh(i)).link:null)||i||n||t||e}class K_{constructor(t){var n,i,s,a,l,c;const h=oh(lh(t)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,y=aj((s=h.mode)!==null&&s!==void 0?s:null);It(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=oj(t);try{return new K_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(){this.providerId=Lu.PROVIDER_ID}static credential(t,n){return Lh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=K_.parseLink(n);return It(i,"argument-error"),Lh._fromEmailAndCode(t,i.code,i.tenantId)}}Lu.PROVIDER_ID="password";Lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends X_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends ff{constructor(){super("facebook.com")}static credential(t){return el._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wa.credentialFromTaggedObject(t)}static credentialFromError(t){return wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wa.credential(t.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ff{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return el._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Dr.credential(n,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends ff{constructor(){super("github.com")}static credential(t){return el._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ta.credentialFromTaggedObject(t)}static credentialFromError(t){return Ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ta.credential(t.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends ff{constructor(){super("twitter.com")}static credential(t,n){return el._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ea.credentialFromTaggedObject(t)}static credentialFromError(t){return Ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ea.credential(n,i)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(e,t){return hf(e,"POST","/v1/accounts:signUp",qr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const a=await hs._fromIdTokenResponse(t,i,s),l=OS(i);return new nl({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=OS(i);return new nl({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function OS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Hr{constructor(t,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qm.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Qm(t,n,i,s)}}function RD(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qm._fromErrorAndOperation(e,a,t,i):a})}async function uj(e,t,n=!1){const i=await wu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(e,t,n=!1){const{auth:i}=e;if(Ri(i.app))return Promise.reject(kr(i));const s="reauthenticate";try{const a=await wu(e,RD(i,s,t,e),n);It(a.idToken,i,"internal-error");const l=Y_(a.idToken);It(l,i,"internal-error");const{sub:c}=l;return It(e.uid===c,i,"user-mismatch"),nl._forOperation(e,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ji(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(e,t,n=!1){if(Ri(e.app))return Promise.reject(kr(e));const i="signIn",s=await RD(e,i,t),a=await nl._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function hj(e,t){return CD(Wr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(e){const t=Wr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function fj(e,t,n){const i=Wr(e);await Xm(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nj)}async function dj(e,t,n){if(Ri(e.app))return Promise.reject(kr(e));const i=Wr(e),l=await Xm(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&DD(e),h}),c=await nl._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function mj(e,t,n){return Ri(e.app)?Promise.reject(kr(e)):hj($e(e),Lu.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DD(e),i})}async function pj(e,t){const n=$e(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await ej(n.auth,s);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(e,t){return Js(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=$e(e),a={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},l=await wu(i,gj(i.auth,a));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(e,t){return $e(e).setPersistence(t)}function _j(e,t,n,i){return $e(e).onIdTokenChanged(t,n,i)}function bj(e,t,n){return $e(e).beforeAuthStateChanged(t,n)}function xj(e,t,n,i){return $e(e).onAuthStateChanged(t,n,i)}function wj(e){return $e(e).signOut()}const Zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zm,"1"),this.storage.removeItem(Zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=1e3,Ej=10;class OD extends ID{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);P4()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Ej):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}OD.type="LOCAL";const MD=OD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD extends ID{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kD.type="SESSION";const Q_=kD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Np(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async d=>d(n.origin,a)),h=await Sj(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const d=Z_("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(p),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function Rj(e){qs().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function Cj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dj(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Ij(){return PD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebaseLocalStorageDb",Oj=1,Jm="firebaseLocalStorage",VD="fbase_key";class df{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vp(e,t){return e.transaction([Jm],t?"readwrite":"readonly").objectStore(Jm)}function Mj(){const e=indexedDB.deleteDatabase(ND);return new df(e).toPromise()}function x0(){const e=indexedDB.open(ND,Oj);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Jm,{keyPath:VD})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Jm)?t(i):(i.close(),await Mj(),t(await x0()))})})}async function MS(e,t,n){const i=Vp(e,!0).put({[VD]:t,value:n});return new df(i).toPromise()}async function kj(e,t){const n=Vp(e,!1).get(t),i=await new df(n).toPromise();return i===void 0?null:i.value}function kS(e,t){const n=Vp(e,!0).delete(t);return new df(n).toPromise()}const Pj=800,Nj=3;class LD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Nj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Np._getInstance(Ij()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Aj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Dj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await x0();return await MS(t,Zm,"1"),await kS(t,Zm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>MS(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>kj(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const a=Vp(s,!1).getAll();return new df(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LD.type="LOCAL";const Vj=LD;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e,t){return t?Or(t):(It(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends $_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return yu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return yu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Lj(e){return CD(e.auth,new J_(e),e.bypassAuthState)}function jj(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),cj(n,new J_(e),e.bypassAuthState)}async function Uj(e){const{auth:t,user:n}=e;return It(n,t,"internal-error"),uj(n,new J_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n,i,s,a=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return Uj;case"reauthViaPopup":case"reauthViaRedirect":return jj;default:Ji(this.auth,"internal-error")}}resolve(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new cf(2e3,1e4);async function BD(e,t,n){if(Ri(e.app))return Promise.reject(fs(e,"operation-not-supported-in-this-environment"));const i=Wr(e);m4(e,t,X_);const s=jD(i,n);return new zo(i,"signInViaPopup",t,s).executeNotNull()}class zo extends UD{constructor(t,n,i,s,a){super(t,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const t=Z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bj.get())};t()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="pendingRedirect",Rm=new Map;class zj extends UD{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Rm.get(this.auth._key());if(!t){try{const i=await Hj(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Rm.set(this.auth._key(),t)}return this.bypassAuthState||Rm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hj(e,t){const n=Yj(t),i=Wj(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function qj(e,t){Rm.set(e._key(),t)}function Wj(e){return Or(e._redirectPersistence)}function Yj(e){return Am(Fj,e.config.apiKey,e.name)}async function Gj(e,t,n=!1){if(Ri(e.app))return Promise.reject(kr(e));const i=Wr(e),s=jD(i,t),l=await new zj(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=10*60*1e3;class Kj{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xj(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!FD(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(fs(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$j&&this.cachedEventUids.clear(),this.cachedEventUids.has(PS(t))}saveEventToCache(t){this.cachedEventUids.add(PS(t)),this.lastProcessedEventTime=Date.now()}}function PS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FD({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Xj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(e,t={}){return Js(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^https?/;async function t3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Qj(e);for(const n of t)try{if(e3(n))return}catch{}Ji(e,"unauthorized-domain")}function e3(e){const t=_0(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!Jj.test(n))return!1;if(Zj.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new cf(3e4,6e4);function NS(){const e=qs().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function i3(e){return new Promise((t,n)=>{var i,s,a;function l(){NS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{NS(),n(fs(e,"network-request-failed"))},timeout:n3.get()})}if(!((s=(i=qs().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((a=qs().gapi)===null||a===void 0)&&a.load)l();else{const c=H4("iframefcb");return qs()[c]=()=>{gapi.load?l():n(fs(e,"network-request-failed"))},TD(`${z4()}?onload=${c}`).catch(h=>n(h))}}).catch(t=>{throw Cm=null,t})}let Cm=null;function s3(e){return Cm=Cm||i3(e),Cm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new cf(5e3,15e3),a3="__/auth/iframe",o3="emulator/auth/iframe",l3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c3(e){const t=e.config;It(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?W_(t,o3):`https://${e.config.authDomain}/${a3}`,i={apiKey:t.apiKey,appName:e.name,v:Vu},s=u3.get(e.config.apiHost);s&&(i.eid=s);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${uf(i).slice(1)}`}async function h3(e){const t=await s3(e),n=qs().gapi;return It(n,e,"internal-error"),t.open({where:document.body,url:c3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l3,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=fs(e,"network-request-failed"),c=qs().setTimeout(()=>{a(l)},r3.get());function h(){qs().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d3=500,m3=600,p3="_blank",g3="http://localhost";class VS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y3(e,t,n,i=d3,s=m3){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},f3),{width:i.toString(),height:s.toString(),top:a,left:l}),d=Xn().toLowerCase();n&&(c=gD(d)?p3:n),mD(d)&&(t=t||g3,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(k4(d)&&c!=="_self")return v3(t||"",c),new VS(null);const y=window.open(t||"",c,p);It(y,e,"popup-blocked");try{y.focus()}catch{}return new VS(y)}function v3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="__/auth/handler",b3="emulator/auth/handler",x3=encodeURIComponent("fac");async function LS(e,t,n,i,s,a){It(e.config.authDomain,e,"auth-domain-config-required"),It(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Vu,eventId:s};if(t instanceof X_){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",ZV(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof ff){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await e._getAppCheckToken(),d=h?`#${x3}=${encodeURIComponent(h)}`:"";return`${w3(e)}?${uf(c).slice(1)}${d}`}function w3({config:e}){return e.emulator?W_(e,b3):`https://${e.authDomain}/${_3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="webStorageSupport";class T3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q_,this._completeRedirectFn=Gj,this._overrideRedirectResult=qj}async _openPopup(t,n,i,s){var a;Vr((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await LS(t,n,i,_0(),s);return y3(t,l,Z_())}async _openRedirect(t,n,i,s){await this._originValidation(t);const a=await LS(t,n,i,_0(),s);return Rj(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Vr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await h3(t),i=new Kj(t);return n.register("authEvent",s=>(It(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Mv,{type:Mv},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[Mv];l!==void 0&&n(!!l),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return xD()||pD()||G_()}}const E3=T3;var jS="@firebase/auth",US="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R3(e){xu(new tl("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;It(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wD(e)},d=new U4(i,s,a,h);return K4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),xu(new tl("auth-internal",t=>{const n=Wr(t.getProvider("auth").getImmediate());return(i=>new S3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(jS,US,A3(e)),Ma(jS,US,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=5*60,D3=ZC("authIdTokenMaxAge")||C3;let BS=null;const I3=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>D3)return;const s=n?.token;BS!==s&&(BS=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function O3(e=sD()){const t=F_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=$4(e,{popupRedirectResolver:E3,persistence:[Vj,MD,Q_]}),i=ZC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=I3(a.toString());bj(n,l,()=>l(n.currentUser)),_j(n,c=>l(c))}}const s=XC("auth");return s&&X4(n,`http://${s}`),n}function M3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}B4({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const a=fs("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",M3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R3("Browser");var FS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,zD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function A(){}A.prototype=w.prototype,N.D=w.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(I,P,j){for(var V=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)V[xt-2]=arguments[xt];return w.prototype[P].apply(I,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,w,A){A||(A=0);var I=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)I[P]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(P=0;16>P;++P)I[P]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=N.g[0],A=N.g[1],P=N.g[2];var j=N.g[3],V=w+(j^A&(P^j))+I[0]+3614090360&4294967295;w=A+(V<<7&4294967295|V>>>25),V=j+(P^w&(A^P))+I[1]+3905402710&4294967295,j=w+(V<<12&4294967295|V>>>20),V=P+(A^j&(w^A))+I[2]+606105819&4294967295,P=j+(V<<17&4294967295|V>>>15),V=A+(w^P&(j^w))+I[3]+3250441966&4294967295,A=P+(V<<22&4294967295|V>>>10),V=w+(j^A&(P^j))+I[4]+4118548399&4294967295,w=A+(V<<7&4294967295|V>>>25),V=j+(P^w&(A^P))+I[5]+1200080426&4294967295,j=w+(V<<12&4294967295|V>>>20),V=P+(A^j&(w^A))+I[6]+2821735955&4294967295,P=j+(V<<17&4294967295|V>>>15),V=A+(w^P&(j^w))+I[7]+4249261313&4294967295,A=P+(V<<22&4294967295|V>>>10),V=w+(j^A&(P^j))+I[8]+1770035416&4294967295,w=A+(V<<7&4294967295|V>>>25),V=j+(P^w&(A^P))+I[9]+2336552879&4294967295,j=w+(V<<12&4294967295|V>>>20),V=P+(A^j&(w^A))+I[10]+4294925233&4294967295,P=j+(V<<17&4294967295|V>>>15),V=A+(w^P&(j^w))+I[11]+2304563134&4294967295,A=P+(V<<22&4294967295|V>>>10),V=w+(j^A&(P^j))+I[12]+1804603682&4294967295,w=A+(V<<7&4294967295|V>>>25),V=j+(P^w&(A^P))+I[13]+4254626195&4294967295,j=w+(V<<12&4294967295|V>>>20),V=P+(A^j&(w^A))+I[14]+2792965006&4294967295,P=j+(V<<17&4294967295|V>>>15),V=A+(w^P&(j^w))+I[15]+1236535329&4294967295,A=P+(V<<22&4294967295|V>>>10),V=w+(P^j&(A^P))+I[1]+4129170786&4294967295,w=A+(V<<5&4294967295|V>>>27),V=j+(A^P&(w^A))+I[6]+3225465664&4294967295,j=w+(V<<9&4294967295|V>>>23),V=P+(w^A&(j^w))+I[11]+643717713&4294967295,P=j+(V<<14&4294967295|V>>>18),V=A+(j^w&(P^j))+I[0]+3921069994&4294967295,A=P+(V<<20&4294967295|V>>>12),V=w+(P^j&(A^P))+I[5]+3593408605&4294967295,w=A+(V<<5&4294967295|V>>>27),V=j+(A^P&(w^A))+I[10]+38016083&4294967295,j=w+(V<<9&4294967295|V>>>23),V=P+(w^A&(j^w))+I[15]+3634488961&4294967295,P=j+(V<<14&4294967295|V>>>18),V=A+(j^w&(P^j))+I[4]+3889429448&4294967295,A=P+(V<<20&4294967295|V>>>12),V=w+(P^j&(A^P))+I[9]+568446438&4294967295,w=A+(V<<5&4294967295|V>>>27),V=j+(A^P&(w^A))+I[14]+3275163606&4294967295,j=w+(V<<9&4294967295|V>>>23),V=P+(w^A&(j^w))+I[3]+4107603335&4294967295,P=j+(V<<14&4294967295|V>>>18),V=A+(j^w&(P^j))+I[8]+1163531501&4294967295,A=P+(V<<20&4294967295|V>>>12),V=w+(P^j&(A^P))+I[13]+2850285829&4294967295,w=A+(V<<5&4294967295|V>>>27),V=j+(A^P&(w^A))+I[2]+4243563512&4294967295,j=w+(V<<9&4294967295|V>>>23),V=P+(w^A&(j^w))+I[7]+1735328473&4294967295,P=j+(V<<14&4294967295|V>>>18),V=A+(j^w&(P^j))+I[12]+2368359562&4294967295,A=P+(V<<20&4294967295|V>>>12),V=w+(A^P^j)+I[5]+4294588738&4294967295,w=A+(V<<4&4294967295|V>>>28),V=j+(w^A^P)+I[8]+2272392833&4294967295,j=w+(V<<11&4294967295|V>>>21),V=P+(j^w^A)+I[11]+1839030562&4294967295,P=j+(V<<16&4294967295|V>>>16),V=A+(P^j^w)+I[14]+4259657740&4294967295,A=P+(V<<23&4294967295|V>>>9),V=w+(A^P^j)+I[1]+2763975236&4294967295,w=A+(V<<4&4294967295|V>>>28),V=j+(w^A^P)+I[4]+1272893353&4294967295,j=w+(V<<11&4294967295|V>>>21),V=P+(j^w^A)+I[7]+4139469664&4294967295,P=j+(V<<16&4294967295|V>>>16),V=A+(P^j^w)+I[10]+3200236656&4294967295,A=P+(V<<23&4294967295|V>>>9),V=w+(A^P^j)+I[13]+681279174&4294967295,w=A+(V<<4&4294967295|V>>>28),V=j+(w^A^P)+I[0]+3936430074&4294967295,j=w+(V<<11&4294967295|V>>>21),V=P+(j^w^A)+I[3]+3572445317&4294967295,P=j+(V<<16&4294967295|V>>>16),V=A+(P^j^w)+I[6]+76029189&4294967295,A=P+(V<<23&4294967295|V>>>9),V=w+(A^P^j)+I[9]+3654602809&4294967295,w=A+(V<<4&4294967295|V>>>28),V=j+(w^A^P)+I[12]+3873151461&4294967295,j=w+(V<<11&4294967295|V>>>21),V=P+(j^w^A)+I[15]+530742520&4294967295,P=j+(V<<16&4294967295|V>>>16),V=A+(P^j^w)+I[2]+3299628645&4294967295,A=P+(V<<23&4294967295|V>>>9),V=w+(P^(A|~j))+I[0]+4096336452&4294967295,w=A+(V<<6&4294967295|V>>>26),V=j+(A^(w|~P))+I[7]+1126891415&4294967295,j=w+(V<<10&4294967295|V>>>22),V=P+(w^(j|~A))+I[14]+2878612391&4294967295,P=j+(V<<15&4294967295|V>>>17),V=A+(j^(P|~w))+I[5]+4237533241&4294967295,A=P+(V<<21&4294967295|V>>>11),V=w+(P^(A|~j))+I[12]+1700485571&4294967295,w=A+(V<<6&4294967295|V>>>26),V=j+(A^(w|~P))+I[3]+2399980690&4294967295,j=w+(V<<10&4294967295|V>>>22),V=P+(w^(j|~A))+I[10]+4293915773&4294967295,P=j+(V<<15&4294967295|V>>>17),V=A+(j^(P|~w))+I[1]+2240044497&4294967295,A=P+(V<<21&4294967295|V>>>11),V=w+(P^(A|~j))+I[8]+1873313359&4294967295,w=A+(V<<6&4294967295|V>>>26),V=j+(A^(w|~P))+I[15]+4264355552&4294967295,j=w+(V<<10&4294967295|V>>>22),V=P+(w^(j|~A))+I[6]+2734768916&4294967295,P=j+(V<<15&4294967295|V>>>17),V=A+(j^(P|~w))+I[13]+1309151649&4294967295,A=P+(V<<21&4294967295|V>>>11),V=w+(P^(A|~j))+I[4]+4149444226&4294967295,w=A+(V<<6&4294967295|V>>>26),V=j+(A^(w|~P))+I[11]+3174756917&4294967295,j=w+(V<<10&4294967295|V>>>22),V=P+(w^(j|~A))+I[2]+718787259&4294967295,P=j+(V<<15&4294967295|V>>>17),V=A+(j^(P|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+j&4294967295}i.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var A=w-this.blockSize,I=this.B,P=this.h,j=0;j<w;){if(P==0)for(;j<=A;)s(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(I[P++]=N.charCodeAt(j++),P==this.blockSize){s(this,I),P=0;break}}else for(;j<w;)if(I[P++]=N[j++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=w},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var A=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=A&255,A/=256;for(this.u(N),N=Array(16),w=A=0;4>w;++w)for(var I=0;32>I;I+=8)N[A++]=this.g[w]>>>I&255;return N};function a(N,w){var A=c;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=w(N)}function l(N,w){this.h=w;for(var A=[],I=!0,P=N.length-1;0<=P;P--){var j=N[P]|0;I&&j==w||(A[P]=j,I=!1)}this.g=A}var c={};function h(N){return-128<=N&&128>N?a(N,function(w){return new l([w|0],0>w?-1:0)}):new l([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return y;if(0>N)return D(d(-N));for(var w=[],A=1,I=0;N>=A;I++)w[I]=N/A|0,A*=4294967296;return new l(w,0)}function p(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return D(p(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(w,8)),I=y,P=0;P<N.length;P+=8){var j=Math.min(8,N.length-P),V=parseInt(N.substring(P,P+j),w);8>j?(j=d(Math.pow(w,j)),I=I.j(j).add(d(V))):(I=I.j(A),I=I.add(d(V)))}return I}var y=h(0),_=h(1),x=h(16777216);e=l.prototype,e.m=function(){if(C(this))return-D(this).m();for(var N=0,w=1,A=0;A<this.g.length;A++){var I=this.i(A);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},e.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(C(this))return"-"+D(this).toString(N);for(var w=d(Math.pow(N,6)),A=this,I="";;){var P=H(A,w).g;A=M(A,P.j(w));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=P,E(A))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},e.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function C(N){return N.h==-1}e.l=function(N){return N=M(this,N),C(N)?-1:E(N)?0:1};function D(N){for(var w=N.g.length,A=[],I=0;I<w;I++)A[I]=~N.g[I];return new l(A,~N.h).add(_)}e.abs=function(){return C(this)?D(this):this},e.add=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0,P=0;P<=w;P++){var j=I+(this.i(P)&65535)+(N.i(P)&65535),V=(j>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);I=V>>>16,j&=65535,V&=65535,A[P]=V<<16|j}return new l(A,A[A.length-1]&-2147483648?-1:0)};function M(N,w){return N.add(D(w))}e.j=function(N){if(E(this)||E(N))return y;if(C(this))return C(N)?D(this).j(D(N)):D(D(this).j(N));if(C(N))return D(this.j(D(N)));if(0>this.l(x)&&0>N.l(x))return d(this.m()*N.m());for(var w=this.g.length+N.g.length,A=[],I=0;I<2*w;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<N.g.length;P++){var j=this.i(I)>>>16,V=this.i(I)&65535,xt=N.i(P)>>>16,gt=N.i(P)&65535;A[2*I+2*P]+=V*gt,F(A,2*I+2*P),A[2*I+2*P+1]+=j*gt,F(A,2*I+2*P+1),A[2*I+2*P+1]+=V*xt,F(A,2*I+2*P+1),A[2*I+2*P+2]+=j*xt,F(A,2*I+2*P+2)}for(I=0;I<w;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=w;I<2*w;I++)A[I]=0;return new l(A,0)};function F(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function L(N,w){this.g=N,this.h=w}function H(N,w){if(E(w))throw Error("division by zero");if(E(N))return new L(y,y);if(C(N))return w=H(D(N),w),new L(D(w.g),D(w.h));if(C(w))return w=H(N,D(w)),new L(D(w.g),w.h);if(30<N.g.length){if(C(N)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var A=_,I=w;0>=I.l(N);)A=W(A),I=W(I);var P=nt(A,1),j=nt(I,1);for(I=nt(I,2),A=nt(A,2);!E(I);){var V=j.add(I);0>=V.l(N)&&(P=P.add(A),j=V),I=nt(I,1),A=nt(A,1)}return w=M(N,P.j(w)),new L(P,w)}for(P=y;0<=N.l(w);){for(A=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=d(A),V=j.j(w);C(V)||0<V.l(N);)A-=I,j=d(A),V=j.j(w);E(j)&&(j=_),P=P.add(j),N=M(N,V)}return new L(P,N)}e.A=function(N){return H(this,N).h},e.and=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)&N.i(I);return new l(A,this.h&N.h)},e.or=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)|N.i(I);return new l(A,this.h|N.h)},e.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),A=[],I=0;I<w;I++)A[I]=this.i(I)^N.i(I);return new l(A,this.h^N.h)};function W(N){for(var w=N.g.length+1,A=[],I=0;I<w;I++)A[I]=N.i(I)<<1|N.i(I-1)>>>31;return new l(A,N.h)}function nt(N,w){var A=w>>5;w%=32;for(var I=N.g.length-A,P=[],j=0;j<I;j++)P[j]=0<w?N.i(j+A)>>>w|N.i(j+A+1)<<32-w:N.i(j+A);return new l(P,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,zD=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,ka=l}).apply(typeof FS<"u"?FS:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HD,uh,qD,Dm,w0,WD,YD,GD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,S){return m==Array.prototype||m==Object.prototype||(m[b]=S.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function s(m,b){if(b)t:{var S=i;m=m.split(".");for(var k=0;k<m.length-1;k++){var $=m[k];if(!($ in S))break t;S=S[$]}m=m[m.length-1],k=S[m],b=b(k),b!=k&&b!=null&&t(S,m,{configurable:!0,writable:!0,value:b})}}function a(m,b){m instanceof String&&(m+="");var S=0,k=!1,$={next:function(){if(!k&&S<m.length){var it=S++;return{value:b(it,m[it]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(m){return m||function(){return a(this,function(b,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function d(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function p(m,b,S){return m.call.apply(m.bind,arguments)}function y(m,b,S){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),m.apply(b,$)}}return function(){return m.apply(b,arguments)}}function _(m,b,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function x(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function E(m,b){function S(){}S.prototype=b.prototype,m.aa=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(k,$,it){for(var dt=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)dt[ne-2]=arguments[ne];return b.prototype[$].apply(k,dt)}}function C(m){const b=m.length;if(0<b){const S=Array(b);for(let k=0;k<b;k++)S[k]=m[k];return S}return[]}function D(m,b){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(h(k)){const $=m.length||0,it=k.length||0;m.length=$+it;for(let dt=0;dt<it;dt++)m[$+dt]=k[dt]}else m.push(k)}}class M{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(m){return/^[\s\xa0]*$/.test(m)}function L(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function H(m){return H[" "](m),m}H[" "]=function(){};var W=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function nt(m,b,S){for(const k in m)b.call(S,m[k],k,m)}function N(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function w(m){const b={};for(const S in m)b[S]=m[S];return b}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,b){let S,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(S in k)m[S]=k[S];for(let it=0;it<A.length;it++)S=A[it],Object.prototype.hasOwnProperty.call(k,S)&&(m[S]=k[S])}}function P(m){var b=1;m=m.split(":");const S=[];for(;0<b&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function j(m){c.setTimeout(()=>{throw m},0)}function V(){var m=ct;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class xt{constructor(){this.h=this.g=null}add(b,S){const k=gt.get();k.set(b,S),this.h?this.h.next=k:this.g=k,this.h=k}}var gt=new M(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ht=!1,ct=new xt,B=()=>{const m=c.Promise.resolve(void 0);Z=()=>{m.then(Q)}};var Q=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(S){j(S)}var b=gt;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}ht=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,b),c.removeEventListener("test",S,b)}catch{}return m}();function yt(m,b){if(J.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(W){t:{try{H(b.nodeName);var $=!0;break t}catch{}$=!1}$||(b=null)}}else S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:mt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&yt.aa.h.call(this)}}E(yt,J);var mt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),_t=0;function At(m,b,S,k,$){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!k,this.ha=$,this.key=++_t,this.da=this.fa=!1}function te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Rt(m){this.src=m,this.g={},this.h=0}Rt.prototype.add=function(m,b,S,k,$){var it=m.toString();m=this.g[it],m||(m=this.g[it]=[],this.h++);var dt=he(m,b,k,$);return-1<dt?(b=m[dt],S||(b.fa=!1)):(b=new At(b,this.src,it,!!k,$),b.fa=S,m.push(b)),b};function Gt(m,b){var S=b.type;if(S in m.g){var k=m.g[S],$=Array.prototype.indexOf.call(k,b,void 0),it;(it=0<=$)&&Array.prototype.splice.call(k,$,1),it&&(te(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function he(m,b,S,k){for(var $=0;$<m.length;++$){var it=m[$];if(!it.da&&it.listener==b&&it.capture==!!S&&it.ha==k)return $}return-1}var St="closure_lm_"+(1e6*Math.random()|0),Ft={};function Tt(m,b,S,k,$){if(Array.isArray(b)){for(var it=0;it<b.length;it++)Tt(m,b[it],S,k,$);return null}return S=An(S),m&&m[Yt]?m.K(b,S,d(k)?!!k.capture:!1,$):ee(m,b,S,!1,k,$)}function ee(m,b,S,k,$,it){if(!b)throw Error("Invalid event type");var dt=d($)?!!$.capture:!!$,ne=Qn(m);if(ne||(m[St]=ne=new Rt(m)),S=ne.add(b,S,k,dt,it),S.proxy)return S;if(k=$t(),S.proxy=k,k.src=m,k.listener=S,m.addEventListener)ft||($=dt),$===void 0&&($=!1),m.addEventListener(b.toString(),k,$);else if(m.attachEvent)m.attachEvent(Fn(b.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function $t(){function m(S){return b.call(m.src,m.listener,S)}const b=zn;return m}function ae(m,b,S,k,$){if(Array.isArray(b))for(var it=0;it<b.length;it++)ae(m,b[it],S,k,$);else k=d(k)?!!k.capture:!!k,S=An(S),m&&m[Yt]?(m=m.i,b=String(b).toString(),b in m.g&&(it=m.g[b],S=he(it,S,k,$),-1<S&&(te(it[S]),Array.prototype.splice.call(it,S,1),it.length==0&&(delete m.g[b],m.h--)))):m&&(m=Qn(m))&&(b=m.g[b.toString()],m=-1,b&&(m=he(b,S,k,$)),(S=-1<m?b[m]:null)&&_e(S))}function _e(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[Yt])Gt(b.i,m);else{var S=m.type,k=m.proxy;b.removeEventListener?b.removeEventListener(S,k,m.capture):b.detachEvent?b.detachEvent(Fn(S),k):b.addListener&&b.removeListener&&b.removeListener(k),(S=Qn(b))?(Gt(S,m),S.h==0&&(S.src=null,b[St]=null)):te(m)}}}function Fn(m){return m in Ft?Ft[m]:Ft[m]="on"+m}function zn(m,b){if(m.da)m=!0;else{b=new yt(b,this);var S=m.listener,k=m.ha||m.src;m.fa&&_e(m),m=S.call(k,b)}return m}function Qn(m){return m=m[St],m instanceof Rt?m:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(m){return typeof m=="function"?m:(m[ke]||(m[ke]=function(b){return m.handleEvent(b)}),m[ke])}function jt(){st.call(this),this.i=new Rt(this),this.M=this,this.F=null}E(jt,st),jt.prototype[Yt]=!0,jt.prototype.removeEventListener=function(m,b,S,k){ae(this,m,b,S,k)};function Nt(m,b){var S,k=m.F;if(k)for(S=[];k;k=k.F)S.push(k);if(m=m.M,k=b.type||b,typeof b=="string")b=new J(b,m);else if(b instanceof J)b.target=b.target||m;else{var $=b;b=new J(k,m),I(b,$)}if($=!0,S)for(var it=S.length-1;0<=it;it--){var dt=b.g=S[it];$=Ce(dt,k,!0,b)&&$}if(dt=b.g=m,$=Ce(dt,k,!0,b)&&$,$=Ce(dt,k,!1,b)&&$,S)for(it=0;it<S.length;it++)dt=b.g=S[it],$=Ce(dt,k,!1,b)&&$}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var S=m.g[b],k=0;k<S.length;k++)te(S[k]);delete m.g[b],m.h--}}this.F=null},jt.prototype.K=function(m,b,S,k){return this.i.add(String(m),b,!1,S,k)},jt.prototype.L=function(m,b,S,k){return this.i.add(String(m),b,!0,S,k)};function Ce(m,b,S,k){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var $=!0,it=0;it<b.length;++it){var dt=b[it];if(dt&&!dt.da&&dt.capture==S){var ne=dt.listener,fn=dt.ha||dt.src;dt.fa&&Gt(m.i,dt),$=ne.call(fn,k)!==!1&&$}}return $&&!k.defaultPrevented}function Pe(m,b,S){if(typeof m=="function")S&&(m=_(m,S));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(m,b||0)}function xs(m){m.g=Pe(()=>{m.g=null,m.i&&(m.i=!1,xs(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class pi extends st{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(m){st.call(this),this.h=m,this.g={}}E(tn,st);var vn=[];function gi(m){nt(m.g,function(b,S){this.g.hasOwnProperty(S)&&_e(b)},m),m.g={}}tn.prototype.N=function(){tn.aa.N.call(this),gi(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=c.JSON.stringify,tr=c.JSON.parse,ws=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function er(){}er.prototype.h=null;function no(m){return m.h||(m.h=m.i())}function Gr(){}var ts={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){J.call(this,"d")}E(Oi,J);function en(){J.call(this,"c")}E(en,J);var De={},Ts=null;function oe(){return Ts=Ts||new jt}De.La="serverreachability";function Rn(m){J.call(this,De.La,m)}E(Rn,J);function Es(m){const b=oe();Nt(b,new Rn(b))}De.STAT_EVENT="statevent";function $r(m,b){J.call(this,De.STAT_EVENT,m),this.stat=b}E($r,J);function Ee(m){const b=oe();Nt(b,new $r(b,m))}De.Ma="timingevent";function He(m,b){J.call(this,De.Ma,m),this.size=b}E(He,J);function Ne(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function nr(m,b,S,k,$,it){m.info(function(){if(m.g)if(it)for(var dt="",ne=it.split("&"),fn=0;fn<ne.length;fn++){var ie=ne[fn].split("=");if(1<ie.length){var xn=ie[0];ie=ie[1];var dn=xn.split("_");dt=2<=dn.length&&dn[1]=="type"?dt+(xn+"="+ie+"&"):dt+(xn+"=redacted&")}}else dt=null;else dt=it;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+b+`
`+S+`
`+dt})}function io(m,b,S,k,$,it,dt){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+b+`
`+S+`
`+it+" "+dt})}function Mi(m,b,S,k){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+es(m,S)+(k?" "+k:"")})}function hl(m,b){m.info(function(){return"TIMEOUT: "+b})}Cn.prototype.info=function(){};function es(m,b){if(!m.g)return b;if(!b)return null;try{var S=JSON.parse(b);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var k=S[m];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var it=$[0];if(it!="noop"&&it!="stop"&&it!="close")for(var dt=1;dt<$.length;dt++)$[dt]=""}}}}return yi(S)}catch{return b}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ki;function Pt(){}E(Pt,er),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},ki=new Pt;function qt(m,b,S,k){this.j=m,this.i=b,this.l=S,this.R=k||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Dn={},_n={};function Zn(m,b,S){m.L=1,m.v=lo(vi(b)),m.m=S,m.P=!0,ss(m,null)}function ss(m,b){m.F=Date.now(),so(m),m.A=vi(m.v);var S=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),tc(S.i,"t",k),m.C=0,S=m.j.J,m.h=new Ut,m.g=Gf(m.j,S?b:null,!m.m),0<m.O&&(m.M=new pi(_(m.Y,m,m.g),m.O)),b=m.U,S=m.g,k=m.ca;var $="readystatechange";Array.isArray($)||($&&(vn[0]=$.toString()),$=vn);for(var it=0;it<$.length;it++){var dt=Tt(S,$[it],k||b.handleEvent,!1,b.h||b);if(!dt)break;b.g[dt.key]=dt}b=m.H?w(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),Es(),nr(m.i,m.u,m.A,m.l,m.R,m.m)}qt.prototype.ca=function(m){m=m.target;const b=this.M;b&&Li(m)==3?b.j():this.Y(m)},qt.prototype.Y=function(m){try{if(m==this.g)t:{const dn=Li(this.g);var b=this.g.Ba();const cr=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||Uf(this.g)))){this.J||dn!=4||b==7||(b==8||0>=cr?Es(3):Es(2)),Kr(this);var S=this.g.Z();this.X=S;e:if(fl(this)){var k=Uf(this.g);m="";var $=k.length,it=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Ss(this);var dt="";break e}this.h.i=new c.TextDecoder}for(b=0;b<$;b++)this.h.h=!0,m+=this.h.i.decode(k[b],{stream:!(it&&b==$-1)});k.length=0,this.h.g+=m,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=S==200,io(this.i,this.u,this.A,this.l,this.R,dn,S),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,fn=this.g;if((ne=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ne)){var ie=ne;break e}}ie=null}if(S=ie)Mi(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ro(this,S);else{this.o=!1,this.s=3,Ee(12),In(this),Ss(this);break t}}if(this.P){S=!0;let On;for(;!this.J&&this.C<dt.length;)if(On=kf(this,dt),On==_n){dn==4&&(this.s=4,Ee(14),S=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Dn){this.s=4,Ee(15),Mi(this.i,this.l,dt,"[Invalid Chunk]"),S=!1;break}else Mi(this.i,this.l,On,null),ro(this,On);if(fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||dt.length!=0||this.h.h||(this.s=1,Ee(16),S=!1),this.o=this.o&&S,!S)Mi(this.i,this.l,dt,"[Invalid Chunked Response]"),In(this),Ss(this);else if(0<dt.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),yo(xn),xn.M=!0,Ee(11))}}else Mi(this.i,this.l,dt,null),ro(this,dt);dn==4&&In(this),this.o&&!this.J&&(dn==4?qf(this.j,this):(this.o=!1,so(this)))}else Ag(this.g),S==400&&0<dt.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),In(this),Ss(this)}}}catch{}finally{}};function fl(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function kf(m,b){var S=m.C,k=b.indexOf(`
`,S);return k==-1?_n:(S=Number(b.substring(S,k)),isNaN(S)?Dn:(k+=1,k+S>b.length?_n:(b=b.slice(k,k+S),m.C=k+S,b)))}qt.prototype.cancel=function(){this.J=!0,In(this)};function so(m){m.S=Date.now()+m.I,Pf(m,m.I)}function Pf(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ne(_(m.ba,m),b)}function Kr(m){m.B&&(c.clearTimeout(m.B),m.B=null)}qt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(hl(this.i,this.A),this.L!=2&&(Es(),Ee(17)),In(this),this.s=2,Ss(this)):Pf(this,this.S-m)};function Ss(m){m.j.G==0||m.J||qf(m.j,m)}function In(m){Kr(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,gi(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function ro(m,b){try{var S=m.j;if(S.G!=0&&(S.g==m||Ku(S.h,m))){if(!m.K&&Ku(S.h,m)&&S.G==3){try{var k=S.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)El(S),wl(S);else break t;rc(S),Ee(18)}}else S.za=$[1],0<S.za-S.T&&37500>$[2]&&S.F&&S.v==0&&!S.C&&(S.C=Ne(_(S.Za,S),6e3));if(1>=ml(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ur(S,11)}else if((m.K||S.g==m)&&El(S),!F(b))for($=S.Da.g.parse(b),b=0;b<$.length;b++){let ie=$[b];if(S.T=ie[0],ie=ie[1],S.G==2)if(ie[0]=="c"){S.K=ie[1],S.ia=ie[2];const xn=ie[3];xn!=null&&(S.la=xn,S.j.info("VER="+S.la));const dn=ie[4];dn!=null&&(S.Aa=dn,S.j.info("SVER="+S.Aa));const cr=ie[5];cr!=null&&typeof cr=="number"&&0<cr&&(k=1.5*cr,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const On=m.g;if(On){const Ms=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var it=k.h;it.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(pl(it,it.h),it.h=null))}if(k.D){const oc=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;oc&&(k.ya=oc,be(k.I,k.D,oc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var dt=m;if(k.qa=Yf(k,k.J?k.ia:null,k.W),dt.K){Jn(k.h,dt);var ne=dt,fn=k.L;fn&&(ne.I=fn),ne.B&&(Kr(ne),so(ne)),k.g=dt}else zf(k);0<S.i.length&&Tl(S)}else ie[0]!="stop"&&ie[0]!="close"||ur(S,7);else S.G==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?ur(S,7):ic(S):ie[0]!="noop"&&S.l&&S.l.ta(ie),S.v=0)}}Es(4)}catch{}}var Nf=class{constructor(m,b){this.g=m,this.map=b}};function ir(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ml(m){return m.h?1:m.g?m.g.size:0}function Ku(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function pl(m,b){m.g?m.g.add(b):m.h=b}function Jn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}ir.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Xu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.D);return b}return C(m.i)}function wg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var b=[],S=m.length,k=0;k<S;k++)b.push(m[k]);return b}b=[],S=0;for(k in m)b[S++]=m[k];return b}function gl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var b=[];m=m.length;for(var S=0;S<m;S++)b.push(S);return b}b=[],S=0;for(const k in m)b[S++]=k;return b}}}function Qu(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var S=gl(m),k=wg(m),$=k.length,it=0;it<$;it++)b.call(void 0,k[it],S&&S[it],m)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(m,b){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var k=m[S].indexOf("="),$=null;if(0<=k){var it=m[S].substring(0,k);$=m[S].substring(k+1)}else it=m[S];b(it,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function nn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof nn){this.h=m.h,oo(this,m.j),this.o=m.o,this.g=m.g,Xr(this,m.s),this.l=m.l;var b=m.i,S=new rr;S.i=b.i,b.g&&(S.g=new Map(b.g),S.h=b.h),sr(this,S),this.m=m.m}else m&&(b=String(m).match(ao))?(this.h=!1,oo(this,b[1]||"",!0),this.o=Pi(b[2]||""),this.g=Pi(b[3]||"",!0),Xr(this,b[4]),this.l=Pi(b[5]||"",!0),sr(this,b[6]||"",!0),this.m=Pi(b[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}nn.prototype.toString=function(){var m=[],b=this.j;b&&m.push(uo(b,Zu,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(uo(b,Zu,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(uo(S,S.charAt(0)=="/"?Eg:Ju,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",uo(S,yl)),m.join("")};function vi(m){return new nn(m)}function oo(m,b,S){m.j=S?Pi(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Xr(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function sr(m,b,S){b instanceof rr?(m.i=b,Lf(m.i,m.h)):(S||(b=uo(b,Sg)),m.i=new rr(b,m.h))}function be(m,b,S){m.i.set(b,S)}function lo(m){return be(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Pi(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function uo(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,Vf),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Vf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Zu=/[#\/\?@]/g,Ju=/[#\?:]/g,Eg=/[#\?]/g,Sg=/[#\?@]/g,yl=/#/g;function rr(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Ni(m){m.g||(m.g=new Map,m.h=0,m.i&&Tg(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}e=rr.prototype,e.add=function(m,b){Ni(this),this.i=null,m=As(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function ar(m,b){Ni(m),b=As(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function or(m,b){return Ni(m),b=As(m,b),m.g.has(b)}e.forEach=function(m,b){Ni(this),this.g.forEach(function(S,k){S.forEach(function($){m.call(b,$,k,this)},this)},this)},e.na=function(){Ni(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),S=[];for(let k=0;k<b.length;k++){const $=m[k];for(let it=0;it<$.length;it++)S.push(b[k])}return S},e.V=function(m){Ni(this);let b=[];if(typeof m=="string")or(this,m)&&(b=b.concat(this.g.get(As(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)b=b.concat(m[S])}return b},e.set=function(m,b){return Ni(this),this.i=null,m=As(this,m),or(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},e.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function tc(m,b,S){ar(m,b),0<S.length&&(m.i=null,m.g.set(As(m,b),C(S)),m.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var S=0;S<b.length;S++){var k=b[S];const it=encodeURIComponent(String(k)),dt=this.V(k);for(k=0;k<dt.length;k++){var $=it;dt[k]!==""&&($+="="+encodeURIComponent(String(dt[k]))),m.push($)}}return this.i=m.join("&")};function As(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Lf(m,b){b&&!m.j&&(Ni(m),m.i=null,m.g.forEach(function(S,k){var $=k.toLowerCase();k!=$&&(ar(this,k),tc(this,$,S))},m)),m.j=b}function co(m,b){const S=new Cn;if(c.Image){const k=new Image;k.onload=x(Vi,S,"TestLoadImage: loaded",!0,b,k),k.onerror=x(Vi,S,"TestLoadImage: error",!1,b,k),k.onabort=x(Vi,S,"TestLoadImage: abort",!1,b,k),k.ontimeout=x(Vi,S,"TestLoadImage: timeout",!1,b,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else b(!1)}function rs(m,b){const S=new Cn,k=new AbortController,$=setTimeout(()=>{k.abort(),Vi(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:k.signal}).then(it=>{clearTimeout($),it.ok?Vi(S,"TestPingServer: ok",!0,b):Vi(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout($),Vi(S,"TestPingServer: error",!1,b)})}function Vi(m,b,S,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(S)}catch{}}function ho(){this.g=new ws}function Rs(m,b,S){const k=S||"";try{Qu(m,function($,it){let dt=$;d($)&&(dt=yi($)),b.push(k+it+"="+encodeURIComponent(dt))})}catch($){throw b.push(k+"type="+encodeURIComponent("_badmap")),$}}function Qr(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Qr,er),Qr.prototype.g=function(){return new lr(this.l,this.j)},Qr.prototype.i=function(m){return function(){return m}}({});function lr(m,b){jt.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(lr,jt),e=lr.prototype,e.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Ds(this)},e.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},e.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ec(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ec(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}e.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Cs(this):Ds(this),this.readyState==3&&ec(this)}},e.Ra=function(m){this.g&&(this.response=this.responseText=m,Cs(this))},e.Qa=function(m){this.g&&(this.response=m,Cs(this))},e.ga=function(){this.g&&Cs(this)};function Cs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ds(m)}e.setRequestHeader=function(m,b){this.u.append(m,b)},e.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function Ds(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function nc(m){let b="";return nt(m,function(S,k){b+=k,b+=":",b+=S,b+=`\r
`}),b}function bn(m,b,S){t:{for(k in S){var k=!1;break t}k=!0}k||(S=nc(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):be(m,b,S))}function fe(m){jt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(fe,jt);var vl=/^https?$/i,fo=["POST","PUT"];e=fe.prototype,e.Ha=function(m){this.J=m},e.ea=function(m,b,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ki.g(),this.v=this.o?no(this.o):no(ki),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(it){jf(this,it);return}if(m=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)S.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const it of k.keys())S.set(it,k.get(it));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(it=>it.toLowerCase()=="content-type"),$=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fo,b,void 0))||k||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,dt]of S)this.g.setRequestHeader(it,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(m),this.u=!1}catch(it){jf(this,it)}};function jf(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,_l(m),Is(m)}function _l(m){m.A||(m.A=!0,Nt(m,"complete"),Nt(m,"error"))}e.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Nt(this,"complete"),Nt(this,"abort"),Is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Is(this,!0)),fe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?bl(this):this.bb())},e.bb=function(){bl(this)};function bl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Li(m)!=4||m.Z()!=2)){if(m.u&&Li(m)==4)Pe(m.Ea,0,m);else if(Nt(m,"readystatechange"),Li(m)==4){m.h=!1;try{const dt=m.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var S;if(!(S=b)){var k;if(k=dt===0){var $=String(m.D).match(ao)[1]||null;!$&&c.self&&c.self.location&&($=c.self.location.protocol.slice(0,-1)),k=!vl.test($?$.toLowerCase():"")}S=k}if(S)Nt(m,"complete"),Nt(m,"success");else{m.m=6;try{var it=2<Li(m)?m.g.statusText:""}catch{it=""}m.l=it+" ["+m.Z()+"]",_l(m)}}finally{Is(m)}}}}function Is(m,b){if(m.g){mo(m);const S=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||Nt(m,"ready");try{S.onreadystatechange=k}catch{}}}function mo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}e.isActive=function(){return!!this.g};function Li(m){return m.g?m.g.readyState:0}e.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),tr(b)}};function Uf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ag(m){const b={};m=(m.g&&2<=Li(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(F(m[k]))continue;var S=P(m[k]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const it=b[$]||[];b[$]=it,it.push(S)}N(b,function(k){return k.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function xl(m){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,m),this.cb=po("retryDelaySeedMs",1e4,m),this.Wa=po("forwardChannelMaxRetries",2,m),this.wa=po("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ir(m&&m.concurrentRequestLimit),this.Da=new ho,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=xl.prototype,e.la=8,e.G=1,e.connect=function(m,b,S,k){Ee(0),this.W=m,this.H=b||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Yf(this,null,this.W),Tl(this)};function ic(m){if(Bf(m),m.G==3){var b=m.U++,S=vi(m.I);if(be(S,"SID",m.K),be(S,"RID",b),be(S,"TYPE","terminate"),go(m,S),b=new qt(m,m.j,b),b.L=2,b.v=lo(vi(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=b.v,S=!0),S||(b.g=Gf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),so(b)}Wf(m)}function wl(m){m.g&&(yo(m),m.g.cancel(),m.g=null)}function Bf(m){wl(m),m.u&&(c.clearTimeout(m.u),m.u=null),El(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Tl(m){if(!dl(m.h)&&!m.s){m.s=!0;var b=m.Ga;Z||B(),ht||(Z(),ht=!0),ct.add(b,m),m.B=0}}function Rg(m,b){return ml(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ne(_(m.Ga,m,b),ac(m,m.B)),m.B++,!0)}e.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const $=new qt(this,this.j,m);let it=this.o;if(this.S&&(it?(it=w(it),I(it,this.S)):it=this.S),this.m!==null||this.O||($.H=it,it=null),this.P)t:{for(var b=0,S=0;S<this.i.length;S++){e:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=S;break t}if(b===4096||S===this.i.length-1){b=S+1;break t}}b=1e3}else b=1e3;b=Ff(this,$,b),S=vi(this.I),be(S,"RID",m),be(S,"CVER",22),this.D&&be(S,"X-HTTP-Session-Id",this.D),go(this,S),it&&(this.O?b="headers="+encodeURIComponent(String(nc(it)))+"&"+b:this.m&&bn(S,this.m,it)),pl(this.h,$),this.Ua&&be(S,"TYPE","init"),this.P?(be(S,"$req",b),be(S,"SID","null"),$.T=!0,Zn($,S,null)):Zn($,S,b),this.G=2}}else this.G==3&&(m?sc(this,m):this.i.length==0||dl(this.h)||sc(this))};function sc(m,b){var S;b?S=b.l:S=m.U++;const k=vi(m.I);be(k,"SID",m.K),be(k,"RID",S),be(k,"AID",m.T),go(m,k),m.m&&m.o&&bn(k,m.m,m.o),S=new qt(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),b&&(m.i=b.D.concat(m.i)),b=Ff(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),pl(m.h,S),Zn(S,k,b)}function go(m,b){m.H&&nt(m.H,function(S,k){be(b,k,S)}),m.l&&Qu({},function(S,k){be(b,k,S)})}function Ff(m,b,S){S=Math.min(m.i.length,S);var k=m.l?_(m.l.Na,m.l,m):null;t:{var $=m.i;let it=-1;for(;;){const dt=["count="+S];it==-1?0<S?(it=$[0].g,dt.push("ofs="+it)):it=0:dt.push("ofs="+it);let ne=!0;for(let fn=0;fn<S;fn++){let ie=$[fn].g;const xn=$[fn].map;if(ie-=it,0>ie)it=Math.max(0,$[fn].g-100),ne=!1;else try{Rs(xn,dt,"req"+ie+"_")}catch{k&&k(xn)}}if(ne){k=dt.join("&");break t}}}return m=m.i.splice(0,S),b.D=m,k}function zf(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;Z||B(),ht||(Z(),ht=!0),ct.add(b,m),m.v=0}}function rc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ne(_(m.Fa,m),ac(m,m.v)),m.v++,!0)}e.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ne(_(this.ab,this),m)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),wl(this),Hf(this))};function yo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Hf(m){m.g=new qt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=vi(m.qa);be(b,"RID","rpc"),be(b,"SID",m.K),be(b,"AID",m.T),be(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&be(b,"TO",m.ja),be(b,"TYPE","xmlhttp"),go(m,b),m.m&&m.o&&bn(b,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=lo(vi(b)),S.m=null,S.P=!0,ss(S,m)}e.Za=function(){this.C!=null&&(this.C=null,wl(this),rc(this),Ee(19))};function El(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function qf(m,b){var S=null;if(m.g==b){El(m),yo(m),m.g=null;var k=2}else if(Ku(m.h,b))S=b.D,Jn(m.h,b),k=1;else return;if(m.G!=0){if(b.o)if(k==1){S=b.m?b.m.length:0,b=Date.now()-b.F;var $=m.B;k=oe(),Nt(k,new He(k,S)),Tl(m)}else zf(m);else if($=b.s,$==3||$==0&&0<b.X||!(k==1&&Rg(m,b)||k==2&&rc(m)))switch(S&&0<S.length&&(b=m.h,b.i=b.i.concat(S)),$){case 1:ur(m,5);break;case 4:ur(m,10);break;case 3:ur(m,6);break;default:ur(m,2)}}}function ac(m,b){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*b}function ur(m,b){if(m.j.info("Error code "+b),b==2){var S=_(m.fb,m),k=m.Xa;const $=!k;k=new nn(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oo(k,"https"),lo(k),$?co(k.toString(),S):rs(k.toString(),S)}else Ee(2);m.G=0,m.l&&m.l.sa(b),Wf(m),Bf(m)}e.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Wf(m){if(m.G=0,m.ka=[],m.l){const b=Xu(m.h);(b.length!=0||m.i.length!=0)&&(D(m.ka,b),D(m.ka,m.i),m.h.i.length=0,C(m.i),m.i.length=0),m.l.ra()}}function Yf(m,b,S){var k=S instanceof nn?vi(S):new nn(S);if(k.g!="")b&&(k.g=b+"."+k.g),Xr(k,k.s);else{var $=c.location;k=$.protocol,b=b?b+"."+$.hostname:$.hostname,$=+$.port;var it=new nn(null);k&&oo(it,k),b&&(it.g=b),$&&Xr(it,$),S&&(it.l=S),k=it}return S=m.D,b=m.ya,S&&b&&be(k,S,b),be(k,"VER",m.la),go(m,k),k}function Gf(m,b,S){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new fe(new Qr({eb:S})):new fe(m.pa),b.Ha(m.J),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $f(){}e=$f.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Sl(){}Sl.prototype.g=function(m,b){return new ti(m,b)};function ti(m,b){jt.call(this),this.g=new xl(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!F(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!F(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Os(this)}E(ti,jt),ti.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ti.prototype.close=function(){ic(this.g)},ti.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=yi(m),m=S);b.i.push(new Nf(b.Ya++,m)),b.G==3&&Tl(b)},ti.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,ti.aa.N.call(this)};function Kf(m){Oi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const S in b){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}E(Kf,Oi);function Xf(){en.call(this),this.status=1}E(Xf,en);function Os(m){this.g=m}E(Os,$f),Os.prototype.ua=function(){Nt(this.g,"a")},Os.prototype.ta=function(m){Nt(this.g,new Kf(m))},Os.prototype.sa=function(m){Nt(this.g,new Xf)},Os.prototype.ra=function(){Nt(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,ti.prototype.send=ti.prototype.o,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,GD=function(){return new Sl},YD=function(){return oe()},WD=De,w0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Dm=ns,is.COMPLETE="complete",qD=is,Gr.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",jt.prototype.listen=jt.prototype.K,uh=Gr,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,HD=fe}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore",HS="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new U_("@firebase/firestore");function su(){return il.logLevel}function vt(e,...t){if(il.logLevel<=Zt.DEBUG){const n=t.map(tb);il.debug(`Firestore (${ju}): ${e}`,...n)}}function Lr(e,...t){if(il.logLevel<=Zt.ERROR){const n=t.map(tb);il.error(`Firestore (${ju}): ${e}`,...n)}}function La(e,...t){if(il.logLevel<=Zt.WARN){const n=t.map(tb);il.warn(`Firestore (${ju}): ${e}`,...n)}}function tb(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,$D(e,i,n)}function $D(e,t,n){let i=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Lr(i),new Error(i)}function de(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||$D(t,s,i)}function Lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Hr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class k3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class P3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N3{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){de(this.o===void 0,42304);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let a=new Pa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Pa,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pa)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string",31837,{l:i}),new KD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return de(t===null||typeof t=="string",2055,{h:t}),new Yn(t)}}class V3{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L3{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){de(this.o===void 0,3512);const i=a=>{a.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const s=a=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=U3(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<n&&(i+=t.charAt(s[a]%62))}return i}}function Ht(e,t){return e<t?-1:e>t?1:0}function T0(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=e.codePointAt(n),s=t.codePointAt(n);if(i!==s){if(i<128&&s<128)return Ht(i,s);{const a=XD(),l=B3(a.encode(WS(e,n)),a.encode(WS(t,n)));return l!==0?l:Ht(i,s)}}n+=i>65535?2:1}return Ht(e.length,t.length)}function WS(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function B3(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Ht(e[n],t[n]);return Ht(e.length,t.length)}function Tu(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__name__";class zs{constructor(t,n,i){n===void 0?n=0:n>t.length&&Ot(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Ot(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return zs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const a=zs.compareSegments(t.get(s),n.get(s));if(a!==0)return a}return Ht(t.length,n.length)}static compareSegments(t,n){const i=zs.isNumericId(t),s=zs.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?zs.extractNumericId(t).compare(zs.extractNumericId(n)):T0(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ka.fromString(t.substring(4,t.length-2))}}class Re extends zs{construct(t,n,i){return new Re(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const F3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends zs{construct(t,n,i){return new Ln(t,n,i)}static isValidIdentifier(t){return F3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YS}static keyField(){return new Ln([YS])}static fromServerFormat(t){const n=[];let i="",s=0;const a=()=>{if(i.length===0)throw new pt(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new pt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new pt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Re.fromString(t))}static fromName(t){return new Et(Re.fromString(t).popFirst(5))}static empty(){return new Et(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(e,t,n){if(!n)throw new pt(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function z3(e,t,n,i){if(t===!0&&i===!0)throw new pt(ot.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function GS(e){if(!Et.isDocumentKey(e))throw new pt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $S(e){if(Et.isDocumentKey(e))throw new pt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ZD(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Lp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ot(12329,{type:typeof e})}function Xi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(e);throw new pt(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(e,t){const n={typeString:e};return t&&(n.value=t),n}function mf(e,t){if(!ZD(e))throw new pt(ot.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const l=e[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new pt(ot.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=-62135596800,XS=1e6;class Oe{static now(){return Oe.fromMillis(Date.now())}static fromDate(t){return Oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*XS);return new Oe(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<KS)throw new pt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XS}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mf(t,Oe._jsonSchema))return new Oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-KS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Oe._jsonSchemaVersion="firestore/timestamp/1.0",Oe._jsonSchema={type:cn("string",Oe._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Oe(0,0))}static max(){return new Vt(new Oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=-1;function H3(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Vt.fromTimestamp(i===1e9?new Oe(n+1,0):new Oe(n,i));return new ja(s,Et.empty(),t)}function q3(e){return new ja(e.readTime,e.key,jh)}class ja{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new ja(Vt.min(),Et.empty(),jh)}static max(){return new ja(Vt.max(),Et.empty(),jh)}}function W3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(e.documentKey,t.documentKey),n!==0?n:Ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==Y3)throw e;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ut((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ut?n:ut.resolve(n)}catch(n){return ut.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ut.reject(n)}static resolve(t){return new ut((n,i)=>{n(t)})}static reject(t){return new ut((n,i)=>{i(t)})}static waitFor(t){return new ut((n,i)=>{let s=0,a=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>i(h))}),l=!0,a===s&&n()})}static or(t){let n=ut.resolve(!1);for(const i of t)n=n.next(s=>s?ut.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,a)=>{i.push(n.call(this,s,a))}),this.waitFor(i)}static mapArray(t,n){return new ut((i,s)=>{const a=t.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;n(t[d]).next(p=>{l[d]=p,++c,c===a&&i(l)},p=>s(p))}})}static doWhile(t,n){return new ut((i,s)=>{const a=()=>{t()===!0?n().next(()=>{a()},s):i()};a()})}}function $3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this._e(i),this.ae=i=>n.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}jp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-1;function Up(e){return e==null}function tp(e){return e===0&&1/e==-1/0}function K3(e){return typeof e=="number"&&Number.isInteger(e)&&!tp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="";function X3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=QS(t)),t=Q3(e.get(n),t);return QS(t)}function Q3(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const a=e.charAt(s);switch(a){case"\0":n+="";break;case JD:n+="";break;default:n+=a}}return n}function QS(e){return e+JD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,n){this.comparator=t,this.root=n||Vn.EMPTY}insert(t,n){return new ze(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(t){return new ze(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tm(this.root,t,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tm(this.root,t,this.comparator,!0)}}class tm{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&s&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vn{constructor(t,n,i,s,a){this.key=t,this.value=n,this.color=i??Vn.RED,this.left=s??Vn.EMPTY,this.right=a??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,a){return new Vn(t??this.key,n??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,n,i),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Vn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ot(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ot(27949);return t+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot(57766)}get value(){throw Ot(16141)}get color(){throw Ot(16727)}get left(){throw Ot(29726)}get right(){throw Ot(36894)}copy(t,n,i,s,a){return this}insert(t,n,i){return new Vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new ze(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new JS(this.data.getIterator())}getIteratorFrom(t){return new JS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new yn(this.comparator);return n.data=t,n}}class JS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t){this.fields=t,t.sort(Ln.comparator)}static empty(){return new Di([])}unionWith(t){let n=new yn(Ln.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Di(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Tu(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eI("Invalid base64 string: "+a):a}}(t);return new Bn(n)}static fromUint8Array(t){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(t);return new Bn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const Z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(e){if(de(!!e,39018),typeof e=="string"){let t=0;const n=Z3.exec(e);if(de(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ze(e.seconds),nanos:Ze(e.nanos)}}function Ze(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ba(e){return typeof e=="string"?Bn.fromBase64String(e):Bn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="server_timestamp",iI="__type__",sI="__previous_value__",rI="__local_write_time__";function ib(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[iI])===null||n===void 0?void 0:n.stringValue)===nI}function Bp(e){const t=e.mapValue.fields[sI];return ib(t)?Bp(t):t}function Uh(e){const t=Ua(e.mapValue.fields[rI].timestampValue);return new Oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t,n,i,s,a,l,c,h,d,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const ep="(default)";class Bh{constructor(t,n){this.projectId=t,this.database=n||ep}static empty(){return new Bh("","")}get isDefaultDatabase(){return this.database===ep}isEqual(t){return t instanceof Bh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="__type__",t6="__max__",em={mapValue:{}},oI="__vector__",np="value";function Fa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ib(e)?4:n6(e)?9007199254740991:e6(e)?10:11:Ot(28295,{value:e})}function Zs(e,t){if(e===t)return!0;const n=Fa(e);if(n!==Fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uh(e).isEqual(Uh(t));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ua(s.timestampValue),c=Ua(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,a){return Ba(s.bytesValue).isEqual(Ba(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,a){return Ze(s.geoPointValue.latitude)===Ze(a.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(a.geoPointValue.longitude)}(e,t);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ze(s.integerValue)===Ze(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ze(s.doubleValue),c=Ze(a.doubleValue);return l===c?tp(l)===tp(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Tu(e.arrayValue.values||[],t.arrayValue.values||[],Zs);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(ZS(l)!==ZS(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Zs(l[h],c[h])))return!1;return!0}(e,t);default:return Ot(52216,{left:e})}}function Fh(e,t){return(e.values||[]).find(n=>Zs(n,t))!==void 0}function Eu(e,t){if(e===t)return 0;const n=Fa(e),i=Fa(t);if(n!==i)return Ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(e.booleanValue,t.booleanValue);case 2:return function(a,l){const c=Ze(a.integerValue||a.doubleValue),h=Ze(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(e,t);case 3:return t1(e.timestampValue,t.timestampValue);case 4:return t1(Uh(e),Uh(t));case 5:return T0(e.stringValue,t.stringValue);case 6:return function(a,l){const c=Ba(a),h=Ba(l);return c.compareTo(h)}(e.bytesValue,t.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=Ht(c[d],h[d]);if(p!==0)return p}return Ht(c.length,h.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,l){const c=Ht(Ze(a.latitude),Ze(l.latitude));return c!==0?c:Ht(Ze(a.longitude),Ze(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return e1(e.arrayValue,t.arrayValue);case 10:return function(a,l){var c,h,d,p;const y=a.fields||{},_=l.fields||{},x=(c=y[np])===null||c===void 0?void 0:c.arrayValue,E=(h=_[np])===null||h===void 0?void 0:h.arrayValue,C=Ht(((d=x?.values)===null||d===void 0?void 0:d.length)||0,((p=E?.values)===null||p===void 0?void 0:p.length)||0);return C!==0?C:e1(x,E)}(e.mapValue,t.mapValue);case 11:return function(a,l){if(a===em.mapValue&&l===em.mapValue)return 0;if(a===em.mapValue)return 1;if(l===em.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=l.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=T0(h[y],p[y]);if(_!==0)return _;const x=Eu(c[h[y]],d[p[y]]);if(x!==0)return x}return Ht(h.length,p.length)}(e.mapValue,t.mapValue);default:throw Ot(23264,{le:n})}}function t1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ht(e,t);const n=Ua(e),i=Ua(t),s=Ht(n.seconds,i.seconds);return s!==0?s:Ht(n.nanos,i.nanos)}function e1(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const a=Eu(n[s],i[s]);if(a)return a}return Ht(n.length,i.length)}function Su(e){return E0(e)}function E0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ua(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Ba(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Et.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const a of n.values||[])s?s=!1:i+=",",i+=E0(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of i)a?a=!1:s+=",",s+=`${l}:${E0(n.fields[l])}`;return s+"}"}(e.mapValue):Ot(61005,{value:e})}function Im(e){switch(Fa(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bp(e);return t?16+Im(t):16;case 5:return 2*e.stringValue.length;case 6:return Ba(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Im(a),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Xa(i.fields,(a,l)=>{s+=a.length+Im(l)}),s}(e.mapValue);default:throw Ot(13486,{value:e})}}function n1(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function S0(e){return!!e&&"integerValue"in e}function sb(e){return!!e&&"arrayValue"in e}function i1(e){return!!e&&"nullValue"in e}function s1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Om(e){return!!e&&"mapValue"in e}function e6(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[aI])===null||n===void 0?void 0:n.stringValue)===oI}function xh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=xh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function n6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===t6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.value=t}static empty(){return new hi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Om(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xh(n)}setAll(t){let n=Ln.emptyPath(),i={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=xh(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,s)}delete(t){const n=this.field(t.popLast());Om(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Zs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Om(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Xa(n,(s,a)=>t[s]=a);for(const s of i)delete t[s]}clone(){return new hi(xh(this.value))}}function lI(e){const t=[];return Xa(e.fields,(n,i)=>{const s=new Ln([n]);if(Om(i)){const a=lI(i.mapValue).fields;if(a.length===0)t.push(s);else for(const l of a)t.push(s.child(l))}else t.push(s)}),new Di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n,i,s,a,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(t){return new Gn(t,0,Vt.min(),Vt.min(),Vt.min(),hi.empty(),0)}static newFoundDocument(t,n,i,s){return new Gn(t,1,n,Vt.min(),i,s,0)}static newNoDocument(t,n){return new Gn(t,2,n,Vt.min(),Vt.min(),hi.empty(),0)}static newUnknownDocument(t,n){return new Gn(t,3,n,Vt.min(),Vt.min(),hi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,n){this.position=t,this.inclusive=n}}function r1(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const a=t[s],l=e.position[s];if(a.field.isKeyField()?i=Et.comparator(Et.fromName(l.referenceValue),n.key):i=Eu(l,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function a1(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n="asc"){this.field=t,this.dir=n}}function i6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{}class un extends uI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new r6(t,n,i):n==="array-contains"?new l6(t,i):n==="in"?new u6(t,i):n==="not-in"?new c6(t,i):n==="array-contains-any"?new h6(t,i):new un(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new a6(t,i):new o6(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eu(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(Eu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends uI{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new ms(t,n)}matches(t){return cI(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function cI(e){return e.op==="and"}function hI(e){return s6(e)&&cI(e)}function s6(e){for(const t of e.filters)if(t instanceof ms)return!1;return!0}function A0(e){if(e instanceof un)return e.field.canonicalString()+e.op.toString()+Su(e.value);if(hI(e))return e.filters.map(t=>A0(t)).join(",");{const t=e.filters.map(n=>A0(n)).join(",");return`${e.op}(${t})`}}function fI(e,t){return e instanceof un?function(i,s){return s instanceof un&&i.op===s.op&&i.field.isEqual(s.field)&&Zs(i.value,s.value)}(e,t):e instanceof ms?function(i,s){return s instanceof ms&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,l,c)=>a&&fI(l,s.filters[c]),!0):!1}(e,t):void Ot(19439)}function dI(e){return e instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Su(n.value)}`}(e):e instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(dI).join(" ,")+"}"}(e):"Filter"}class r6 extends un{constructor(t,n,i){super(t,n,i),this.key=Et.fromName(i.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class a6 extends un{constructor(t,n){super(t,"in",n),this.keys=mI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class o6 extends un{constructor(t,n){super(t,"not-in",n),this.keys=mI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mI(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Et.fromName(i.referenceValue))}class l6 extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sb(n)&&Fh(n.arrayValue,this.value)}}class u6 extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fh(this.value.arrayValue,n)}}class c6 extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fh(this.value.arrayValue,n)}}class h6 extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Fh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,n=null,i=[],s=[],a=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function o1(e,t=null,n=[],i=[],s=null,a=null,l=null){return new f6(e,t,n,i,s,a,l)}function rb(e){const t=Lt(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>A0(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Up(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Su(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Su(i)).join(",")),t.Pe=n}return t.Pe}function ab(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!i6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a1(e.startAt,t.startAt)&&a1(e.endAt,t.endAt)}function R0(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n=null,i=[],s=[],a=null,l="F",c=null,h=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function d6(e,t,n,i,s,a,l,c){return new pf(e,t,n,i,s,a,l,c)}function Fp(e){return new pf(e)}function l1(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pI(e){return e.collectionGroup!==null}function wh(e){const t=Lt(e);if(t.Te===null){t.Te=[];const n=new Set;for(const a of t.explicitOrderBy)t.Te.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new yn(Ln.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Te.push(new sp(a,i))}),n.has(Ln.keyField().canonicalString())||t.Te.push(new sp(Ln.keyField(),i))}return t.Te}function Ws(e){const t=Lt(e);return t.Ie||(t.Ie=m6(t,wh(e))),t.Ie}function m6(e,t){if(e.limitType==="F")return o1(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new sp(s.field,a)});const n=e.endAt?new ip(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ip(e.startAt.position,e.startAt.inclusive):null;return o1(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function C0(e,t){const n=e.filters.concat([t]);return new pf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function D0(e,t,n){return new pf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zp(e,t){return ab(Ws(e),Ws(t))&&e.limitType===t.limitType}function gI(e){return`${rb(Ws(e))}|lt:${e.limitType}`}function ru(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>dI(s)).join(", ")}]`),Up(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Su(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Su(s)).join(",")),`Target(${i})`}(Ws(e))}; limitType=${e.limitType})`}function Hp(e,t){return t.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Et.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,s){for(const a of wh(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(l,c,h){const d=r1(l,c,h);return l.inclusive?d<=0:d<0}(i.startAt,wh(i),s)||i.endAt&&!function(l,c,h){const d=r1(l,c,h);return l.inclusive?d>=0:d>0}(i.endAt,wh(i),s))}(e,t)}function p6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yI(e){return(t,n)=>{let i=!1;for(const s of wh(e)){const a=g6(s,t,n);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function g6(e,t,n){const i=e.field.isKeyField()?Et.comparator(t.key,n.key):function(a,l,c){const h=l.data.field(a),d=c.data.field(a);return h!==null&&d!==null?Eu(h,d):Ot(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ot(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return void(s[a]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Xa(this.inner,(n,i)=>{for(const[s,a]of i)t(s,a)})}isEmpty(){return tI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new ze(Et.comparator);function jr(){return y6}const vI=new ze(Et.comparator);function ch(...e){let t=vI;for(const n of e)t=t.insert(n.key,n);return t}function _I(e){let t=vI;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ho(){return Th()}function bI(){return Th()}function Th(){return new al(e=>e.toString(),(e,t)=>e.isEqual(t))}const v6=new ze(Et.comparator),_6=new yn(Et.comparator);function Jt(...e){let t=_6;for(const n of e)t=t.add(n);return t}const b6=new yn(Ht);function x6(){return b6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(t)?"-0":t}}function xI(e){return{integerValue:""+e}}function w6(e,t){return K3(t)?xI(t):ob(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(){this._=void 0}}function T6(e,t,n){return e instanceof zh?function(s,a){const l={fields:{[iI]:{stringValue:nI},[rI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ib(a)&&(a=Bp(a)),a&&(l.fields[sI]=a),{mapValue:l}}(n,t):e instanceof Hh?TI(e,t):e instanceof qh?EI(e,t):function(s,a){const l=wI(s,a),c=u1(l)+u1(s.Ee);return S0(l)&&S0(s.Ee)?xI(c):ob(s.serializer,c)}(e,t)}function E6(e,t,n){return e instanceof Hh?TI(e,t):e instanceof qh?EI(e,t):n}function wI(e,t){return e instanceof rp?function(i){return S0(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class zh extends qp{}class Hh extends qp{constructor(t){super(),this.elements=t}}function TI(e,t){const n=SI(t);for(const i of e.elements)n.some(s=>Zs(s,i))||n.push(i);return{arrayValue:{values:n}}}class qh extends qp{constructor(t){super(),this.elements=t}}function EI(e,t){let n=SI(t);for(const i of e.elements)n=n.filter(s=>!Zs(s,i));return{arrayValue:{values:n}}}class rp extends qp{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function u1(e){return Ze(e.integerValue||e.doubleValue)}function SI(e){return sb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t,n){this.field=t,this.transform=n}}function A6(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Hh&&s instanceof Hh||i instanceof qh&&s instanceof qh?Tu(i.elements,s.elements,Zs):i instanceof rp&&s instanceof rp?Zs(i.Ee,s.Ee):i instanceof zh&&s instanceof zh}(e.transform,t.transform)}class R6{constructor(t,n){this.version=t,this.transformResults=n}}class Qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mm(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wp{}function AI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lb(e.key,Qi.none()):new gf(e.key,e.data,Qi.none());{const n=e.data,i=hi.empty();let s=new yn(Ln.comparator);for(let a of t.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?i.delete(a):i.set(a,l),s=s.add(a)}return new Qa(e.key,i,new Di(s.toArray()),Qi.none())}}function C6(e,t,n){e instanceof gf?function(s,a,l){const c=s.value.clone(),h=h1(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Qa?function(s,a,l){if(!Mm(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=h1(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(RI(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(e,t,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function Eh(e,t,n,i){return e instanceof gf?function(a,l,c,h){if(!Mm(a.precondition,l))return c;const d=a.value.clone(),p=f1(a.fieldTransforms,h,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof Qa?function(a,l,c,h){if(!Mm(a.precondition,l))return c;const d=f1(a.fieldTransforms,h,l),p=l.data;return p.setAll(RI(a)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(e,t,n,i):function(a,l,c){return Mm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function D6(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),a=wI(i.transform,s||null);a!=null&&(n===null&&(n=hi.empty()),n.set(i.field,a))}return n||null}function c1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Tu(i,s,(a,l)=>A6(a,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class gf extends Wp{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qa extends Wp{constructor(t,n,i,s,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function h1(e,t,n){const i=new Map;de(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let s=0;s<n.length;s++){const a=e[s],l=a.transform,c=t.data.field(a.field);i.set(a.field,E6(l,c,n[s]))}return i}function f1(e,t,n){const i=new Map;for(const s of e){const a=s.transform,l=n.data.field(s.field);i.set(s.field,T6(a,l,t))}return i}class lb extends Wp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I6 extends Wp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(t.key)&&C6(a,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Eh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Eh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=bI();return this.mutations.forEach(s=>{const a=t.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=AI(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Jt())}isEqual(t){return this.batchId===t.batchId&&Tu(this.mutations,t.mutations,(n,i)=>c1(n,i))&&Tu(this.baseMutations,t.baseMutations,(n,i)=>c1(n,i))}}class ub{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){de(t.mutations.length===i.length,58842,{Ve:t.mutations.length,me:i.length});let s=function(){return v6}();const a=t.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,i[l].version);return new ub(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,re;function P6(e){switch(e){case ot.OK:return Ot(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return Ot(15467,{code:e})}}function CI(e){if(e===void 0)return Lr("GRPC error has no .code"),ot.UNKNOWN;switch(e){case an.OK:return ot.OK;case an.CANCELLED:return ot.CANCELLED;case an.UNKNOWN:return ot.UNKNOWN;case an.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case an.INTERNAL:return ot.INTERNAL;case an.UNAVAILABLE:return ot.UNAVAILABLE;case an.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case an.NOT_FOUND:return ot.NOT_FOUND;case an.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case an.ABORTED:return ot.ABORTED;case an.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case an.DATA_LOSS:return ot.DATA_LOSS;default:return Ot(39323,{code:e})}}(re=an||(an={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new ka([4294967295,4294967295],0);function d1(e){const t=XD().encode(e),n=new zD;return n.update(t),new Uint8Array(n.digest())}function m1(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ka([n,i],0),new ka([s,a],0)]}class cb{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(i<0)throw new hh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new hh(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=ka.fromNumber(this.fe)}pe(t,n,i){let s=t.add(n.multiply(ka.fromNumber(i)));return s.compare(N6)===1&&(s=new ka([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=d1(t),[i,s]=m1(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,s,a);if(!this.ye(l))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new cb(a,s,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.fe===0)return;const n=d1(t),[i,s]=m1(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(i,s,a);this.we(l)}}we(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,i,s,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,yf.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Yp(Vt.min(),s,new ze(Ht),jr(),Jt())}}class yf{constructor(t,n,i,s,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new yf(i,n,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.be=s}}class DI{constructor(t,n){this.targetId=t,this.De=n}}class II{constructor(t,n,i=Bn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class p1{constructor(){this.ve=0,this.Ce=g1(),this.Fe=Bn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Jt(),n=Jt(),i=Jt();return this.Ce.forEach((s,a)=>{switch(a){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ot(38017,{changeType:a})}}),new yf(this.Fe,this.Me,t,n,i)}ke(){this.xe=!1,this.Ce=g1()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class V6{constructor(t){this.We=t,this.Ge=new Map,this.ze=jr(),this.je=nm(),this.Je=nm(),this.He=new ze(Ht)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const i=this.tt(n);switch(t.state){case 0:this.nt(n)&&i.Be(t.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(t.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(i.Ke(),i.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),i.Be(t.resumeToken));break;default:Ot(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((i,s)=>{this.nt(s)&&n(s)})}it(t){const n=t.targetId,i=t.De.count,s=this.st(n);if(s){const a=s.target;if(R0(a))if(i===0){const l=new Et(a.path);this.Xe(n,l,Gn.newNoDocument(l,Vt.min()))}else de(i===1,20013,{expectedCount:i});else{const l=this.ot(n);if(l!==i){const c=this._t(t),h=c?this.ut(c,t,l):1;if(h!==0){this.rt(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=Ba(i).toUint8Array()}catch(h){if(h instanceof eI)return La("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new cb(l,s,a)}catch(h){return La(h instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.fe===0?null:c}ut(t,n,i){return n.De.count===i-this.ht(t,n.targetId)?0:2}ht(t,n){const i=this.We.getRemoteKeysForTarget(n);let s=0;return i.forEach(a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(c)||(this.Xe(n,a,null),s++)}),s}Pt(t){const n=new Map;this.Ge.forEach((a,l)=>{const c=this.st(l);if(c){if(a.current&&R0(c.target)){const h=new Et(c.target.path);this.Tt(h).has(l)||this.It(l,h)||this.Xe(l,h,Gn.newNoDocument(h,t))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let i=Jt();this.Je.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const d=this.st(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(t));const s=new Yp(t,n,this.He,this.ze,i);return this.ze=jr(),this.je=nm(),this.Je=nm(),this.He=new ze(Ht),s}Ze(t,n){if(!this.nt(t))return;const i=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,i),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,i){if(!this.nt(t))return;const s=this.tt(t);this.It(t,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),i&&(this.ze=this.ze.insert(n,i))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new p1,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new yn(Ht),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new yn(Ht),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new p1),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function nm(){return new ze(Et.comparator)}function g1(){return new ze(Et.comparator)}const L6={asc:"ASCENDING",desc:"DESCENDING"},j6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U6={and:"AND",or:"OR"};class B6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function I0(e,t){return e.useProto3Json||Up(t)?t:{value:t}}function ap(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function F6(e,t){return ap(e,t.toTimestamp())}function Ys(e){return de(!!e,49232),Vt.fromTimestamp(function(n){const i=Ua(n);return new Oe(i.seconds,i.nanos)}(e))}function hb(e,t){return O0(e,t).canonicalString()}function O0(e,t){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function MI(e){const t=Re.fromString(e);return de(LI(t),10190,{key:t.toString()}),t}function M0(e,t){return hb(e.databaseId,t.path)}function kv(e,t){const n=MI(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Et(PI(n))}function kI(e,t){return hb(e.databaseId,t)}function z6(e){const t=MI(e);return t.length===4?Re.emptyPath():PI(t)}function k0(e){return new Re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PI(e){return de(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function y1(e,t,n){return{name:M0(e,t),fields:n.value.mapValue.fields}}function H6(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ot(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(de(p===void 0||typeof p=="string",58123),Bn.fromBase64String(p||"")):(de(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Bn.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(d){const p=d.code===void 0?ot.UNKNOWN:CI(d.code);return new pt(p,d.message||"")}(l);n=new II(i,s,a,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=kv(e,i.document.name),a=Ys(i.document.updateTime),l=i.document.createTime?Ys(i.document.createTime):Vt.min(),c=new hi({mapValue:{fields:i.document.fields}}),h=Gn.newFoundDocument(s,a,l,c),d=i.targetIds||[],p=i.removedTargetIds||[];n=new km(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=kv(e,i.document),a=i.readTime?Ys(i.readTime):Vt.min(),l=Gn.newNoDocument(s,a),c=i.removedTargetIds||[];n=new km([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=kv(e,i.document),a=i.removedTargetIds||[];n=new km([],a,s,null)}else{if(!("filter"in t))return Ot(11601,{At:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,l=new k6(s,a),c=i.targetId;n=new DI(c,l)}}return n}function q6(e,t){let n;if(t instanceof gf)n={update:y1(e,t.key,t.value)};else if(t instanceof lb)n={delete:M0(e,t.key)};else if(t instanceof Qa)n={update:y1(e,t.key,t.data),updateMask:J6(t.fieldMask)};else{if(!(t instanceof I6))return Ot(16599,{Rt:t.type});n={verify:M0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof zh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Hh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rp)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Ot(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:F6(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ot(27497)}(e,t.precondition)),n}function W6(e,t){return e&&e.length>0?(de(t!==void 0,14353),e.map(n=>function(s,a){let l=s.updateTime?Ys(s.updateTime):Ys(a);return l.isEqual(Vt.min())&&(l=Ys(a)),new R6(l,s.transformResults||[])}(n,t))):[]}function Y6(e,t){return{documents:[kI(e,t.path)]}}function G6(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=kI(e,s);const a=function(d){if(d.length!==0)return VI(ms.create(d,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const l=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:au(_.field),direction:X6(_.dir)}}(p))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=I0(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{Vt:n,parent:s}}function $6(e){let t=z6(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){de(i===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let a=[];n.where&&(a=function(y){const _=NI(y);return _ instanceof ms&&hI(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(E){return new sp(ou(E.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Up(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,x=y.values||[];return new ip(x,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,x=y.values||[];return new ip(x,_)}(n.endAt)),d6(t,s,l,a,c,"F",h,d)}function K6(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function NI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ou(n.unaryFilter.field);return un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ou(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ou(n.unaryFilter.field);return un.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ou(n.unaryFilter.field);return un.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ot(61313);default:return Ot(60726)}}(e):e.fieldFilter!==void 0?function(n){return un.create(ou(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ot(58110);default:return Ot(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(i=>NI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ot(1026)}}(n.compositeFilter.op))}(e):Ot(30097,{filter:e})}function X6(e){return L6[e]}function Q6(e){return j6[e]}function Z6(e){return U6[e]}function au(e){return{fieldPath:e.canonicalString()}}function ou(e){return Ln.fromServerFormat(e.fieldPath)}function VI(e){return e instanceof un?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(n.field),op:Q6(n.op),value:n.value}}}(e):e instanceof ms?function(n){const i=n.getFilters().map(s=>VI(s));return i.length===1?i[0]:{compositeFilter:{op:Z6(n.op),filters:i}}}(e):Ot(54877,{filter:e})}function J6(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function LI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n,i,s,a=Vt.min(),l=Vt.min(),c=Bn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new Aa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(t){this.gt=t}}function e5(e){const t=$6({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?D0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.Dn=new i5}addToCollectionParentIndex(t,n){return this.Dn.add(n),ut.resolve()}getCollectionParents(t,n){return ut.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return ut.resolve()}deleteFieldIndex(t,n){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,n){return ut.resolve()}getDocumentsMatchingTarget(t,n){return ut.resolve(null)}getIndexType(t,n){return ut.resolve(0)}getFieldIndexes(t,n){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,n){return ut.resolve(ja.min())}getMinOffsetFromCollectionGroup(t,n){return ut.resolve(ja.min())}updateCollectionGroup(t,n,i){return ut.resolve()}updateIndexEntries(t,n){return ut.resolve()}}class i5{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new yn(Re.comparator),a=!s.has(i);return this.index[n]=s.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new yn(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jI=41943040;class ci{static withCacheSize(t){return new ci(t,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(jI,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Au(0)}static ur(){return new Au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="LruGarbageCollector",s5=1048576;function b1([e,t],[n,i]){const s=Ht(e,n);return s===0?Ht(t,i):s}class r5{constructor(t){this.Tr=t,this.buffer=new yn(b1),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();b1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a5{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){vt(_1,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bu(n)?vt(_1,"Ignoring IndexedDB error during garbage collection: ",n):await Uu(n)}await this.Rr(3e5)})}}class o5{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return ut.resolve(jp.ue);const i=new r5(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.gr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(v1)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let i,s,a,l,c,h,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(t,s))).next(y=>(i=y,c=Date.now(),this.removeTargets(t,i,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(d=Date.now(),su()<=Zt.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function l5(e,t){return new o5(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.changes=new al(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ut.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Eh(i.mutation,s,Di.empty(),Oe.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Jt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Jt()){const s=Ho();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(a=>{let l=ch();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Ho();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Jt()))}populateOverlays(t,n,i){const s=[];return i.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(t,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,s){let a=jr();const l=Th(),c=function(){return Th()}();return n.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Qa)?a=a.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),Eh(p.mutation,d,p.mutation.getFieldMask(),Oe.now())):l.set(d.key,Di.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>{var y;return c.set(d,new c5(p,(y=l.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(t,n){const i=Th();let s=new ze((l,c)=>l-c),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=i.get(h)||Di.empty();p=c.applyToLocalView(d,p),i.set(h,p);const y=(s.get(c.batchId)||Jt()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=bI();p.forEach(_=>{if(!a.has(_)){const x=AI(n.get(_),i.get(_));x!==null&&y.set(_,x),a=a.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,y))}return ut.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(l){return Et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-a.size):ut.resolve(Ho());let c=jh,h=a;return l.next(d=>ut.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(p)?ut.resolve():this.remoteDocumentCache.getEntry(t,p).next(_=>{h=h.insert(p,_)}))).next(()=>this.populateOverlays(t,d,a)).next(()=>this.computeViews(t,h,d,Jt())).next(p=>({batchId:c,changes:_I(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(i=>{let s=ch();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const a=n.collectionGroup;let l=ch();return this.indexManager.getCollectionParents(t,a).next(c=>ut.forEach(c,h=>{const d=function(y,_){return new pf(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,s))).next(l=>{a.forEach((h,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Gn.newInvalidDocument(p)))});let c=ch();return l.forEach((h,d)=>{const p=a.get(h);p!==void 0&&Eh(p.mutation,d,Di.empty(),Oe.now()),Hp(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return ut.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ys(s.createTime)}}(n)),ut.resolve()}getNamedQuery(t,n){return ut.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:e5(s.bundledQuery),readTime:Ys(s.readTime)}}(n)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.overlays=new ze(Et.comparator),this.kr=new Map}getOverlay(t,n){return ut.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ho();return ut.forEach(n,s=>this.getOverlay(t,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,a)=>{this.wt(t,n,a)}),ut.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.kr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(i)),ut.resolve()}getOverlaysForCollection(t,n,i){const s=Ho(),a=n.length+1,l=new Et(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>i&&s.set(h.getKey(),h)}return ut.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let a=new ze((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=a.get(d.largestBatchId);p===null&&(p=Ho(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Ho(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return ut.resolve(c)}wt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(i.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new M6(n,i));let a=this.kr.get(n);a===void 0&&(a=Jt(),this.kr.set(n,a)),this.kr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.qr=new yn(Sn.Qr),this.$r=new yn(Sn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const i=new Sn(t,n);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Sn(t,n))}Gr(t,n){t.forEach(i=>this.removeReference(i,n))}zr(t){const n=new Et(new Re([])),i=new Sn(n,t),s=new Sn(n,t+1),a=[];return this.$r.forEachInRange([i,s],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new Et(new Re([])),i=new Sn(n,t),s=new Sn(n,t+1);let a=Jt();return this.$r.forEachInRange([i,s],l=>{a=a.add(l.key)}),a}containsKey(t){const n=new Sn(t,0),i=this.qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Sn{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return Et.comparator(t.key,n.key)||Ht(t.Hr,n.Hr)}static Ur(t,n){return Ht(t.Hr,n.Hr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new yn(Sn.Qr)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new O6(a,n,i,s);this.mutationQueue.push(l);for(const c of s)this.Yr=this.Yr.add(new Sn(c.key,a)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ut.resolve(l)}lookupMutationBatch(t,n){return ut.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),a=s<0?0:s;return ut.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?nb:this.er-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Sn(n,0),s=new Sn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([i,s],l=>{const c=this.Zr(l.Hr);a.push(c)}),ut.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new yn(Ht);return n.forEach(s=>{const a=new Sn(s,0),l=new Sn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],c=>{i=i.add(c.Hr)})}),ut.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let a=i;Et.isDocumentKey(a)||(a=a.child(""));const l=new Sn(new Et(a),0);let c=new yn(Ht);return this.Yr.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Hr)),!0)},l),ut.resolve(this.ei(c))}ei(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){de(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ut.forEach(n.mutations,s=>{const a=new Sn(s.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Yr=i})}rr(t){}containsKey(t,n){const i=new Sn(n,0),s=this.Yr.firstAfterOrEqual(i);return ut.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(t){this.ni=t,this.docs=function(){return new ze(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ni(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ut.resolve(i?i.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(t,n){let i=jr();return n.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Gn.newInvalidDocument(s))}),ut.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let a=jr();const l=n.path,c=new Et(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||W3(q3(p),i)<=0||(s.has(p.key)||Hp(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ut.resolve(a)}getAllFromCollectionGroup(t,n,i,s){Ot(9500)}ri(t,n){return ut.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new y5(this)}getSize(t){return ut.resolve(this.size)}}class y5 extends u5{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(t,s)):this.Or.removeEntry(i)}),ut.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this.persistence=t,this.ii=new al(n=>rb(n),ab),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.si=0,this.oi=new fb,this.targetCount=0,this._i=Au.ar()}forEachTarget(t,n){return this.ii.forEach((i,s)=>n(s)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.si&&(this.si=n),ut.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Au(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,ut.resolve()}updateTargetData(t,n){return this.hr(n),ut.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,n,i){let s=0;const a=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ut.waitFor(a).next(()=>s)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,n){const i=this.ii.get(n)||null;return ut.resolve(i)}addMatchingKeys(t,n,i){return this.oi.Kr(n,i),ut.resolve()}removeMatchingKeys(t,n,i){this.oi.Gr(n,i);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(t,l))}),ut.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),ut.resolve()}getMatchingKeysForTargetId(t,n){const i=this.oi.Jr(n);return ut.resolve(i)}containsKey(t,n){return ut.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.ai={},this.overlays={},this.ui=new jp(0),this.ci=!1,this.ci=!0,this.li=new m5,this.referenceDelegate=t(this),this.hi=new v5(this),this.indexManager=new n5,this.remoteDocumentCache=function(s){return new g5(s)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new t5(n),this.Ti=new f5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new d5,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ai[t.toKey()];return i||(i=new p5(n,this.referenceDelegate),this.ai[t.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,i){vt("MemoryPersistence","Starting transaction:",t);const s=new _5(this.ui.next());return this.referenceDelegate.Ii(),i(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ei(t,n){return ut.or(Object.values(this.ai).map(i=>()=>i.containsKey(t,n)))}}class _5 extends G3{constructor(t){super(),this.currentSequenceNumber=t}}class db{constructor(t){this.persistence=t,this.Ai=new fb,this.Ri=null}static Vi(t){return new db(t)}get mi(){if(this.Ri)return this.Ri;throw Ot(60996)}addReference(t,n,i){return this.Ai.addReference(i,n),this.mi.delete(i.toString()),ut.resolve()}removeReference(t,n,i){return this.Ai.removeReference(i,n),this.mi.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),ut.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(a=>this.mi.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.mi,i=>{const s=Et.fromPath(i);return this.fi(t,s).next(a=>{a||n.removeEntry(s,Vt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(i=>{i?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return ut.or([()=>ut.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class op{constructor(t,n){this.persistence=t,this.gi=new al(i=>X3(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=l5(this,n)}static Vi(t,n){return new op(t,n)}Ii(){}di(t){return ut.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}yr(t){let n=0;return this.gr(t,i=>{n++}).next(()=>n)}gr(t,n){return ut.forEach(this.gi,(i,s)=>this.Sr(t,i,s).next(a=>a?ut.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(t,l=>this.Sr(t,l,n).next(c=>{c||(i++,a.removeEntry(l,Vt.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),ut.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,n,i){return this.gi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),ut.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Im(t.data.value)),n}Sr(t,n,i){return ut.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.gi.get(n);return ut.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Is=i,this.ds=s}static Es(t,n){let i=Jt(),s=Jt();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new mb(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return YV()?8:$3(Xn())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,i,s){const a={result:null};return this.ps(t,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(t,n,s,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new b5;return this.ws(t,n,l).next(c=>{if(a.result=c,this.Rs)return this.Ss(t,n,l,c.size)})}).next(()=>a.result)}Ss(t,n,i,s){return i.documentReadCount<this.Vs?(su()<=Zt.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ut.resolve()):(su()<=Zt.DEBUG&&vt("QueryEngine","Query:",ru(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.fs*s?(su()<=Zt.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ws(n))):ut.resolve())}ps(t,n){if(l1(n))return ut.resolve(null);let i=Ws(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=D0(n,null,"F"),i=Ws(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const l=Jt(...a);return this.gs.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const d=this.bs(n,c);return this.Ds(n,d,l,h.readTime)?this.ps(t,D0(n,null,"F")):this.vs(t,d,n,h)}))})))}ys(t,n,i,s){return l1(n)||s.isEqual(Vt.min())?ut.resolve(null):this.gs.getDocuments(t,i).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,i,s)?ut.resolve(null):(su()<=Zt.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ru(n)),this.vs(t,l,n,H3(s,jh)).next(c=>c))})}bs(t,n){let i=new yn(yI(t));return n.forEach((s,a)=>{Hp(t,a)&&(i=i.add(a))}),i}Ds(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(t,n,i){return su()<=Zt.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",ru(n)),this.gs.getDocumentsMatchingQuery(t,n,ja.min(),i)}vs(t,n,i,s){return this.gs.getDocumentsMatchingQuery(t,i,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="LocalStore",w5=3e8;class T5{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.Fs=new ze(Ht),this.Ms=new al(a=>rb(a),ab),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(i)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function E5(e,t,n,i){return new T5(e,t,n,i)}async function BI(e,t){const n=Lt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,n.Ns(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let h=Jt();for(const d of s){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(d=>({Bs:d,removedBatchIds:l,addedBatchIds:c}))})})}function S5(e,t){const n=Lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,_=y.keys();let x=ut.resolve();return _.forEach(E=>{x=x.next(()=>p.getEntry(h,E)).next(C=>{const D=d.docVersions.get(E);de(D!==null,48541),C.version.compareTo(D)<0&&(y.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),p.addEntry(C)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Jt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function FI(e){const t=Lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function A5(e,t){const n=Lt(e),i=t.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const c=[];t.targetChanges.forEach((p,y)=>{const _=s.get(y);if(!_)return;c.push(n.hi.removeMatchingKeys(a,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,p.addedDocuments,y)));let x=_.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(Bn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(y,x),function(C,D,M){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=w5?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,x,p)&&c.push(n.hi.updateTargetData(a,x))});let h=jr(),d=Jt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(R5(a,l,t.documentUpdates).next(p=>{h=p.Ls,d=p.ks})),!i.isEqual(Vt.min())){const p=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(p)}return ut.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(n.Fs=s,a))}function R5(e,t,n){let i=Jt(),s=Jt();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let l=jr();return n.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Vt.min())?(t.removeEntry(c,h.readTime),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h),l=l.insert(c,h)):vt(pb,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Ls:l,ks:s}})}function C5(e,t){const n=Lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=nb),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function D5(e,t){const n=Lt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.hi.getTargetData(i,t).next(a=>a?(s=a,ut.resolve(s)):n.hi.allocateTargetId(i).next(l=>(s=new Aa(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.hi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Fs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(i.targetId,i),n.Ms.set(t,i.targetId)),i})}async function P0(e,t,n){const i=Lt(e),s=i.Fs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Bu(l))throw l;vt(pb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Fs=i.Fs.remove(t),i.Ms.delete(s.target)}function x1(e,t,n){const i=Lt(e);let s=Vt.min(),a=Jt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,p){const y=Lt(h),_=y.Ms.get(p);return _!==void 0?ut.resolve(y.Fs.get(_)):y.hi.getTargetData(d,p)}(i,l,Ws(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>i.Cs.getDocumentsMatchingQuery(l,t,n?s:Vt.min(),n?a:Jt())).next(c=>(I5(i,p6(t),c),{documents:c,qs:a})))}function I5(e,t,n){let i=e.xs.get(t)||Vt.min();n.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.xs.set(t,i)}class w1{constructor(){this.activeTargetIds=x6()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O5{constructor(){this.Fo=new w1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,i){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new w1,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="ConnectivityMonitor";class E1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){vt(T1,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){vt(T1,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function N0(){return im===null?im=function(){return 268435456+Math.round(2147483648*Math.random())}():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="RestConnection",k5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P5{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.Ko=this.databaseId.database===ep?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,a){const l=N0(),c=this.Go(t,n.toUriEncodedString());vt(Pv,`Sending RPC '${t}' ${l}:`,c,i);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(h,s,a);const{host:d}=new URL(c),p=Nu(d);return this.jo(t,c,h,i,p).then(y=>(vt(Pv,`Received RPC '${t}' ${l}: `,y),y),y=>{throw La(Pv,`RPC '${t}' ${l} failed with error: `,y,"url: ",c,"request:",i),y})}Jo(t,n,i,s,a,l){return this.Wo(t,n,i,s,a)}zo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}Go(t,n){const i=k5[t];return`${this.$o}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class V5 extends P5{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,i,s,a){const l=N0();return new Promise((c,h)=>{const d=new HD;d.setWithCredentials(!0),d.listenOnce(qD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Dm.NO_ERROR:const y=d.getResponseJson();vt(Wn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),c(y);break;case Dm.TIMEOUT:vt(Wn,`RPC '${t}' ${l} timed out`),h(new pt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const _=d.getStatus();if(vt(Wn,`RPC '${t}' ${l} failed with status:`,_,"response text:",d.getResponseText()),_>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x?.error;if(E&&E.status&&E.message){const C=function(M){const F=M.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(F)>=0?F:ot.UNKNOWN}(E.status);h(new pt(C,E.message))}else h(new pt(ot.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new pt(ot.UNAVAILABLE,"Connection failed."));break;default:Ot(9055,{c_:t,streamId:l,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{vt(Wn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);vt(Wn,`RPC '${t}' ${l} sending request:`,s),d.send(n,"POST",p,i,15)})}P_(t,n,i){const s=N0(),a=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=GD(),c=YD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.zo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=a.join("");vt(Wn,`Creating RPC '${t}' stream ${s}: ${p}`,h);const y=l.createWebChannel(p,h);this.T_(y);let _=!1,x=!1;const E=new N5({Ho:D=>{x?vt(Wn,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(_||(vt(Wn,`Opening RPC '${t}' stream ${s} transport.`),y.open(),_=!0),vt(Wn,`RPC '${t}' stream ${s} sending:`,D),y.send(D))},Yo:()=>y.close()}),C=(D,M,F)=>{D.listen(M,L=>{try{F(L)}catch(H){setTimeout(()=>{throw H},0)}})};return C(y,uh.EventType.OPEN,()=>{x||(vt(Wn,`RPC '${t}' stream ${s} transport opened.`),E.s_())}),C(y,uh.EventType.CLOSE,()=>{x||(x=!0,vt(Wn,`RPC '${t}' stream ${s} transport closed`),E.__(),this.I_(y))}),C(y,uh.EventType.ERROR,D=>{x||(x=!0,La(Wn,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),E.__(new pt(ot.UNAVAILABLE,"The operation could not be completed")))}),C(y,uh.EventType.MESSAGE,D=>{var M;if(!x){const F=D.data[0];de(!!F,16349);const L=F,H=L?.error||((M=L[0])===null||M===void 0?void 0:M.error);if(H){vt(Wn,`RPC '${t}' stream ${s} received error:`,H);const W=H.status;let nt=function(A){const I=an[A];if(I!==void 0)return CI(I)}(W),N=H.message;nt===void 0&&(nt=ot.INTERNAL,N="Unknown error status: "+W+" with message "+H.message),x=!0,E.__(new pt(nt,N)),y.close()}else vt(Wn,`RPC '${t}' stream ${s} received:`,F),E.a_(F)}}),C(c,WD.STAT_EVENT,D=>{D.stat===w0.PROXY?vt(Wn,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===w0.NOPROXY&&vt(Wn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(e){return new B6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n,i=1e3,s=1.5,a=6e4){this.Fi=t,this.timerId=n,this.d_=i,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-i);s>0&&vt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="PersistentStream";class HI{constructor(t,n,i,s,a,l,c,h){this.Fi=t,this.w_=i,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zI(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.b_===n&&this.W_(i,s)},i=>{t(()=>{const s=new pt(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(s)})})}W_(t,n){const i=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{i(()=>this.G_(s))}),this.stream.onMessage(s=>{i(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return vt(S1,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(vt(S1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L5 extends HI{constructor(t,n,i,s,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=H6(this.serializer,t),i=function(a){if(!("targetChange"in a))return Vt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Vt.min():l.readTime?Ys(l.readTime):Vt.min()}(t);return this.listener.J_(n,i)}H_(t){const n={};n.database=k0(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=R0(h)?{documents:Y6(a,h)}:{query:G6(a,h).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=OI(a,l.resumeToken);const d=I0(a,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(Vt.min())>0){c.readTime=ap(a,l.snapshotVersion.toTimestamp());const d=I0(a,l.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=K6(this.serializer,t);i&&(n.labels=i),this.k_(n)}Y_(t){const n={};n.database=k0(this.serializer),n.removeTarget=t,this.k_(n)}}class j5 extends HI{constructor(t,n,i,s,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return de(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,de(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){de(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=W6(t.writeResults,t.commitTime),i=Ys(t.commitTime);return this.listener.ta(i,n)}na(){const t={};t.database=k0(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>q6(this.serializer,i))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{}class B5 extends U5{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new pt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(t,O0(n,i),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pt(ot.UNKNOWN,a.toString())})}Jo(t,n,i,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(t,O0(n,i),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(ot.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class F5{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Lr(n),this._a=!1):vt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="RemoteStore";class z5{constructor(t,n,i,s,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{i.enqueueAndForget(async()=>{ol(this)&&(vt(sl,"Restarting streams for network reachability change."),await async function(h){const d=Lt(h);d.Ia.add(4),await vf(d),d.Aa.set("Unknown"),d.Ia.delete(4),await $p(d)}(this))})}),this.Aa=new F5(i,s)}}async function $p(e){if(ol(e))for(const t of e.da)await t(!0)}async function vf(e){for(const t of e.da)await t(!1)}function qI(e,t){const n=Lt(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),_b(n)?vb(n):Fu(n).x_()&&yb(n,t))}function gb(e,t){const n=Lt(e),i=Fu(n);n.Ta.delete(t),i.x_()&&WI(n,t),n.Ta.size===0&&(i.x_()?i.B_():ol(n)&&n.Aa.set("Unknown"))}function yb(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fu(e).H_(t)}function WI(e,t){e.Ra.$e(t),Fu(e).Y_(t)}function vb(e){e.Ra=new V6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Fu(e).start(),e.Aa.aa()}function _b(e){return ol(e)&&!Fu(e).M_()&&e.Ta.size>0}function ol(e){return Lt(e).Ia.size===0}function YI(e){e.Ra=void 0}async function H5(e){e.Aa.set("Online")}async function q5(e){e.Ta.forEach((t,n)=>{yb(e,t)})}async function W5(e,t){YI(e),_b(e)?(e.Aa.la(t),vb(e)):e.Aa.set("Unknown")}async function Y5(e,t,n){if(e.Aa.set("Online"),t instanceof II&&t.state===2&&t.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ta.delete(c),s.Ra.removeTarget(c))}(e,t)}catch(i){vt(sl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await lp(e,i)}else if(t instanceof km?e.Ra.Ye(t):t instanceof DI?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Vt.min()))try{const i=await FI(e.localStore);n.compareTo(i)>=0&&await function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=a.Ta.get(d);p&&a.Ta.set(d,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,d)=>{const p=a.Ta.get(h);if(!p)return;a.Ta.set(h,p.withResumeToken(Bn.EMPTY_BYTE_STRING,p.snapshotVersion)),WI(a,h);const y=new Aa(p.target,h,d,p.sequenceNumber);yb(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){vt(sl,"Failed to raise snapshot:",i),await lp(e,i)}}async function lp(e,t,n){if(!Bu(t))throw t;e.Ia.add(1),await vf(e),e.Aa.set("Offline"),n||(n=()=>FI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vt(sl,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await $p(e)})}function GI(e,t){return t().catch(n=>lp(e,n,t))}async function Kp(e){const t=Lt(e),n=za(t);let i=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:nb;for(;G5(t);)try{const s=await C5(t.localStore,i);if(s===null){t.Pa.length===0&&n.B_();break}i=s.batchId,$5(t,s)}catch(s){await lp(t,s)}$I(t)&&KI(t)}function G5(e){return ol(e)&&e.Pa.length<10}function $5(e,t){e.Pa.push(t);const n=za(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function $I(e){return ol(e)&&!za(e).M_()&&e.Pa.length>0}function KI(e){za(e).start()}async function K5(e){za(e).na()}async function X5(e){const t=za(e);for(const n of e.Pa)t.X_(n.mutations)}async function Q5(e,t,n){const i=e.Pa.shift(),s=ub.from(i,t,n);await GI(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Kp(e)}async function Z5(e,t){t&&za(e).Z_&&await async function(i,s){if(function(l){return P6(l)&&l!==ot.ABORTED}(s.code)){const a=i.Pa.shift();za(i).N_(),await GI(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Kp(i)}}(e,t),$I(e)&&KI(e)}async function A1(e,t){const n=Lt(e);n.asyncQueue.verifyOperationInProgress(),vt(sl,"RemoteStore received new credentials");const i=ol(n);n.Ia.add(3),await vf(n),i&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await $p(n)}async function J5(e,t){const n=Lt(e);t?(n.Ia.delete(2),await $p(n)):t||(n.Ia.add(2),await vf(n),n.Aa.set("Unknown"))}function Fu(e){return e.Va||(e.Va=function(n,i,s){const a=Lt(n);return a.ia(),new L5(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Zo:H5.bind(null,e),e_:q5.bind(null,e),n_:W5.bind(null,e),J_:Y5.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),_b(e)?vb(e):e.Aa.set("Unknown")):(await e.Va.stop(),YI(e))})),e.Va}function za(e){return e.ma||(e.ma=function(n,i,s){const a=Lt(n);return a.ia(),new j5(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:K5.bind(null,e),n_:Z5.bind(null,e),ea:X5.bind(null,e),ta:Q5.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Kp(e)):(await e.ma.stop(),e.Pa.length>0&&(vt(sl,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,n,i,s,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,a){const l=Date.now()+i,c=new bb(t,n,l,s,a);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xb(e,t){if(Lr("AsyncQueue",`${t}: ${e}`),Bu(e))return new pt(ot.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{static emptySet(t){return new vu(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Et.comparator(n.key,i.key):(n,i)=>Et.comparator(n.key,i.key),this.keyedMap=ch(),this.sortedSet=new ze(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new vu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.fa=new ze(Et.comparator)}track(t){const n=t.doc.key,i=this.fa.get(n);i?t.type!==0&&i.type===3?this.fa=this.fa.insert(n,t):t.type===3&&i.type!==1?this.fa=this.fa.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.fa=this.fa.remove(n):t.type===1&&i.type===2?this.fa=this.fa.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Ot(63341,{At:t,ga:i}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ru{constructor(t,n,i,s,a,l,c,h,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ru(t,n,vu.emptySet(n),l,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class eU{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,i){const s=Lt(n),a=s.queries;s.queries=C1(),a.forEach((l,c)=>{for(const h of c.wa)h.onError(i)})})(this,new pt(ot.ABORTED,"Firestore shutting down"))}}function C1(){return new al(e=>gI(e),zp)}async function XI(e,t){const n=Lt(e);let i=3;const s=t.query;let a=n.queries.get(s);a?!a.Sa()&&t.ba()&&(i=2):(a=new tU,i=t.ba()?0:1);try{switch(i){case 0:a.ya=await n.onListen(s,!0);break;case 1:a.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=xb(l,`Initialization of query '${ru(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,a),a.wa.push(t),t.va(n.onlineState),a.ya&&t.Ca(a.ya)&&wb(n)}async function QI(e,t){const n=Lt(e),i=t.query;let s=3;const a=n.queries.get(i);if(a){const l=a.wa.indexOf(t);l>=0&&(a.wa.splice(l,1),a.wa.length===0?s=t.ba()?0:1:!a.Sa()&&t.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nU(e,t){const n=Lt(e);let i=!1;for(const s of t){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.wa)c.Ca(s)&&(i=!0);l.ya=s}}i&&wb(n)}function iU(e,t,n){const i=Lt(e),s=i.queries.get(t);if(s)for(const a of s.wa)a.onError(n);i.queries.delete(t)}function wb(e){e.Da.forEach(t=>{t.next()})}var V0,D1;(D1=V0||(V0={})).Fa="default",D1.Cache="cache";class ZI{constructor(t,n,i){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ru(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const i=n!=="Offline";return(!this.options.ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Ru.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==V0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.key=t}}class t2{constructor(t){this.key=t}}class sU{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Jt(),this.mutatedKeys=Jt(),this.Xa=yI(t),this.eu=new vu(this.Xa)}get tu(){return this.Ha}nu(t,n){const i=n?n.ru:new R1,s=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,y)=>{const _=s.get(p),x=Hp(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;_&&x?_.data.isEqual(x.data)?E!==C&&(i.track({type:3,doc:x}),D=!0):this.iu(_,x)||(i.track({type:2,doc:x}),D=!0,(h&&this.Xa(x,h)>0||d&&this.Xa(x,d)<0)&&(c=!0)):!_&&x?(i.track({type:0,doc:x}),D=!0):_&&!x&&(i.track({type:1,doc:_}),D=!0,(h||d)&&(c=!0)),D&&(x?(l=l.add(x),a=C?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),i.track({type:1,doc:p})}return{eu:l,ru:i,Ds:c,mutatedKeys:a}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const a=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const l=t.ru.pa();l.sort((p,y)=>function(x,E){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot(20277,{At:D})}};return C(x)-C(E)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(i),s=s!=null&&s;const c=n&&!s?this.ou():[],h=this.Za.size===0&&this.current&&!s?1:0,d=h!==this.Ya;return this.Ya=h,l.length!==0||d?{snapshot:new Ru(this.query,t.eu,a,l,t.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new R1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Jt(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const n=[];return t.forEach(i=>{this.Za.has(i)||n.push(new t2(i))}),this.Za.forEach(i=>{t.has(i)||n.push(new JI(i))}),n}uu(t){this.Ha=t.qs,this.Za=Jt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Ru.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Tb="SyncEngine";class rU{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class aU{constructor(t){this.key=t,this.lu=!1}}class oU{constructor(t,n,i,s,a,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new al(c=>gI(c),zp),this.Tu=new Map,this.Iu=new Set,this.du=new ze(Et.comparator),this.Eu=new Map,this.Au=new fb,this.Ru={},this.Vu=new Map,this.mu=Au.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lU(e,t,n=!0){const i=a2(e);let s;const a=i.Pu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await e2(i,t,n,!0),s}async function uU(e,t){const n=a2(e);await e2(n,t,!0,!1)}async function e2(e,t,n,i){const s=await D5(e.localStore,Ws(t)),a=s.targetId,l=e.sharedClientState.addLocalQueryTarget(a,n);let c;return i&&(c=await cU(e,t,a,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&qI(e.remoteStore,s),c}async function cU(e,t,n,i,s){e.gu=(y,_,x)=>async function(C,D,M,F){let L=D.view.nu(M);L.Ds&&(L=await x1(C.localStore,D.query,!1).then(({documents:N})=>D.view.nu(N,L)));const H=F&&F.targetChanges.get(D.targetId),W=F&&F.targetMismatches.get(D.targetId)!=null,nt=D.view.applyChanges(L,C.isPrimaryClient,H,W);return O1(C,D.targetId,nt._u),nt.snapshot}(e,y,_,x);const a=await x1(e.localStore,t,!0),l=new sU(t,a.qs),c=l.nu(a.documents),h=yf.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=l.applyChanges(c,e.isPrimaryClient,h);O1(e,n,d._u);const p=new rU(t,n,l);return e.Pu.set(t,p),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),d.snapshot}async function hU(e,t,n){const i=Lt(e),s=i.Pu.get(t),a=i.Tu.get(s.targetId);if(a.length>1)return i.Tu.set(s.targetId,a.filter(l=>!zp(l,t))),void i.Pu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await P0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&gb(i.remoteStore,s.targetId),L0(i,s.targetId)}).catch(Uu)):(L0(i,s.targetId),await P0(i.localStore,s.targetId,!0))}async function fU(e,t){const n=Lt(e),i=n.Pu.get(t),s=n.Tu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),gb(n.remoteStore,i.targetId))}async function dU(e,t,n){const i=bU(e);try{const s=await function(l,c){const h=Lt(l),d=Oe.now(),p=c.reduce((x,E)=>x.add(E.key),Jt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=jr(),C=Jt();return h.Os.getEntries(x,p).next(D=>{E=D,E.forEach((M,F)=>{F.isValidDocument()||(C=C.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,E)).next(D=>{y=D;const M=[];for(const F of c){const L=D6(F,y.get(F.key).overlayedDocument);L!=null&&M.push(new Qa(F.key,L,lI(L.value.mapValue),Qi.exists(!0)))}return h.mutationQueue.addMutationBatch(x,d,M,c)}).next(D=>{_=D;const M=D.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(x,D.batchId,M)})}).then(()=>({batchId:_.batchId,changes:_I(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let d=l.Ru[l.currentUser.toKey()];d||(d=new ze(Ht)),d=d.insert(c,h),l.Ru[l.currentUser.toKey()]=d}(i,s.batchId,n),await _f(i,s.changes),await Kp(i.remoteStore)}catch(s){const a=xb(s,"Failed to persist write");n.reject(a)}}async function n2(e,t){const n=Lt(e);try{const i=await A5(n.localStore,t);t.targetChanges.forEach((s,a)=>{const l=n.Eu.get(a);l&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?de(l.lu,14607):s.removedDocuments.size>0&&(de(l.lu,42227),l.lu=!1))}),await _f(n,i,t)}catch(i){await Uu(i)}}function I1(e,t,n){const i=Lt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Pu.forEach((a,l)=>{const c=l.view.va(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Lt(l);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const _ of y.wa)_.va(c)&&(d=!0)}),d&&wb(h)}(i.eventManager,t),s.length&&i.hu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function mU(e,t,n){const i=Lt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Eu.get(t),a=s&&s.key;if(a){let l=new ze(Et.comparator);l=l.insert(a,Gn.newNoDocument(a,Vt.min()));const c=Jt().add(a),h=new Yp(Vt.min(),new Map,new ze(Ht),l,c);await n2(i,h),i.du=i.du.remove(a),i.Eu.delete(t),Eb(i)}else await P0(i.localStore,t,!1).then(()=>L0(i,t,n)).catch(Uu)}async function pU(e,t){const n=Lt(e),i=t.batch.batchId;try{const s=await S5(n.localStore,t);s2(n,i,null),i2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _f(n,s)}catch(s){await Uu(s)}}async function gU(e,t,n){const i=Lt(e);try{const s=await function(l,c){const h=Lt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(de(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(i.localStore,t);s2(i,t,n),i2(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _f(i,s)}catch(s){await Uu(s)}}function i2(e,t){(e.Vu.get(t)||[]).forEach(n=>{n.resolve()}),e.Vu.delete(t)}function s2(e,t,n){const i=Lt(e);let s=i.Ru[i.currentUser.toKey()];if(s){const a=s.get(t);a&&(n?a.reject(n):a.resolve(),s=s.remove(t)),i.Ru[i.currentUser.toKey()]=s}}function L0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Tu.get(t))e.Pu.delete(i),n&&e.hu.pu(i,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(i=>{e.Au.containsKey(i)||r2(e,i)})}function r2(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(gb(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Eb(e))}function O1(e,t,n){for(const i of n)i instanceof JI?(e.Au.addReference(i.key,t),yU(e,i)):i instanceof t2?(vt(Tb,"Document no longer in limbo: "+i.key),e.Au.removeReference(i.key,t),e.Au.containsKey(i.key)||r2(e,i.key)):Ot(19791,{yu:i})}function yU(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Iu.has(i)||(vt(Tb,"New document in limbo: "+n),e.Iu.add(i),Eb(e))}function Eb(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Et(Re.fromString(t)),i=e.mu.next();e.Eu.set(i,new aU(n)),e.du=e.du.insert(n,i),qI(e.remoteStore,new Aa(Ws(Fp(n.path)),i,"TargetPurposeLimboResolution",jp.ue))}}async function _f(e,t,n){const i=Lt(e),s=[],a=[],l=[];i.Pu.isEmpty()||(i.Pu.forEach((c,h)=>{l.push(i.gu(h,t,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const y=d?!d.fromCache:(p=n?.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=mb.Es(h.targetId,d);a.push(y)}}))}),await Promise.all(l),i.hu.J_(s),await async function(h,d){const p=Lt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ut.forEach(d,_=>ut.forEach(_.Is,x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x)).next(()=>ut.forEach(_.ds,x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))}catch(y){if(!Bu(y))throw y;vt(pb,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const x=p.Fs.get(_),E=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(E);p.Fs=p.Fs.insert(_,C)}}}(i.localStore,a))}async function vU(e,t){const n=Lt(e);if(!n.currentUser.isEqual(t)){vt(Tb,"User change. New user:",t.toKey());const i=await BI(n.localStore,t);n.currentUser=t,function(a,l){a.Vu.forEach(c=>{c.forEach(h=>{h.reject(new pt(ot.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _f(n,i.Bs)}}function _U(e,t){const n=Lt(e),i=n.Eu.get(t);if(i&&i.lu)return Jt().add(i.key);{let s=Jt();const a=n.Tu.get(t);if(!a)return s;for(const l of a){const c=n.Pu.get(l);s=s.unionWith(c.view.tu)}return s}}function a2(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_U.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mU.bind(null,t),t.hu.J_=nU.bind(null,t.eventManager),t.hu.pu=iU.bind(null,t.eventManager),t}function bU(e){const t=Lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,t),t}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return E5(this.persistence,new x5,t.initialUser,this.serializer)}Du(t){return new UI(db.Vi,this.serializer)}bu(t){return new O5}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class xU extends up{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){de(this.persistence.referenceDelegate instanceof op,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a5(i,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new UI(i=>op.Vi(i,n),this.serializer)}}class j0{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>I1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await J5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eU}()}createDatastore(t){const n=Gp(t.databaseInfo.databaseId),i=function(a){return new V5(a)}(t.databaseInfo);return function(a,l,c,h){return new B5(a,l,c,h)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,a,l,c){return new z5(i,s,a,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>I1(this.syncEngine,n,0),function(){return E1.C()?new E1:new M5}())}createSyncEngine(t,n){return function(s,a,l,c,h,d,p){const y=new oU(s,a,l,c,h,d);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const a=Lt(s);vt(sl,"RemoteStore shutting down."),a.Ia.add(5),await vf(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}j0.provider={build:()=>new j0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Lr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class wU{constructor(t,n,i,s,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Yn.UNAUTHENTICATED,this.clientId=eb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{vt(Ha,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(vt(Ha,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=xb(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Vv(e,t){e.asyncQueue.verifyOperationInProgress(),vt(Ha,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await BI(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>{La("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{vt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{La("Terminating Firestore due to IndexedDb database deletion failed",s)})}),e._offlineComponents=t}async function M1(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TU(e);vt(Ha,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>A1(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>A1(t.remoteStore,s)),e._onlineComponents=t}async function TU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vt(Ha,"Using user provided OfflineComponentProvider");try{await Vv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ot.FAILED_PRECONDITION||s.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;La("Error using user provided cache. Falling back to memory cache: "+n),await Vv(e,new up)}}else vt(Ha,"Using default OfflineComponentProvider"),await Vv(e,new xU(void 0));return e._offlineComponents}async function l2(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vt(Ha,"Using user provided OnlineComponentProvider"),await M1(e,e._uninitializedComponentsProvider._online)):(vt(Ha,"Using default OnlineComponentProvider"),await M1(e,new j0))),e._onlineComponents}function EU(e){return l2(e).then(t=>t.syncEngine)}async function U0(e){const t=await l2(e),n=t.eventManager;return n.onListen=lU.bind(null,t.syncEngine),n.onUnlisten=hU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fU.bind(null,t.syncEngine),n}function SU(e,t,n={}){const i=new Pa;return e.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,d){const p=new o2({next:_=>{p.Ou(),l.enqueueAndForget(()=>QI(a,y));const x=_.docs.has(c);!x&&_.fromCache?d.reject(new pt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&h&&h.source==="server"?d.reject(new pt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new ZI(Fp(c.path),p,{includeMetadataChanges:!0,ka:!0});return XI(a,y)}(await U0(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firestore.googleapis.com",P1=!0;class N1{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c2,this.ssl=P1}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:P1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s5)throw new pt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}z3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u2((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xp{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new k3;switch(i.type){case"firstParty":return new L3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=k1.get(n);i&&(vt("ComponentProvider","Removing Datastore"),k1.delete(n),i.terminate())}(this),Promise.resolve()}}function AU(e,t,n,i={}){var s;e=Xi(e,Xp);const a=Nu(t),l=e._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:e._getEmulatorOptions()}),h=`${t}:${n}`;a&&(JC(`https://${h}`),tD("Firestore",!0)),l.host!==c2&&l.host!==h&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:a,emulatorOptions:i});if(!Jo(d,c)&&(e._setSettings(d),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Yn.MOCK_USER;else{p=LV(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yn(_)}e._authCredentials=new P3(new KD(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new zu(this.firestore,t,this._query)}}class Ge{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(mf(n,Ge._jsonSchema))return new Ge(t,i||null,new Et(Re.fromString(n.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:cn("string",Ge._jsonSchemaVersion),referencePath:cn("string")};class Na extends zu{constructor(t,n,i){super(t,n,Fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new Et(t))}withConverter(t){return new Na(this.firestore,t,this._path)}}function bf(e,t,...n){if(e=$e(e),QD("collection","path",t),e instanceof Xp){const i=Re.fromString(t,...n);return $S(i),new Na(e,null,i)}{if(!(e instanceof Ge||e instanceof Na))throw new pt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Re.fromString(t,...n));return $S(i),new Na(e.firestore,null,i)}}function ps(e,t,...n){if(e=$e(e),arguments.length===1&&(t=eb.newId()),QD("doc","path",t),e instanceof Xp){const i=Re.fromString(t,...n);return GS(i),new Ge(e,null,new Et(i))}{if(!(e instanceof Ge||e instanceof Na))throw new pt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Re.fromString(t,...n));return GS(i),new Ge(e.firestore,e instanceof Na?e.converter:null,new Et(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="AsyncQueue";class L1{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zI(this,"async_queue_retry"),this.oc=()=>{const i=Nv();i&&vt(V1,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;const n=Nv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Pa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Bu(t))throw t;vt(V1,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Lr("INTERNAL UNHANDLED ERROR: ",j1(i)),i}).then(i=>(this.nc=!1,i))));return this._c=n,n}enqueueAfterDelay(t,n,i){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const s=bb.createAndSchedule(this,t,n,i,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Ot(47125,{hc:j1(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function j1(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}(e,["next","error","complete"])}class qa extends Xp{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new L1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new L1(t),this._firestoreClient=void 0,await t}}}function RU(e,t){const n=typeof e=="object"?e:sD(),i=typeof e=="string"?e:ep,s=F_(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=NV("firestore");a&&AU(s,...a)}return s}function Sb(e){if(e._terminated)throw new pt(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||CU(e),e._firestoreClient}function CU(e){var t,n,i;const s=e._freezeSettings(),a=function(c,h,d,p){return new J3(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,u2(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new wU(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $i(Bn.fromBase64String(t))}catch(n){throw new pt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $i(Bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mf(t,$i._jsonSchema))return $i.fromBase64String(t.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:cn("string",$i._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gs._jsonSchemaVersion}}static fromJSON(t){if(mf(t,Gs._jsonSchema))return new Gs(t.latitude,t.longitude)}}Gs._jsonSchemaVersion="firestore/geoPoint/1.0",Gs._jsonSchema={type:cn("string",Gs._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mf(t,$s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new $s(t.vectorValues);throw new pt(ot.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:cn("string",$s._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=/^__.*__$/;class IU{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Qa(t,this.data,this.fieldMask,n,this.fieldTransforms):new gf(t,this.data,n,this.fieldTransforms)}}class h2{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Qa(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function f2(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot(40011,{Ec:e})}}class Ab{constructor(t,n,i,s,a,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Ab(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.fc(t),s}gc(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.Rc({path:i,mc:!1});return s.Ac(),s}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return cp(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(f2(this.Ec)&&DU.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class OU{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Gp(t)}Dc(t,n,i,s=!1){return new Ab({Ec:t,methodName:n,bc:i,path:Ln.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(e){const t=e._freezeSettings(),n=Gp(e._databaseId);return new OU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function d2(e,t,n,i,s,a={}){const l=e.Dc(a.merge||a.mergeFields?2:0,t,n,s);Cb("Data must be an object, but it was:",l,i);const c=m2(i,l);let h,d;if(a.merge)h=new Di(l.fieldMask),d=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const y of a.mergeFields){const _=B0(t,y,n);if(!l.contains(_))throw new pt(ot.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);g2(p,_)||p.push(_)}h=new Di(p),d=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=l.fieldTransforms;return new IU(new hi(c),h,d)}class tg extends Zp{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tg}}class Rb extends Zp{_toFieldTransform(t){return new S6(t.path,new zh)}isEqual(t){return t instanceof Rb}}function MU(e,t,n,i){const s=e.Dc(1,t,n);Cb("Data must be an object, but it was:",s,i);const a=[],l=hi.empty();Xa(i,(h,d)=>{const p=Db(t,h,n);d=$e(d);const y=s.gc(p);if(d instanceof tg)a.push(p);else{const _=xf(d,y);_!=null&&(a.push(p),l.set(p,_))}});const c=new Di(a);return new h2(l,c,s.fieldTransforms)}function kU(e,t,n,i,s,a){const l=e.Dc(1,t,n),c=[B0(t,i,n)],h=[s];if(a.length%2!=0)throw new pt(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(B0(t,a[_])),h.push(a[_+1]);const d=[],p=hi.empty();for(let _=c.length-1;_>=0;--_)if(!g2(d,c[_])){const x=c[_];let E=h[_];E=$e(E);const C=l.gc(x);if(E instanceof tg)d.push(x);else{const D=xf(E,C);D!=null&&(d.push(x),p.set(x,D))}}const y=new Di(d);return new h2(p,y,l.fieldTransforms)}function PU(e,t,n,i=!1){return xf(n,e.Dc(i?4:3,t))}function xf(e,t){if(p2(e=$e(e)))return Cb("Unsupported field value:",t,e),m2(e,t);if(e instanceof Zp)return function(i,s){if(!f2(s.Ec))throw s.wc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(i,s){const a=[];let l=0;for(const c of i){let h=xf(c,s.yc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(e,t)}return function(i,s){if((i=$e(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w6(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Oe.fromDate(i);return{timestampValue:ap(s.serializer,a)}}if(i instanceof Oe){const a=new Oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ap(s.serializer,a)}}if(i instanceof Gs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $i)return{bytesValue:OI(s.serializer,i._byteString)};if(i instanceof Ge){const a=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hb(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof $s)return function(l,c){return{mapValue:{fields:{[aI]:{stringValue:oI},[np]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.wc("VectorValues must only contain numeric values.");return ob(c.serializer,d)})}}}}}}(i,s);throw s.wc(`Unsupported field value: ${Lp(i)}`)}(e,t)}function m2(e,t){const n={};return tI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xa(e,(i,s)=>{const a=xf(s,t.Vc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function p2(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Oe||e instanceof Gs||e instanceof $i||e instanceof Ge||e instanceof Zp||e instanceof $s)}function Cb(e,t,n){if(!p2(n)||!ZD(n)){const i=Lp(n);throw i==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+i)}}function B0(e,t,n){if((t=$e(t))instanceof Qp)return t._internalPath;if(typeof t=="string")return Db(e,t);throw cp("Field path arguments must be of type string or ",e,!1,void 0,n)}const NU=new RegExp("[~\\*/\\[\\]]");function Db(e,t,n){if(t.search(NU)>=0)throw cp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qp(...t.split("."))._internalPath}catch{throw cp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cp(e,t,n,i,s){const a=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new pt(ot.INVALID_ARGUMENT,c+e+h)}function g2(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,n,i,s,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ib("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VU extends y2{data(){return super.data()}}function Ib(e,t){return typeof t=="string"?Db(e,t):t instanceof Qp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{}class jU extends Ob{}function eg(e,t,...n){let i=[];t instanceof Ob&&i.push(t),i=i.concat(n),function(a){const l=a.filter(h=>h instanceof Mb).length,c=a.filter(h=>h instanceof ng).length;if(l>1||l>0&&c>0)throw new pt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class ng extends jU{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new ng(t,n,i)}_apply(t){const n=this._parse(t);return v2(t._query,n),new zu(t.firestore,t.converter,C0(t._query,n))}_parse(t){const n=Jp(t.firestore);return function(a,l,c,h,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new pt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){F1(y,p);const E=[];for(const C of y)E.push(B1(h,a,C));_={arrayValue:{values:E}}}else _=B1(h,a,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||F1(y,p),_=PU(c,l,y,p==="in"||p==="not-in");return un.create(d,p,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Cu(e,t,n){const i=t,s=Ib("where",e);return ng._create(s,i,n)}class Mb extends Ob{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mb(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)v2(l,h),l=C0(l,h)}(t._query,n),new zu(t.firestore,t.converter,C0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B1(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new pt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pI(t)&&n.indexOf("/")!==-1)throw new pt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Re.fromString(n));if(!Et.isDocumentKey(i))throw new pt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return n1(e,new Et(i))}if(n instanceof Ge)return n1(e,n._key);throw new pt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lp(n)}.`)}function F1(e,t){if(!Array.isArray(e)||e.length===0)throw new pt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function v2(e,t){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new pt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class UU{convertValue(t,n="none"){switch(Fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ze(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ot(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Xa(t,(s,a)=>{i[s]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,s;const a=(s=(i=(n=t.fields)===null||n===void 0?void 0:n[np].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ze(l.doubleValue));return new $s(a)}convertGeoPoint(t){return new Gs(Ze(t.latitude),Ze(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Bp(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Uh(t));default:return null}}convertTimestamp(t){const n=Ua(t);return new Oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Re.fromString(t);de(LI(i),9688,{name:t});const s=new Bh(i.get(1),i.get(3)),a=new Et(i.popFirst(5));return s.isEqual(n)||Lr(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class fh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $o extends y2{constructor(t,n,i,s,a,l){super(t,n,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Ib("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(ot.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:cn("string",$o._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Pm extends $o{data(t={}){return super.data(t)}}class _u{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new fh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Pm(this._firestore,this._userDataWriter,i.key,i,new fh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Pm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Pm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:BU(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(ot.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_u._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=eb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(e){e=Xi(e,Ge);const t=Xi(e.firestore,qa);return SU(Sb(t),e._key).then(n=>w2(t,e,n))}_u._jsonSchemaVersion="firestore/querySnapshot/1.0",_u._jsonSchema={type:cn("string",_u._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class b2 extends UU{constructor(t){super(),this.firestore=t}convertBytes(t){return new $i(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function hp(e,t,n){e=Xi(e,Ge);const i=Xi(e.firestore,qa),s=_2(e.converter,t,n);return sg(i,[d2(Jp(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Qi.none())])}function Pb(e,t,n,...i){e=Xi(e,Ge);const s=Xi(e.firestore,qa),a=Jp(s);let l;return l=typeof(t=$e(t))=="string"||t instanceof Qp?kU(a,"updateDoc",e._key,t,n,i):MU(a,"updateDoc",e._key,t),sg(s,[l.toMutation(e._key,Qi.exists(!0))])}function x2(e){return sg(Xi(e.firestore,qa),[new lb(e._key,Qi.none())])}function FU(e,t){const n=Xi(e.firestore,qa),i=ps(e),s=_2(e.converter,t);return sg(n,[d2(Jp(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Qi.exists(!1))]).then(()=>i)}function ig(e,...t){var n,i,s;e=$e(e);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof t[l]!="object"||U1(t[l])||(a=t[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(U1(t[l])){const y=t[l];t[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),t[l+1]=(i=y.error)===null||i===void 0?void 0:i.bind(y),t[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let h,d,p;if(e instanceof Ge)d=Xi(e.firestore,qa),p=Fp(e._key.path),h={next:y=>{t[l]&&t[l](w2(d,e,y))},error:t[l+1],complete:t[l+2]};else{const y=Xi(e,zu);d=Xi(y.firestore,qa),p=y._query;const _=new b2(d);h={next:x=>{t[l]&&t[l](new _u(d,_,y,x))},error:t[l+1],complete:t[l+2]},LU(e._query)}return function(_,x,E,C){const D=new o2(C),M=new ZI(x,D,E);return _.asyncQueue.enqueueAndForget(async()=>XI(await U0(_),M)),()=>{D.Ou(),_.asyncQueue.enqueueAndForget(async()=>QI(await U0(_),M))}}(Sb(d),p,c,h)}function sg(e,t){return function(i,s){const a=new Pa;return i.asyncQueue.enqueueAndForget(async()=>dU(await EU(i),s,a)),a.promise}(Sb(e),t)}function w2(e,t,n){const i=n.docs.get(t._key),s=new b2(e);return new $o(e,s,t._key,i,new fh(n.hasPendingWrites,n.fromCache),t.converter)}function Ci(){return new Rb("serverTimestamp")}(function(t,n=!0){(function(s){ju=s})(Vu),xu(new tl("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new qa(new N3(i.getProvider("auth-internal")),new j3(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new pt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bh(d.options.projectId,p)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ma(zS,HS,t),Ma(zS,HS,"esm2017")})();const zU={BASE_URL:"/TaskMaster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_TIMEOUT:"30000",VITE_DEV_MODE:"false",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_DEBUG_MODE:"false",VITE_ENABLE_ERROR_TRACKING:"true",VITE_ENABLE_PWA:"true",VITE_ERROR_TRACKING_SERVICE:"sentry",VITE_FIREBASE_API_KEY:"AIzaSyAng70QHlUJdNhd8Y0bFB7i1fsdOw2pJQs",VITE_FIREBASE_APP_ID:"1:531768258109:web:8e51780202779abbe48454",VITE_FIREBASE_AUTH_DOMAIN:"askmanager-be722.firebaseapp.com",VITE_FIREBASE_DATABASE_URL:"https://taskmanager-be722-default-rtdb.firebaseio.com",VITE_FIREBASE_MEASUREMENT_ID:"G-1EK950PRKM",VITE_FIREBASE_MESSAGING_SENDER_ID:"531768258109",VITE_FIREBASE_PROJECT_ID:"taskmanager-be722",VITE_FIREBASE_STORAGE_BUCKET:"taskmanager-be722.firebasestorage.app",VITE_LOG_LEVEL:"warn",VITE_MAX_FILE_SIZE:"5242880"},HU={apiKey:"AIzaSyAng70QHlUJdNhd8Y0bFB7i1fsdOw2pJQs",authDomain:"askmanager-be722.firebaseapp.com",projectId:"taskmanager-be722",storageBucket:"taskmanager-be722.firebasestorage.app",messagingSenderId:"531768258109",appId:"1:531768258109:web:8e51780202779abbe48454",measurementId:"G-1EK950PRKM"};{const t=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"].filter(n=>!zU[n]);if(t.length>0)throw console.error("Missing required Firebase environment variables:",t),new Error("Firebase configuration incomplete")}const T2=iD(HU),Ra=O3(T2),E2=new Dr,ri=RU(T2);let qU={data:""},WU=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qU,YU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,GU=/\/\*[^]*?\*\/|  +/g,z1=/\n+/g,Sa=(e,t)=>{let n="",i="",s="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":i+=a[1]=="f"?Sa(l,a):a+"{"+Sa(l,a[1]=="k"?"":t)+"}":typeof l=="object"?i+=Sa(l,t?t.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Sa.p?Sa.p(a,l):a+":"+l+";")}return n+(t&&s?t+"{"+s+"}":s)+i},Er={},S2=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+S2(e[n]);return t}return e},$U=(e,t,n,i,s)=>{let a=S2(e),l=Er[a]||(Er[a]=(h=>{let d=0,p=11;for(;d<h.length;)p=101*p+h.charCodeAt(d++)>>>0;return"go"+p})(a));if(!Er[l]){let h=a!==e?e:(d=>{let p,y,_=[{}];for(;p=YU.exec(d.replace(GU,""));)p[4]?_.shift():p[3]?(y=p[3].replace(z1," ").trim(),_.unshift(_[0][y]=_[0][y]||{})):_[0][p[1]]=p[2].replace(z1," ").trim();return _[0]})(e);Er[l]=Sa(s?{["@keyframes "+l]:h}:h,n?"":"."+l)}let c=n&&Er.g?Er.g:null;return n&&(Er.g=Er[l]),((h,d,p,y)=>{y?d.data=d.data.replace(y,h):d.data.indexOf(h)===-1&&(d.data=p?h+d.data:d.data+h)})(Er[l],t,i,c),l},KU=(e,t,n)=>e.reduce((i,s,a)=>{let l=t[a];if(l&&l.call){let c=l(n),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Sa(c,""):c===!1?"":c}return i+s+(l??"")},"");function rg(e){let t=this||{},n=e.call?e(t.p):e;return $U(n.unshift?n.raw?KU(n,[].slice.call(arguments,1),t.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(t.p):s),{}):n,WU(t.target),t.g,t.o,t.k)}let A2,F0,z0;rg.bind({g:1});let Ur=rg.bind({k:1});function XU(e,t,n,i){Sa.p=t,A2=e,F0=n,z0=i}function Za(e,t){let n=this||{};return function(){let i=arguments;function s(a,l){let c=Object.assign({},a),h=c.className||s.className;n.p=Object.assign({theme:F0&&F0()},c),n.o=/ *go\d+/.test(h),c.className=rg.apply(n,i)+(h?" "+h:"");let d=e;return e[0]&&(d=c.as||e,delete c.as),z0&&d[0]&&z0(c),A2(d,c)}return s}}var QU=e=>typeof e=="function",fp=(e,t)=>QU(e)?e(t):e,ZU=(()=>{let e=0;return()=>(++e).toString()})(),R2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),JU=20,C2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,JU)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return C2(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Nm=[],qo={toasts:[],pausedAt:void 0},ll=e=>{qo=C2(qo,e),Nm.forEach(t=>{t(qo)})},t9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e9=(e={})=>{let[t,n]=U.useState(qo),i=U.useRef(qo);U.useEffect(()=>(i.current!==qo&&n(qo),Nm.push(n),()=>{let a=Nm.indexOf(n);a>-1&&Nm.splice(a,1)}),[]);let s=t.toasts.map(a=>{var l,c,h;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||e?.removeDelay,duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||e?.duration||t9[a.type],style:{...e.style,...(h=e[a.type])==null?void 0:h.style,...a.style}}});return{...t,toasts:s}},n9=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||ZU()}),wf=e=>(t,n)=>{let i=n9(t,e,n);return ll({type:2,toast:i}),i.id},ii=(e,t)=>wf("blank")(e,t);ii.error=wf("error");ii.success=wf("success");ii.loading=wf("loading");ii.custom=wf("custom");ii.dismiss=e=>{ll({type:3,toastId:e})};ii.remove=e=>ll({type:4,toastId:e});ii.promise=(e,t,n)=>{let i=ii.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?fp(t.success,s):void 0;return a?ii.success(a,{id:i,...n,...n?.success}):ii.dismiss(i),s}).catch(s=>{let a=t.error?fp(t.error,s):void 0;a?ii.error(a,{id:i,...n,...n?.error}):ii.dismiss(i)}),e};var i9=(e,t)=>{ll({type:1,toast:{id:e,height:t}})},s9=()=>{ll({type:5,time:Date.now()})},Sh=new Map,r9=1e3,a9=(e,t=r9)=>{if(Sh.has(e))return;let n=setTimeout(()=>{Sh.delete(e),ll({type:4,toastId:e})},t);Sh.set(e,n)},o9=e=>{let{toasts:t,pausedAt:n}=e9(e);U.useEffect(()=>{if(n)return;let a=Date.now(),l=t.map(c=>{if(c.duration===1/0)return;let h=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(h<0){c.visible&&ii.dismiss(c.id);return}return setTimeout(()=>ii.dismiss(c.id),h)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[t,n]);let i=U.useCallback(()=>{n&&ll({type:6,time:Date.now()})},[n]),s=U.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:h=8,defaultPosition:d}=l||{},p=t.filter(x=>(x.position||d)===(a.position||d)&&x.height),y=p.findIndex(x=>x.id===a.id),_=p.filter((x,E)=>E<y&&x.visible).length;return p.filter(x=>x.visible).slice(...c?[_+1]:[0,_]).reduce((x,E)=>x+(E.height||0)+h,0)},[t]);return U.useEffect(()=>{t.forEach(a=>{if(a.dismissed)a9(a.id,a.removeDelay);else{let l=Sh.get(a.id);l&&(clearTimeout(l),Sh.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:i9,startPause:s9,endPause:i,calculateOffset:s}}},l9=Ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,u9=Ur`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,c9=Ur`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,h9=Za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${l9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${u9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${c9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,f9=Ur`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,d9=Za("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${f9} 1s linear infinite;
`,m9=Ur`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p9=Ur`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,g9=Za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,y9=Za("div")`
  position: absolute;
`,v9=Za("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,_9=Ur`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b9=Za("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${_9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,x9=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?U.createElement(b9,null,t):t:n==="blank"?null:U.createElement(v9,null,U.createElement(d9,{...i}),n!=="loading"&&U.createElement(y9,null,n==="error"?U.createElement(h9,{...i}):U.createElement(g9,{...i})))},w9=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,T9=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,E9="0%{opacity:0;} 100%{opacity:1;}",S9="0%{opacity:1;} 100%{opacity:0;}",A9=Za("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,R9=Za("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,C9=(e,t)=>{let n=e.includes("top")?1:-1,[i,s]=R2()?[E9,S9]:[w9(n),T9(n)];return{animation:t?`${Ur(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ur(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},D9=U.memo(({toast:e,position:t,style:n,children:i})=>{let s=e.height?C9(e.position||t||"top-center",e.visible):{opacity:0},a=U.createElement(x9,{toast:e}),l=U.createElement(R9,{...e.ariaProps},fp(e.message,e));return U.createElement(A9,{className:e.className,style:{...s,...n,...e.style}},typeof i=="function"?i({icon:a,message:l}):U.createElement(U.Fragment,null,a,l))});XU(U.createElement);var I9=({id:e,className:t,style:n,onHeightUpdate:i,children:s})=>{let a=U.useCallback(l=>{if(l){let c=()=>{let h=l.getBoundingClientRect().height;i(e,h)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return U.createElement("div",{ref:a,className:t,style:n},s)},O9=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:R2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...s}},M9=rg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,sm=16,k9=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:s,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:h}=o9(n);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:sm,left:sm,right:sm,bottom:sm,pointerEvents:"none",...a},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(d=>{let p=d.position||t,y=h.calculateOffset(d,{reverseOrder:e,gutter:i,defaultPosition:t}),_=O9(p,y);return U.createElement(I9,{id:d.id,key:d.id,onHeightUpdate:h.updateHeight,className:d.visible?M9:"",style:_},d.type==="custom"?fp(d.message,d):s?s(d):U.createElement(D9,{toast:d,position:p}))}))},Qt=ii;const D2=U.createContext();function P9({children:e}){const[t,n]=U.useState(null),[i,s]=U.useState(!0),a=async c=>{if(c)try{const h=ps(ri,"users",c.uid);(await kb(h)).exists()?await hp(h,{lastLoginAt:Ci(),updatedAt:Ci()},{merge:!0}):(await hp(h,{fullName:c.displayName||"",username:c.email?.split("@")[0]||"",email:c.email||"",emailVerified:c.emailVerified||!1,createdAt:Ci(),updatedAt:Ci(),lastLoginAt:Ci(),googleProvider:c.providerData.some(p=>p.providerId==="google.com")}),console.log("User document created successfully"))}catch(h){console.error("Error ensuring user document:",h)}};U.useEffect(()=>{const c=xj(Ra,async h=>{n(h),h&&await a(h),s(!1)});return()=>c()},[]);const l=()=>wj(Ra);return T.jsx(D2.Provider,{value:{user:t,logout:l},children:!i&&e})}function bs(){return U.useContext(D2)}const N9="/TaskMaster/assets/logo-CBlcdg3H.jpg";function V9(){const{user:e}=bs(),t=Ka(),n=_s(),[i,s]=U.useState(new Date),[a,l]=U.useState(null),[c,h]=U.useState(!1);return U.useEffect(()=>{const d=setInterval(()=>s(new Date),1e3);return()=>clearInterval(d)},[]),U.useEffect(()=>{if(!e)return;(async()=>{const p=ps(ri,"users",e.uid),y=await kb(p);y.exists()&&l(y.data())})()},[e]),U.useEffect(()=>{h(!1)},[n.pathname]),T.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsx(on,{to:"/",className:"flex-shrink-0",children:T.jsx("img",{src:N9,alt:"Logo",className:"h-8 sm:h-10"})}),e&&T.jsxs("nav",{className:"hidden md:flex space-x-8 text-sm font-medium",children:[T.jsx(on,{to:"/",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n.pathname==="/"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Dashboard"}),T.jsx(on,{to:"/add",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n.pathname==="/add"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Add Task"}),T.jsx(on,{to:"/pending",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n.pathname==="/pending"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Pending Tasks"}),T.jsx(on,{to:"/completed",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n.pathname==="/completed"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Completed Tasks"}),T.jsx(on,{to:"/calendar",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${n.pathname==="/calendar"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:" Calendar"})]}),T.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[T.jsxs("div",{className:"text-gray-600 text-xs",children:[i.toLocaleDateString()," ",i.toLocaleTimeString()]}),e?T.jsxs(T.Fragment,{children:[a&&T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 text-purple-800 flex items-center justify-center font-semibold text-sm",children:a.username?a.username.charAt(0).toUpperCase():"U"}),T.jsx("span",{className:"text-gray-700 text-sm font-medium hidden lg:block",children:a.username})]}),T.jsx("button",{onClick:()=>t("/logout"),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:"Logout"})]}):T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx(on,{to:"/login",className:"text-gray-700 hover:text-purple-600 text-sm font-medium transition-colors",children:"Login"}),T.jsx(on,{to:"/signup",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:"Sign Up"})]})]}),T.jsx("div",{className:"md:hidden",children:T.jsxs("button",{onClick:()=>h(!c),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-purple-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-purple-500",children:[T.jsx("span",{className:"sr-only",children:"Open main menu"}),c?T.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):T.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),c&&T.jsx("div",{className:"md:hidden",children:T.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-200",children:e?T.jsxs(T.Fragment,{children:[T.jsx(on,{to:"/",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${n.pathname==="/"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Dashboard"}),T.jsx(on,{to:"/add",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${n.pathname==="/add"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Add Task"}),T.jsx(on,{to:"/pending",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${n.pathname==="/pending"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Pending Tasks"}),T.jsx(on,{to:"/completed",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${n.pathname==="/completed"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:"Completed Tasks"}),T.jsx(on,{to:"/calendar",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${n.pathname==="/calendar"?"text-purple-600 bg-purple-50":"text-gray-700 hover:text-purple-600 hover:bg-gray-50"}`,children:" Calendar"}),T.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[a&&T.jsxs("div",{className:"flex items-center px-3 py-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 text-purple-800 flex items-center justify-center font-semibold text-sm",children:a.username?a.username.charAt(0).toUpperCase():"U"}),T.jsx("span",{className:"ml-3 text-gray-700 text-sm font-medium",children:a.username})]}),T.jsx("div",{className:"mt-3 px-3",children:T.jsx("button",{onClick:()=>t("/logout"),className:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:"Logout"})})]})]}):T.jsxs("div",{className:"space-y-2",children:[T.jsx(on,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-purple-600 hover:bg-gray-50 transition-colors",children:"Login"}),T.jsx(on,{to:"/signup",className:"block px-3 py-2 rounded-md text-base font-medium bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Sign Up"})]})})})]})}function L9(){return T.jsx("footer",{className:"mt-auto text-center text-sm text-gray-500 py-6 sm:py-8 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto",children:[T.jsxs("p",{className:"text-xs sm:text-sm",children:[" ",new Date().getFullYear()," Task Master "]}),T.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Stay organized, stay productive"})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tf(e){return e+.5|0}const Ca=(e,t,n)=>Math.max(Math.min(e,n),t);function dh(e){return Ca(Tf(e*2.55),0,255)}function Va(e){return Ca(Tf(e*255),0,255)}function Cr(e){return Ca(Tf(e/2.55)/100,0,1)}function H1(e){return Ca(Tf(e*100),0,100)}const Wi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H0=[..."0123456789ABCDEF"],j9=e=>H0[e&15],U9=e=>H0[(e&240)>>4]+H0[e&15],rm=e=>(e&240)>>4===(e&15),B9=e=>rm(e.r)&&rm(e.g)&&rm(e.b)&&rm(e.a);function F9(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Wi[e[1]]*17,g:255&Wi[e[2]]*17,b:255&Wi[e[3]]*17,a:t===5?Wi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Wi[e[1]]<<4|Wi[e[2]],g:Wi[e[3]]<<4|Wi[e[4]],b:Wi[e[5]]<<4|Wi[e[6]],a:t===9?Wi[e[7]]<<4|Wi[e[8]]:255})),n}const z9=(e,t)=>e<255?t(e):"";function H9(e){var t=B9(e)?j9:U9;return e?"#"+t(e.r)+t(e.g)+t(e.b)+z9(e.a,t):void 0}const q9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I2(e,t,n){const i=t*Math.min(n,1-n),s=(a,l=(a+e/30)%12)=>n-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function W9(e,t,n){const i=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Y9(e,t,n){const i=I2(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function G9(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Nb(e){const n=e.r/255,i=e.g/255,s=e.b/255,a=Math.max(n,i,s),l=Math.min(n,i,s),c=(a+l)/2;let h,d,p;return a!==l&&(p=a-l,d=c>.5?p/(2-a-l):p/(a+l),h=G9(n,i,s,p,a),h=h*60+.5),[h|0,d||0,c]}function Vb(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Va)}function Lb(e,t,n){return Vb(I2,e,t,n)}function $9(e,t,n){return Vb(Y9,e,t,n)}function K9(e,t,n){return Vb(W9,e,t,n)}function O2(e){return(e%360+360)%360}function X9(e){const t=q9.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?dh(+t[5]):Va(+t[5]));const s=O2(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=$9(s,a,l):t[1]==="hsv"?i=K9(s,a,l):i=Lb(s,a,l),{r:i[0],g:i[1],b:i[2],a:n}}function Q9(e,t){var n=Nb(e);n[0]=O2(n[0]+t),n=Lb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Z9(e){if(!e)return;const t=Nb(e),n=t[0],i=H1(t[1]),s=H1(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Cr(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const q1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function J9(){const e={},t=Object.keys(W1),n=Object.keys(q1);let i,s,a,l,c;for(i=0;i<t.length;i++){for(l=c=t[i],s=0;s<n.length;s++)a=n[s],c=c.replace(a,q1[a]);a=parseInt(W1[l],16),e[c]=[a>>16&255,a>>8&255,a&255]}return e}let am;function tB(e){am||(am=J9(),am.transparent=[0,0,0,0]);const t=am[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nB(e){const t=eB.exec(e);let n=255,i,s,a;if(t){if(t[7]!==i){const l=+t[7];n=t[8]?dh(l):Ca(l*255,0,255)}return i=+t[1],s=+t[3],a=+t[5],i=255&(t[2]?dh(i):Ca(i,0,255)),s=255&(t[4]?dh(s):Ca(s,0,255)),a=255&(t[6]?dh(a):Ca(a,0,255)),{r:i,g:s,b:a,a:n}}}function iB(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Cr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Lv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,tu=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function sB(e,t,n){const i=tu(Cr(e.r)),s=tu(Cr(e.g)),a=tu(Cr(e.b));return{r:Va(Lv(i+n*(tu(Cr(t.r))-i))),g:Va(Lv(s+n*(tu(Cr(t.g))-s))),b:Va(Lv(a+n*(tu(Cr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function om(e,t,n){if(e){let i=Nb(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Lb(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function M2(e,t){return e&&Object.assign(t||{},e)}function Y1(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Va(e[3]))):(t=M2(e,{r:0,g:0,b:0,a:1}),t.a=Va(t.a)),t}function rB(e){return e.charAt(0)==="r"?nB(e):X9(e)}class Wh{constructor(t){if(t instanceof Wh)return t;const n=typeof t;let i;n==="object"?i=Y1(t):n==="string"&&(i=F9(t)||tB(t)||rB(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=M2(this._rgb);return t&&(t.a=Cr(t.a)),t}set rgb(t){this._rgb=Y1(t)}rgbString(){return this._valid?iB(this._rgb):void 0}hexString(){return this._valid?H9(this._rgb):void 0}hslString(){return this._valid?Z9(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let a;const l=n===a?.5:n,c=2*l-1,h=i.a-s.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;a=1-d,i.r=255&d*i.r+a*s.r+.5,i.g=255&d*i.g+a*s.g+.5,i.b=255&d*i.b+a*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=sB(this._rgb,t._rgb,n)),this}clone(){return new Wh(this.rgb)}alpha(t){return this._rgb.a=Va(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Tf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return om(this._rgb,2,t),this}darken(t){return om(this._rgb,2,-t),this}saturate(t){return om(this._rgb,1,t),this}desaturate(t){return om(this._rgb,1,-t),this}rotate(t){return Q9(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Sr(){}const aB=(()=>{let e=0;return()=>e++})();function Kn(e){return e==null}function jn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ue(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Br(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function js(e,t){return Br(e)?e:t}function ve(e,t){return typeof e>"u"?t:e}const oB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,k2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ie(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function ye(e,t,n,i){let s,a,l;if(jn(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(ue(e))for(l=Object.keys(e),a=l.length,s=0;s<a;s++)t.call(n,e[l[s]],l[s])}function dp(e,t){let n,i,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function mp(e){if(jn(e))return e.map(mp);if(ue(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=mp(e[n[s]]);return t}return e}function P2(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function lB(e,t,n,i){if(!P2(e))return;const s=t[e],a=n[e];ue(s)&&ue(a)?Yh(s,a,i):t[e]=mp(a)}function Yh(e,t,n){const i=jn(t)?t:[t],s=i.length;if(!ue(e))return e;n=n||{};const a=n.merger||lB;let l;for(let c=0;c<s;++c){if(l=i[c],!ue(l))continue;const h=Object.keys(l);for(let d=0,p=h.length;d<p;++d)a(h[d],e,l,n)}return e}function Ah(e,t){return Yh(e,t,{merger:uB})}function uB(e,t,n){if(!P2(e))return;const i=t[e],s=n[e];ue(i)&&ue(s)?Ah(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=mp(s))}const G1={"":e=>e,x:e=>e.x,y:e=>e.y};function cB(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function hB(e){const t=cB(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Gh(e,t){return(G1[t]||(G1[t]=hB(t)))(e)}function jb(e){return e.charAt(0).toUpperCase()+e.slice(1)}const pp=e=>typeof e<"u",Wa=e=>typeof e=="function",$1=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function fB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Me=Math.PI,hn=2*Me,gp=Number.POSITIVE_INFINITY,dB=Me/180,gn=Me/2,ko=Me/4,K1=Me*2/3,X1=Math.sign;function mB(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function pB(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function yp(e){return!pB(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Wo(e){return e*(Me/180)}function gB(e){return e*(180/Me)}function N2(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*Me&&(a+=hn),{angle:a,distance:s}}function yB(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Hs(e){return(e%hn+hn)%hn}function vp(e,t,n,i){const s=Hs(e),a=Hs(t),l=Hs(n),c=Hs(a-s),h=Hs(l-s),d=Hs(s-a),p=Hs(s-l);return s===a||s===l||i&&a===l||c>h&&d<p}function Ki(e,t,n){return Math.max(t,Math.min(n,e))}function vB(e){return Ki(e,-32768,32767)}function mh(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Ub(e,t,n){n=n||(l=>e[l]<t);let i=e.length-1,s=0,a;for(;i-s>1;)a=s+i>>1,n(a)?s=a:i=a;return{lo:s,hi:i}}const q0=(e,t,n,i)=>Ub(e,n,i?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),_B=(e,t,n)=>Ub(e,n,i=>e[i][t]>=n);function bB(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const V2=["push","pop","shift","splice","unshift"];function xB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),V2.forEach(n=>{const i="_onData"+jb(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...a)}),l}})})}function Q1(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(V2.forEach(a=>{delete e[a]}),delete e._chartjs)}function wB(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const L2=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function j2(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,L2.call(window,()=>{i=!1,e.apply(t,n)}))}}function TB(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const U2=e=>e==="start"?"left":e==="end"?"right":"center",Ai=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,EB=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t,lm=e=>e===0||e===1,Z1=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*hn/n)),J1=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*hn/n)+1,Rh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*gn)+1,easeOutSine:e=>Math.sin(e*gn),easeInOutSine:e=>-.5*(Math.cos(Me*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>lm(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>lm(e)?e:Z1(e,.075,.3),easeOutElastic:e=>lm(e)?e:J1(e,.075,.3),easeInOutElastic(e){return lm(e)?e:e<.5?.5*Z1(e*2,.1125,.45):.5+.5*J1(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Rh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Rh.easeInBounce(e*2)*.5:Rh.easeOutBounce(e*2-1)*.5+.5};function B2(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function tA(e){return B2(e)?e:new Wh(e)}function jv(e){return B2(e)?e:new Wh(e).saturate(.5).darken(.1).hexString()}const SB=["x","y","borderWidth","radius","tension"],AB=["color","borderColor","backgroundColor"];function RB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:AB},numbers:{type:"number",properties:SB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const eA=new Map;function DB(e,t){t=t||{};const n=e+JSON.stringify(t);let i=eA.get(n);return i||(i=new Intl.NumberFormat(e,t),eA.set(n,i)),i}function IB(e,t,n){return DB(t,n).format(e)}const OB={values(e){return jn(e)?e:""+e}};var MB={formatters:OB};function kB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:MB.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const rl=Object.create(null),W0=Object.create(null);function Ch(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const a=n[i];e=e[a]||(e[a]=Object.create(null))}return e}function Uv(e,t,n){return typeof t=="string"?Yh(Ch(e,t),n):Yh(Ch(e,""),t)}class PB{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>jv(s.backgroundColor),this.hoverBorderColor=(i,s)=>jv(s.borderColor),this.hoverColor=(i,s)=>jv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Uv(this,t,n)}get(t){return Ch(this,t)}describe(t,n){return Uv(W0,t,n)}override(t,n){return Uv(rl,t,n)}route(t,n,i,s){const a=Ch(this,t),l=Ch(this,i),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[c],d=l[s];return ue(h)?Object.assign({},d,h):ve(h,d)},set(h){this[c]=h}}})}apply(t){t.forEach(n=>n(this))}}var Je=new PB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RB,CB,kB]);function NB(e){return!e||Kn(e.size)||Kn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function nA(e,t,n,i,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>i&&(i=a),i}function Po(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function iA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function sA(e,t,n,i){F2(e,t,n,i,null)}function F2(e,t,n,i,s){let a,l,c,h,d,p,y,_;const x=t.pointStyle,E=t.rotation,C=t.radius;let D=(E||0)*dB;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(D),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(C)||C<=0)){switch(e.beginPath(),x){default:s?e.ellipse(n,i,s/2,C,0,0,hn):e.arc(n,i,C,0,hn),e.closePath();break;case"triangle":p=s?s/2:C,e.moveTo(n+Math.sin(D)*p,i-Math.cos(D)*C),D+=K1,e.lineTo(n+Math.sin(D)*p,i-Math.cos(D)*C),D+=K1,e.lineTo(n+Math.sin(D)*p,i-Math.cos(D)*C),e.closePath();break;case"rectRounded":d=C*.516,h=C-d,l=Math.cos(D+ko)*h,y=Math.cos(D+ko)*(s?s/2-d:h),c=Math.sin(D+ko)*h,_=Math.sin(D+ko)*(s?s/2-d:h),e.arc(n-y,i-c,d,D-Me,D-gn),e.arc(n+_,i-l,d,D-gn,D),e.arc(n+y,i+c,d,D,D+gn),e.arc(n-_,i+l,d,D+gn,D+Me),e.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*C,p=s?s/2:h,e.rect(n-p,i-h,2*p,2*h);break}D+=ko;case"rectRot":y=Math.cos(D)*(s?s/2:C),l=Math.cos(D)*C,c=Math.sin(D)*C,_=Math.sin(D)*(s?s/2:C),e.moveTo(n-y,i-c),e.lineTo(n+_,i-l),e.lineTo(n+y,i+c),e.lineTo(n-_,i+l),e.closePath();break;case"crossRot":D+=ko;case"cross":y=Math.cos(D)*(s?s/2:C),l=Math.cos(D)*C,c=Math.sin(D)*C,_=Math.sin(D)*(s?s/2:C),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"star":y=Math.cos(D)*(s?s/2:C),l=Math.cos(D)*C,c=Math.sin(D)*C,_=Math.sin(D)*(s?s/2:C),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l),D+=ko,y=Math.cos(D)*(s?s/2:C),l=Math.cos(D)*C,c=Math.sin(D)*C,_=Math.sin(D)*(s?s/2:C),e.moveTo(n-y,i-c),e.lineTo(n+y,i+c),e.moveTo(n+_,i-l),e.lineTo(n-_,i+l);break;case"line":l=s?s/2:Math.cos(D)*C,c=Math.sin(D)*C,e.moveTo(n-l,i-c),e.lineTo(n+l,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(D)*(s?s/2:C),i+Math.sin(D)*C);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function z2(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Bb(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Fb(e){e.restore()}function VB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Kn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function LB(e,t,n,i,s){if(s.strikethrough||s.underline){const a=e.measureText(i),l=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,h=n-a.actualBoundingBoxAscent,d=n+a.actualBoundingBoxDescent,p=s.strikethrough?(h+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(l,p),e.lineTo(c,p),e.stroke()}}function jB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function _p(e,t,n,i,s,a={}){const l=jn(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let h,d;for(e.save(),e.font=s.string,VB(e,a),h=0;h<l.length;++h)d=l[h],a.backdrop&&jB(e,a.backdrop),c&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Kn(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,n,i,a.maxWidth)),e.fillText(d,n,i,a.maxWidth),LB(e,n,i,d,a),i+=Number(s.lineHeight);e.restore()}function Y0(e,t){const{x:n,y:i,w:s,h:a,radius:l}=t;e.arc(n+l.topLeft,i+l.topLeft,l.topLeft,1.5*Me,Me,!0),e.lineTo(n,i+a-l.bottomLeft),e.arc(n+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,Me,gn,!0),e.lineTo(n+s-l.bottomRight,i+a),e.arc(n+s-l.bottomRight,i+a-l.bottomRight,l.bottomRight,gn,0,!0),e.lineTo(n+s,i+l.topRight),e.arc(n+s-l.topRight,i+l.topRight,l.topRight,0,-gn,!0),e.lineTo(n+l.topLeft,i)}const UB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FB(e,t){const n=(""+e).match(UB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const zB=e=>+e||0;function zb(e,t){const n={},i=ue(t),s=i?Object.keys(t):t,a=ue(e)?i?l=>ve(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of s)n[l]=zB(a(l));return n}function HB(e){return zb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Dh(e){return zb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function gs(e){const t=HB(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function di(e,t){e=e||{},t=t||Je.font;let n=ve(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ve(e.style,t.style);i&&!(""+i).match(BB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ve(e.family,t.family),lineHeight:FB(ve(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ve(e.weight,t.weight),string:""};return s.string=NB(s),s}function um(e,t,n,i){let s,a,l;for(s=0,a=e.length;s<a;++s)if(l=e[s],l!==void 0&&l!==void 0)return l}function qB(e,t,n){const{min:i,max:s}=e,a=k2(t,(s-i)/2),l=(c,h)=>n&&c===0?0:c+h;return{min:l(i,-Math.abs(a)),max:l(s,a)}}function Hu(e,t){return Object.assign(Object.create(e),t)}function Hb(e,t=[""],n,i,s=()=>e[0]){const a=n||e;typeof i>"u"&&(i=Y2("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:i,_getTarget:s,override:c=>Hb([c,...e],t,a,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete e[0][h],!0},get(c,h){return q2(c,h,()=>ZB(h,t,e,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,h){return aA(c).includes(h)},ownKeys(c){return aA(c)},set(c,h,d){const p=c._storage||(c._storage=s());return c[h]=p[h]=d,delete c._keys,!0}})}function Du(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:H2(e,i),setContext:a=>Du(e,a,n,i),override:a=>Du(e.override(a),t,n,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,c){return q2(a,l,()=>YB(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,c){return e[l]=c,delete a[l],!0}})}function H2(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Wa(n)?n:()=>n,isIndexable:Wa(i)?i:()=>i}}const WB=(e,t)=>e?e+jb(t):t,qb=(e,t)=>ue(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function q2(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const i=n();return e[t]=i,i}function YB(e,t,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=e;let c=i[t];return Wa(c)&&l.isScriptable(t)&&(c=GB(t,c,e,n)),jn(c)&&c.length&&(c=$B(t,c,e,l.isIndexable)),qb(t,c)&&(c=Du(c,s,a&&a[t],l)),c}function GB(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let h=t(a,l||i);return c.delete(e),qb(e,h)&&(h=Wb(s._scopes,s,e,h)),h}function $B(e,t,n,i){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&i(e))return t[a.index%t.length];if(ue(t[0])){const h=t,d=s._scopes.filter(p=>p!==h);t=[];for(const p of h){const y=Wb(d,s,e,p);t.push(Du(y,a,l&&l[e],c))}}return t}function W2(e,t,n){return Wa(e)?e(t,n):e}const KB=(e,t)=>e===!0?t:typeof e=="string"?Gh(t,e):void 0;function XB(e,t,n,i,s){for(const a of t){const l=KB(n,a);if(l){e.add(l);const c=W2(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(l===!1&&typeof i<"u"&&n!==i)return null}return!1}function Wb(e,t,n,i){const s=t._rootScopes,a=W2(t._fallback,n,i),l=[...e,...s],c=new Set;c.add(i);let h=rA(c,l,n,a||n,i);return h===null||typeof a<"u"&&a!==n&&(h=rA(c,l,a,h,i),h===null)?!1:Hb(Array.from(c),[""],s,a,()=>QB(t,n,i))}function rA(e,t,n,i,s){for(;n;)n=XB(e,t,n,i,s);return n}function QB(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return jn(s)&&ue(n)?n:s||{}}function ZB(e,t,n,i){let s;for(const a of t)if(s=Y2(WB(a,e),n),typeof s<"u")return qb(e,s)?Wb(n,i,e,s):s}function Y2(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function aA(e){let t=e._keys;return t||(t=e._keys=JB(e._scopes)),t}function JB(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Yb(){return typeof window<"u"&&typeof document<"u"}function Gb(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function bp(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const ag=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function tF(e,t){return ag(e).getPropertyValue(t)}const eF=["top","right","bottom","left"];function Ko(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=eF[s];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nF=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function iF(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=i;let l=!1,c,h;if(nF(s,a,e.target))c=s,h=a;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,h=i.clientY-d.top,l=!0}return{x:c,y:h,box:l}}function Uo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=ag(n),a=s.boxSizing==="border-box",l=Ko(s,"padding"),c=Ko(s,"border","width"),{x:h,y:d,box:p}=iF(e,n),y=l.left+(p&&c.left),_=l.top+(p&&c.top);let{width:x,height:E}=t;return a&&(x-=l.width+c.width,E-=l.height+c.height),{x:Math.round((h-y)/x*n.width/i),y:Math.round((d-_)/E*n.height/i)}}function sF(e,t,n){let i,s;if(t===void 0||n===void 0){const a=e&&Gb(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const l=a.getBoundingClientRect(),c=ag(a),h=Ko(c,"border","width"),d=Ko(c,"padding");t=l.width-d.width-h.width,n=l.height-d.height-h.height,i=bp(c.maxWidth,a,"clientWidth"),s=bp(c.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:i||gp,maxHeight:s||gp}}const cm=e=>Math.round(e*10)/10;function rF(e,t,n,i){const s=ag(e),a=Ko(s,"margin"),l=bp(s.maxWidth,e,"clientWidth")||gp,c=bp(s.maxHeight,e,"clientHeight")||gp,h=sF(e,t,n);let{width:d,height:p}=h;if(s.boxSizing==="content-box"){const _=Ko(s,"border","width"),x=Ko(s,"padding");d-=x.width+_.width,p-=x.height+_.height}return d=Math.max(0,d-a.width),p=Math.max(0,i?d/i:p-a.height),d=cm(Math.min(d,l,h.maxWidth)),p=cm(Math.min(p,c,h.maxHeight)),d&&!p&&(p=cm(d/2)),(t!==void 0||n!==void 0)&&i&&h.height&&p>h.height&&(p=h.height,d=cm(Math.floor(p*i))),{width:d,height:p}}function oA(e,t,n){const i=t||1,s=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||l.height!==s||l.width!==a?(e.currentDevicePixelRatio=i,l.height=s,l.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const aF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Yb()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function lA(e,t){const n=tF(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const oF=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},lF=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function bu(e,t,n){return e?oF(t,n):lF()}function G2(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function $2(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hm(e,t,n){return e.options.clip?e[n]:t[n]}function uF(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:hm(n,t,"left"),right:hm(n,t,"right"),top:hm(i,t,"top"),bottom:hm(i,t,"bottom")}:t}function cF(e,t){const n=t._clip;if(n.disabled)return!1;const i=uF(t,e.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class hF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(i-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=L2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,c=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),a.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ar=new hF;const uA="transparent",fF={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=tA(e||uA),s=i.valid&&tA(t||uA);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class dF{constructor(t,n,i,s){const a=n[i];s=um([t.to,s,a,t.from]);const l=um([t.from,a,s]);this._active=!0,this._fn=t.fn||fF[t.type||typeof l],this._easing=Rh[t.easing]||Rh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=um([t.to,n,s,t.from]),this._from=um([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let h;if(this._active=a!==c&&(l||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}h=n/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[s]=this._fn(a,c,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class K2{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ue(t))return;const n=Object.keys(Je.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!ue(a))return;const l={};for(const c of n)l[c]=a[c];(jn(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(t,n){const i=n.options,s=pF(t,i);if(!s)return[];const a=this._createAnimations(s,i);return i.$shared&&mF(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,n){const i=this._properties,s=[],a=t.$animations||(t.$animations={}),l=Object.keys(n),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const d=l[h];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const p=n[d];let y=a[d];const _=i.get(d);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){t[d]=p;continue}a[d]=y=new dF(_,t,d,p),s.push(y)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Ar.add(this._chart,i),!0}}function mF(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const a=e[i[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function pF(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cA(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:i?a:s,end:i?s:a}}function gF(e,t,n){if(n===!1)return!1;const i=cA(e,n),s=cA(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function yF(e){let t,n,i,s;return ue(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function X2(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=i.length;s<a;++s)n.push(i[s].index);return n}function hA(e,t,n,i={}){const s=e.keys,a=i.mode==="single";let l,c,h,d;if(t===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(h=+s[l],h===n){if(p=!0,i.all)continue;break}d=e.values[h],Br(d)&&(a||t===0||X1(t)===X1(d))&&(t+=d)}return!p&&!i.all?0:t}function vF(e,t){const{iScale:n,vScale:i}=t,s=n.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(e),c=new Array(l.length);let h,d,p;for(h=0,d=l.length;h<d;++h)p=l[h],c[h]={[s]:p,[a]:e[p]};return c}function Bv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function _F(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function bF(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function xF(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function fA(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function dA(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=i,h=a.axis,d=l.axis,p=_F(a,l,i),y=t.length;let _;for(let x=0;x<y;++x){const E=t[x],{[h]:C,[d]:D}=E,M=E._stacks||(E._stacks={});_=M[d]=xF(s,p,C),_[c]=D,_._top=fA(_,l,!0,i.type),_._bottom=fA(_,l,!1,i.type);const F=_._visualValues||(_._visualValues={});F[c]=D}}function Fv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function wF(e,t){return Hu(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function TF(e,t,n){return Hu(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Qc(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[i]===void 0||a[i][n]===void 0)return;delete a[i][n],a[i]._visualValues!==void 0&&a[i]._visualValues[n]!==void 0&&delete a[i]._visualValues[n]}}}const zv=e=>e==="reset"||e==="none",mA=(e,t)=>t?e:Object.assign({},e),EF=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:X2(n,!0),values:null};class Q2{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Bv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(y,_,x,E)=>y==="x"?_:y==="r"?E:x,a=n.xAxisID=ve(i.xAxisID,Fv(t,"x")),l=n.yAxisID=ve(i.yAxisID,Fv(t,"y")),c=n.rAxisID=ve(i.rAxisID,Fv(t,"r")),h=n.indexAxis,d=n.iAxisID=s(h,a,l,c),p=n.vAxisID=s(h,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Q1(this._data,this),t._stacked&&Qc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(ue(n)){const s=this._cachedMeta;this._data=vF(n,s)}else if(i!==n){if(i){Q1(i,this);const s=this._cachedMeta;Qc(s),s._parsed=[]}n&&Object.isExtensible(n)&&xB(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Bv(n.vScale,n),n.stack!==i.stack&&(s=!0,Qc(n),n.stack=i.stack),this._resyncElements(t),(s||a!==n._stacked)&&(dA(this,n._parsed),n._stacked=Bv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:l}=i,c=a.axis;let h=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{jn(s[t])?_=this.parseArrayData(i,s,t,n):ue(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const x=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<n;++p)i._parsed[p+t]=y=_[p],h&&(x()&&(h=!1),d=y);i._sorted=h}l&&dA(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:a,vScale:l}=t,c=a.axis,h=l.axis,d=a.getLabels(),p=a===l,y=new Array(s);let _,x,E;for(_=0,x=s;_<x;++_)E=_+i,y[_]={[c]:p||a.parse(d[E],E),[h]:l.parse(n[E],E)};return y}parseArrayData(t,n,i,s){const{xScale:a,yScale:l}=t,c=new Array(s);let h,d,p,y;for(h=0,d=s;h<d;++h)p=h+i,y=n[p],c[h]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(t,n,i,s){const{xScale:a,yScale:l}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(s);let p,y,_,x;for(p=0,y=s;p<y;++p)_=p+i,x=n[_],d[p]={x:a.parse(Gh(x,c),_),y:l.parse(Gh(x,h),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,a=this._cachedMeta,l=n[t.axis],c={keys:X2(s,!0),values:n._stacks[t.axis]._visualValues};return hA(c,l,a.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const a=i[n.axis];let l=a===null?NaN:a;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,l=hA(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,a=i._sorted&&t===i.iScale,l=s.length,c=this._getOtherScale(t),h=EF(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=bF(c);let _,x;function E(){x=s[_];const C=x[c.axis];return!Br(x[t.axis])||p>C||y<C}for(_=0;_<l&&!(!E()&&(this.updateRangeFromParsed(d,t,x,h),a));++_);if(a){for(_=l-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,t,x,h);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][t.axis],Br(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=yF(ve(this.options.clip,gF(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],a=n.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,a,c,h),p=c;p<c+h;++p){const y=s[p];y.hidden||(y.active&&d?l.push(y):y.draw(t,a))}for(p=0;p<l.length;++p)l[p].draw(t,a)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=TF(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=wF(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",a=this._cachedDataOpts,l=t+"-"+n,c=a[l],h=this.enableOptionSharing&&pp(i);if(c)return mA(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),y=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),p),x=Object.keys(Je.elements[t]),E=()=>this.getContext(i,s,n),C=d.resolveNamedOptions(_,x,E,y);return C.$shared&&(C.$shared=h,a[l]=Object.freeze(mA(C,h))),C}_resolveAnimations(t,n,i){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let h;if(s.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(t,i,n))}const d=new K2(s,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||zv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,i),{sharedOptions:a,includeOptions:l}}updateElement(t,n,i,s){zv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!zv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const s=i.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,i=!0){const s=this._cachedMeta,a=s.data,l=t+n;let c;const h=d=>{for(d.length+=n,c=d.length-1;c>=l;c--)d[c]=d[c-n]};for(h(a),c=t;c<l;++c)a[c]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,n),i&&this.updateElements(a,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Qc(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function SF(e,t,n){let i=1,s=1,a=0,l=0;if(t<hn){const c=e,h=c+t,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),x=(L,H,W)=>vp(L,c,h,!0)?1:Math.max(H,H*n,W,W*n),E=(L,H,W)=>vp(L,c,h,!0)?-1:Math.min(H,H*n,W,W*n),C=x(0,d,y),D=x(gn,p,_),M=E(Me,d,y),F=E(Me+gn,p,_);i=(C-M)/2,s=(D-F)/2,a=-(C+M)/2,l=-(D+F)/2}return{ratioX:i,ratioY:s,offsetX:a,offsetY:l}}class AF extends Q2{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((a,l)=>{const h=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let a=h=>+i[h];if(ue(i[t])){const{key:h="value"}=this._parsing;a=d=>+Gh(i[d],h)}let l,c;for(l=t,c=t+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return Wo(this.options.rotation-90)}_getCircumference(){return Wo(this.options.circumference)}_getRotationExtents(){let t=hn,n=-hn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,a=s._getRotation(),l=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+l)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-l)/2,0),h=Math.min(oB(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:x,offsetX:E,offsetY:C}=SF(y,p,h),D=(i.width-l)/_,M=(i.height-l)/x,F=Math.max(Math.min(D,M)/2,0),L=k2(this.options.radius,F),H=Math.max(L*h,0),W=(L-H)/this._getVisibleDatasetWeightTotal();this.offsetX=E*L,this.offsetY=C*L,s.total=this.calculateTotal(),this.outerRadius=L-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/hn)}updateElements(t,n,i,s){const a=s==="reset",l=this.chart,c=l.chartArea,d=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=a&&d.animateScale,x=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:C,includeOptions:D}=this._getSharedOptions(n,s);let M=this._getRotation(),F;for(F=0;F<n;++F)M+=this._circumference(F,a);for(F=n;F<n+i;++F){const L=this._circumference(F,a),H=t[F],W={x:p+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+L,circumference:L,outerRadius:E,innerRadius:x};D&&(W.options=C||this.resolveDataElementOptions(F,H.active?"active":s)),M+=L,this.updateElement(H,F,W,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(a))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?hn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],a=IB(n._parsed[t],i.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,a,l,c,h;if(!t){for(s=0,a=i.data.datasets.length;s<a;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,c=l.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=c.resolveDataElementOptions(s),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const a=this.resolveDataElementOptions(i);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ve(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}function No(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $b{static override(t){Object.assign($b.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return No()}parse(){return No()}format(){return No()}add(){return No()}diff(){return No()}startOf(){return No()}endOf(){return No()}}var RF={_date:$b};function CF(e,t,n,i){const{controller:s,data:a,_sorted:l}=e,c=s._cachedMeta.iScale,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(c&&t===c.axis&&t!=="r"&&l&&a.length){const d=c._reversePixels?_B:q0;if(i){if(s._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=d(a,t,n-y),x=d(a,t,n+y);return{lo:_.lo,hi:x.hi}}}}else{const p=d(a,t,n);if(h){const{vScale:y}=s._cachedMeta,{_parsed:_}=e,x=_.slice(0,p.lo+1).reverse().findIndex(C=>!Kn(C[y.axis]));p.lo-=Math.max(0,x);const E=_.slice(p.hi).findIndex(C=>!Kn(C[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:a.length-1}}function og(e,t,n,i,s){const a=e.getSortedVisibleDatasetMetas(),l=n[t];for(let c=0,h=a.length;c<h;++c){const{index:d,data:p}=a[c],{lo:y,hi:_}=CF(a[c],t,l,s);for(let x=y;x<=_;++x){const E=p[x];E.skip||i(E,d,x)}}}function DF(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const a=t?Math.abs(i.x-s.x):0,l=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Hv(e,t,n,i,s){const a=[];return!s&&!e.isPointInArea(t)||og(e,n,t,function(c,h,d){!s&&!z2(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&a.push({element:c,datasetIndex:h,index:d})},!0),a}function IF(e,t,n,i){let s=[];function a(l,c,h){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=N2(l,{x:t.x,y:t.y});vp(y,d,p)&&s.push({element:l,datasetIndex:c,index:h})}return og(e,n,t,a),s}function OF(e,t,n,i,s,a){let l=[];const c=DF(n);let h=Number.POSITIVE_INFINITY;function d(p,y,_){const x=p.inRange(t.x,t.y,s);if(i&&!x)return;const E=p.getCenterPoint(s);if(!(!!a||e.isPointInArea(E))&&!x)return;const D=c(t,E);D<h?(l=[{element:p,datasetIndex:y,index:_}],h=D):D===h&&l.push({element:p,datasetIndex:y,index:_})}return og(e,n,t,d),l}function qv(e,t,n,i,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!i?IF(e,t,n,s):OF(e,t,n,i,s,a)}function pA(e,t,n,i,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return og(e,n,t,(h,d,p)=>{h[l]&&h[l](t[n],s)&&(a.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(t.x,t.y,s))}),i&&!c?[]:a}var MF={modes:{index(e,t,n,i){const s=Uo(t,e),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Hv(e,s,a,i,l):qv(e,s,a,!1,i,l),h=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(e,t,n,i){const s=Uo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Hv(e,s,a,i,l):qv(e,s,a,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,d=e.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(e,t,n,i){const s=Uo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return Hv(e,s,a,i,l)},nearest(e,t,n,i){const s=Uo(t,e),a=n.axis||"xy",l=n.includeInvisible||!1;return qv(e,s,a,n.intersect,i,l)},x(e,t,n,i){const s=Uo(t,e);return pA(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Uo(t,e);return pA(e,s,"y",n.intersect,i)}}};const Z2=["left","top","right","bottom"];function Zc(e,t){return e.filter(n=>n.pos===t)}function gA(e,t){return e.filter(n=>Z2.indexOf(n.pos)===-1&&n.box.axis===t)}function Jc(e,t){return e.sort((n,i)=>{const s=t?i:n,a=t?n:i;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function kF(e){const t=[];let n,i,s,a,l,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return t}function PF(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:a}=n;if(!i||!Z2.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function NF(e,t){const n=PF(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let a,l,c;for(a=0,l=e.length;a<l;++a){c=e[a];const{fullSize:h}=c.box,d=n[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:h&&t.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:h&&t.availableHeight)}return n}function VF(e){const t=kF(e),n=Jc(t.filter(d=>d.box.fullSize),!0),i=Jc(Zc(t,"left"),!0),s=Jc(Zc(t,"right")),a=Jc(Zc(t,"top"),!0),l=Jc(Zc(t,"bottom")),c=gA(t,"x"),h=gA(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:s.concat(h).concat(l).concat(c),chartArea:Zc(t,"chartArea"),vertical:i.concat(s).concat(h),horizontal:a.concat(l).concat(c)}}function yA(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function J2(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function LF(e,t,n,i){const{pos:s,box:a}=n,l=e.maxPadding;if(!ue(s)){n.size&&(e[s]-=n.size);const y=i[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[s]+=n.size}a.getPadding&&J2(l,a.getPadding());const c=Math.max(0,t.outerWidth-yA(l,e,"left","right")),h=Math.max(0,t.outerHeight-yA(l,e,"top","bottom")),d=c!==e.w,p=h!==e.h;return e.w=c,e.h=h,n.horizontal?{same:d,other:p}:{same:p,other:d}}function jF(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function UF(e,t){const n=t.maxPadding;function i(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(t[l],n[l])}),a}return i(e?["left","right"]:["top","bottom"])}function ph(e,t,n,i){const s=[];let a,l,c,h,d,p;for(a=0,l=e.length,d=0;a<l;++a){c=e[a],h=c.box,h.update(c.width||t.w,c.height||t.h,UF(c.horizontal,t));const{same:y,other:_}=LF(t,n,c,i);d|=y&&s.length,p=p||_,h.fullSize||s.push(c)}return d&&ph(s,t,n,i)||p}function fm(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function vA(e,t,n,i){const s=n.padding;let{x:a,y:l}=t;for(const c of e){const h=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=t.w*p,_=d.size||h.height;pp(d.start)&&(l=d.start),h.fullSize?fm(h,s.left,l,n.outerWidth-s.right-s.left,_):fm(h,t.left+d.placed,l,y,_),d.start=l,d.placed+=y,l=h.bottom}else{const y=t.h*p,_=d.size||h.width;pp(d.start)&&(a=d.start),h.fullSize?fm(h,a,s.top,_,n.outerHeight-s.bottom-s.top):fm(h,a,t.top+d.placed,_,y),d.start=a,d.placed+=y,a=h.right}}t.x=a,t.y=l}var Da={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=gs(e.options.layout.padding),a=Math.max(t-s.width,0),l=Math.max(n-s.height,0),c=VF(e.boxes),h=c.vertical,d=c.horizontal;ye(e.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=h.reduce((C,D)=>D.box.options&&D.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},s);J2(_,gs(i));const x=Object.assign({maxPadding:_,w:a,h:l,x:s.left,y:s.top},s),E=NF(h.concat(d),y);ph(c.fullSize,x,y,E),ph(h,x,y,E),ph(d,x,y,E)&&ph(h,x,y,E),jF(x),vA(c.leftAndTop,x,y,E),x.x+=x.w,x.y+=x.h,vA(c.rightAndBottom,x,y,E),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ye(c.chartArea,C=>{const D=C.box;Object.assign(D,e.chartArea),D.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class tO{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class BF extends tO{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vm="$chartjs",FF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_A=e=>e===null||e==="";function zF(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Vm]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",_A(s)){const a=lA(e,"width");a!==void 0&&(e.width=a)}if(_A(i))if(e.style.height==="")e.height=e.width/(t||2);else{const a=lA(e,"height");a!==void 0&&(e.height=a)}return e}const eO=aF?{passive:!0}:!1;function HF(e,t,n){e&&e.addEventListener(t,n,eO)}function qF(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,eO)}function WF(e,t){const n=FF[e.type]||e.type,{x:i,y:s}=Uo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function xp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function YF(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||xp(c.addedNodes,i),l=l&&!xp(c.removedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function GF(e,t,n){const i=e.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||xp(c.removedNodes,i),l=l&&!xp(c.addedNodes,i);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const $h=new Map;let bA=0;function nO(){const e=window.devicePixelRatio;e!==bA&&(bA=e,$h.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function $F(e,t){$h.size||window.addEventListener("resize",nO),$h.set(e,t)}function KF(e){$h.delete(e),$h.size||window.removeEventListener("resize",nO)}function XF(e,t,n){const i=e.canvas,s=i&&Gb(i);if(!s)return;const a=j2((c,h)=>{const d=s.clientWidth;n(c,h),d<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||a(d,p)});return l.observe(s),$F(e,a),l}function Wv(e,t,n){n&&n.disconnect(),t==="resize"&&KF(e)}function QF(e,t,n){const i=e.canvas,s=j2(a=>{e.ctx!==null&&n(WF(a,e))},e);return HF(i,t,s),s}class ZF extends tO{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(zF(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Vm])return!1;const i=n[Vm].initial;["height","width"].forEach(a=>{const l=i[a];Kn(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=i.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Vm],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),l={attach:YF,detach:GF,resize:XF}[n]||QF;s[n]=l(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Wv,detach:Wv,resize:Wv}[n]||qF)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return rF(t,n,i,s)}isAttached(t){const n=t&&Gb(t);return!!(n&&n.isConnected)}}function JF(e){return!Yb()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?BF:ZF}let Ef=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return yp(this.x)&&yp(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(a=>{s[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),s}};function tz(e,t){const n=e.options.ticks,i=ez(e),s=Math.min(n.maxTicksLimit||i,i),a=n.major.enabled?iz(t):[],l=a.length,c=a[0],h=a[l-1],d=[];if(l>s)return sz(t,d,a,l/s),d;const p=nz(a,t,s);if(l>0){let y,_;const x=l>1?Math.round((h-c)/(l-1)):null;for(dm(t,d,p,Kn(x)?0:c-x,c),y=0,_=l-1;y<_;y++)dm(t,d,p,a[y],a[y+1]);return dm(t,d,p,h,Kn(x)?t.length:h+x),d}return dm(t,d,p),d}function ez(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function nz(e,t,n){const i=rz(e),s=t.length/n;if(!i)return Math.max(s,1);const a=mB(i);for(let l=0,c=a.length-1;l<c;l++){const h=a[l];if(h>s)return h}return Math.max(s,1)}function iz(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function sz(e,t,n,i){let s=0,a=n[0],l;for(i=Math.ceil(i),l=0;l<e.length;l++)l===a&&(t.push(e[l]),s++,a=n[s*i])}function dm(e,t,n,i,s){const a=ve(i,0),l=Math.min(ve(s,e.length),e.length);let c=0,h,d,p;for(n=Math.ceil(n),s&&(h=s-i,n=h/Math.floor(h/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(d=Math.max(a,0);d<l;d++)d===p&&(t.push(e[d]),c++,p=Math.round(a+c*n))}function rz(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const az=e=>e==="left"?"right":e==="right"?"left":e,xA=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,wA=(e,t)=>Math.min(t||e,e);function TA(e,t){const n=[],i=e.length/t,s=e.length;let a=0;for(;a<s;a+=i)n.push(e[Math.floor(a)]);return n}function oz(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),a=e._startPixel,l=e._endPixel,c=1e-6;let h=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(h-a,l-h):t===0?d=(e.getPixelForTick(1)-h)/2:d=(h-e.getPixelForTick(s-1))/2,h+=s<t?d:-d,h<a-c||h>l+c)))return h}function lz(e,t){ye(e,n=>{const i=n.gc,s=i.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[i[a]];i.splice(0,s)}})}function th(e){return e.drawTicks?e.tickLength:0}function EA(e,t){if(!e.display)return 0;const n=di(e.font,t),i=gs(e.padding);return(jn(e.text)?e.text.length:1)*n.lineHeight+i.height}function uz(e,t){return Hu(e,{scale:t,type:"scale"})}function cz(e,t,n){return Hu(e,{tick:n,index:t,type:"tick"})}function hz(e,t,n){let i=U2(e);return(n&&t!=="right"||!n&&t==="right")&&(i=az(i)),i}function fz(e,t,n,i){const{top:s,left:a,bottom:l,right:c,chart:h}=e,{chartArea:d,scales:p}=h;let y=0,_,x,E;const C=l-s,D=c-a;if(e.isHorizontal()){if(x=Ai(i,a,c),ue(n)){const M=Object.keys(n)[0],F=n[M];E=p[M].getPixelForValue(F)+C-t}else n==="center"?E=(d.bottom+d.top)/2+C-t:E=xA(e,n,t);_=c-a}else{if(ue(n)){const M=Object.keys(n)[0],F=n[M];x=p[M].getPixelForValue(F)-D+t}else n==="center"?x=(d.left+d.right)/2-D+t:x=xA(e,n,t);E=Ai(i,l,s),y=n==="left"?-gn:gn}return{titleX:x,titleY:E,maxWidth:_,rotation:y}}class lg extends Ef{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=js(t,Number.POSITIVE_INFINITY),n=js(n,Number.NEGATIVE_INFINITY),i=js(i,Number.POSITIVE_INFINITY),s=js(s,Number.NEGATIVE_INFINITY),{min:js(t,i),max:js(n,s),minDefined:Br(t),maxDefined:Br(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)l=c[h].controller.getMinMax(this,t),s||(n=Math.min(n,l.min)),a||(i=Math.max(i,l.max));return n=a&&n>i?i:n,i=s&&n>i?n:i,{min:js(n,js(i,n)),max:js(i,js(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qB(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?TA(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=tz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ie(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,a;for(i=0,s=t.length;i<s;i++)a=t[i],a.label=Ie(n.callback,[a.value,i,t],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=wA(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,h,d;if(!this._isVisible()||!n.display||s>=a||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=Ki(this.chart.width-y,0,this.maxWidth);c=t.offset?this.maxWidth/i:x/(i-1),y+6>c&&(c=x/(i-(t.offset?.5:1)),h=this.maxHeight-th(t.grid)-n.padding-EA(t.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),l=gB(Math.min(Math.asin(Ki((p.highest.height+6)/c,-1,1)),Math.asin(Ki(h/d,-1,1))-Math.asin(Ki(_/d,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=EA(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=th(a)+h):(t.height=this.maxHeight,t.width=th(a)+h),i.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,E=Wo(this.labelRotation),C=Math.cos(E),D=Math.sin(E);if(c){const M=i.mirror?0:D*y.width+C*_.height;t.height=Math.min(this.maxHeight,t.height+M+x)}else{const M=i.mirror?0:C*y.width+D*_.height;t.width=Math.min(this.maxWidth,t.width+M+x)}this._calculatePadding(d,p,D,C)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:a,padding:l},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;h?d?(_=s*t.width,x=i*n.height):(_=i*t.height,x=s*n.width):a==="start"?x=n.width:a==="end"?_=t.width:a!=="inner"&&(_=t.width/2,x=n.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;a==="start"?(p=0,y=t.height):a==="end"&&(p=n.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)Kn(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=TA(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],h=Math.floor(n/wA(n,i));let d=0,p=0,y,_,x,E,C,D,M,F,L,H,W;for(y=0;y<n;y+=h){if(E=t[y].label,C=this._resolveTickFontOptions(y),s.font=D=C.string,M=a[D]=a[D]||{data:{},gc:[]},F=C.lineHeight,L=H=0,!Kn(E)&&!jn(E))L=nA(s,M.data,M.gc,L,E),H=F;else if(jn(E))for(_=0,x=E.length;_<x;++_)W=E[_],!Kn(W)&&!jn(W)&&(L=nA(s,M.data,M.gc,L,W),H+=F);l.push(L),c.push(H),d=Math.max(L,d),p=Math.max(H,p)}lz(a,n);const nt=l.indexOf(d),N=c.indexOf(p),w=A=>({width:l[A]||0,height:c[A]||0});return{first:w(0),last:w(n-1),widest:w(nt),highest:w(N),widths:l,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return vB(this._alignToPixels?Po(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=cz(this.getContext(),t,i))}return this.$context||(this.$context=uz(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Wo(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,c=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>c*s?c/i:h/s:h*s<c*i?h/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:a,position:l,border:c}=s,h=a.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=th(a),x=[],E=c.setContext(this.getContext()),C=E.display?E.width:0,D=C/2,M=function(G){return Po(i,G,C)};let F,L,H,W,nt,N,w,A,I,P,j,V;if(l==="top")F=M(this.bottom),N=this.bottom-_,A=F-D,P=M(t.top)+D,V=t.bottom;else if(l==="bottom")F=M(this.top),P=t.top,V=M(t.bottom)-D,N=F+D,A=this.top+_;else if(l==="left")F=M(this.right),nt=this.right-_,w=F-D,I=M(t.left)+D,j=t.right;else if(l==="right")F=M(this.left),I=t.left,j=M(t.right)-D,nt=F+D,w=this.left+_;else if(n==="x"){if(l==="center")F=M((t.top+t.bottom)/2+.5);else if(ue(l)){const G=Object.keys(l)[0],Z=l[G];F=M(this.chart.scales[G].getPixelForValue(Z))}P=t.top,V=t.bottom,N=F+D,A=N+_}else if(n==="y"){if(l==="center")F=M((t.left+t.right)/2);else if(ue(l)){const G=Object.keys(l)[0],Z=l[G];F=M(this.chart.scales[G].getPixelForValue(Z))}nt=F-D,w=nt-_,I=t.left,j=t.right}const xt=ve(s.ticks.maxTicksLimit,y),gt=Math.max(1,Math.ceil(y/xt));for(L=0;L<y;L+=gt){const G=this.getContext(L),Z=a.setContext(G),ht=c.setContext(G),ct=Z.lineWidth,B=Z.color,Q=ht.dash||[],st=ht.dashOffset,J=Z.tickWidth,ft=Z.tickColor,yt=Z.tickBorderDash||[],mt=Z.tickBorderDashOffset;H=oz(this,L,h),H!==void 0&&(W=Po(i,H,ct),d?nt=w=I=j=W:N=A=P=V=W,x.push({tx1:nt,ty1:N,tx2:w,ty2:A,x1:I,y1:P,x2:j,y2:V,width:ct,color:B,borderDash:Q,borderDashOffset:st,tickWidth:J,tickColor:ft,tickBorderDash:yt,tickBorderDashOffset:mt}))}return this._ticksLength=y,this._borderValue=F,x}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:a}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=a,_=th(i.grid),x=_+p,E=y?-p:x,C=-Wo(this.labelRotation),D=[];let M,F,L,H,W,nt,N,w,A,I,P,j,V="middle";if(s==="top")nt=this.bottom-E,N=this._getXAxisLabelAlignment();else if(s==="bottom")nt=this.top+E,N=this._getXAxisLabelAlignment();else if(s==="left"){const gt=this._getYAxisLabelAlignment(_);N=gt.textAlign,W=gt.x}else if(s==="right"){const gt=this._getYAxisLabelAlignment(_);N=gt.textAlign,W=gt.x}else if(n==="x"){if(s==="center")nt=(t.top+t.bottom)/2+x;else if(ue(s)){const gt=Object.keys(s)[0],G=s[gt];nt=this.chart.scales[gt].getPixelForValue(G)+x}N=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")W=(t.left+t.right)/2-x;else if(ue(s)){const gt=Object.keys(s)[0],G=s[gt];W=this.chart.scales[gt].getPixelForValue(G)}N=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(h==="start"?V="top":h==="end"&&(V="bottom"));const xt=this._getLabelSizes();for(M=0,F=c.length;M<F;++M){L=c[M],H=L.label;const gt=a.setContext(this.getContext(M));w=this.getPixelForTick(M)+a.labelOffset,A=this._resolveTickFontOptions(M),I=A.lineHeight,P=jn(H)?H.length:1;const G=P/2,Z=gt.color,ht=gt.textStrokeColor,ct=gt.textStrokeWidth;let B=N;l?(W=w,N==="inner"&&(M===F-1?B=this.options.reverse?"left":"right":M===0?B=this.options.reverse?"right":"left":B="center"),s==="top"?d==="near"||C!==0?j=-P*I+I/2:d==="center"?j=-xt.highest.height/2-G*I+I:j=-xt.highest.height+I/2:d==="near"||C!==0?j=I/2:d==="center"?j=xt.highest.height/2-G*I:j=xt.highest.height-P*I,y&&(j*=-1),C!==0&&!gt.showLabelBackdrop&&(W+=I/2*Math.sin(C))):(nt=w,j=(1-P)*I/2);let Q;if(gt.showLabelBackdrop){const st=gs(gt.backdropPadding),J=xt.heights[M],ft=xt.widths[M];let yt=j-st.top,mt=0-st.left;switch(V){case"middle":yt-=J/2;break;case"bottom":yt-=J;break}switch(N){case"center":mt-=ft/2;break;case"right":mt-=ft;break;case"inner":M===F-1?mt-=ft:M>0&&(mt-=ft/2);break}Q={left:mt,top:yt,width:ft+st.width,height:J+st.height,color:gt.backdropColor}}D.push({label:H,font:A,textOffset:j,options:{rotation:C,color:Z,strokeColor:ht,strokeWidth:ct,textAlign:B,textBaseline:V,translation:[W,nt],backdrop:Q}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Wo(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=t+a,h=l.widest.width;let d,p;return n==="left"?s?(p=this.right+a,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p=this.left)):n==="right"?s?(p=this.left+a,i==="near"?d="right":i==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:a,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,a,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const c=(h,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const h=s[a];n.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=Po(t,this.left,l)-l/2,p=Po(t,this.right,c)+c/2,y=_=h):(y=Po(t,this.top,l)-l/2,_=Po(t,this.bottom,c)+c/2,d=p=h),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(d,y),n.lineTo(p,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Bb(i,s);const a=this.getLabelItems(t);for(const l of a){const c=l.options,h=l.font,d=l.label,p=l.textOffset;_p(i,d,0,p,h,c)}s&&Fb(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const a=di(i.font),l=gs(i.padding),c=i.align;let h=a.lineHeight/2;n==="bottom"||n==="center"||ue(n)?(h+=l.bottom,jn(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=fz(this,h,n,c);_p(t,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:_,textAlign:hz(c,n,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ve(t.grid&&t.grid.z,-1),s=ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==lg.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return di(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class mm{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;pz(n)&&(i=this.register(n));const s=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,dz(t,l,i),this.override&&Je.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Je[s]&&(delete Je[s][i],this.override&&delete rl[i])}}function dz(e,t,n){const i=Yh(Object.create(null),[n?Je.get(n):{},Je.get(t),e.defaults]);Je.set(t,i),e.defaultRoutes&&mz(t,e.defaultRoutes),e.descriptors&&Je.describe(t,e.descriptors)}function mz(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),a=[e].concat(i).join("."),l=t[n].split("."),c=l.pop(),h=l.join(".");Je.route(a,s,h,c)})}function pz(e){return"id"in e&&"defaults"in e}class gz{constructor(){this.controllers=new mm(Q2,"datasets",!0),this.elements=new mm(Ef,"elements"),this.plugins=new mm(Object,"plugins"),this.scales=new mm(lg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const a=i||this._getRegistryForType(s);i||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):ye(s,l=>{const c=i||this._getRegistryForType(l);this._exec(t,c,l)})})}_exec(t,n,i){const s=jb(t);Ie(i["before"+s],[],i),n[t](i),Ie(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Fs=new gz;class yz{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(a,t,n,i);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,i,s){s=s||{};for(const a of t){const l=a.plugin,c=l[i],h=[n,s,a.options];if(Ie(c,h,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Kn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ve(i.options&&i.options.plugins,{}),a=vz(i);return s===!1&&!n?[]:bz(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(a,l)=>a.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function vz(e){const t={},n=[],i=Object.keys(Fs.plugins.items);for(let a=0;a<i.length;a++)n.push(Fs.getPlugin(i[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function _z(e,t){return!t&&e===!1?null:e===!0?{}:e}function bz(e,{plugins:t,localIds:n},i,s){const a=[],l=e.getContext();for(const c of t){const h=c.id,d=_z(i[h],s);d!==null&&a.push({plugin:c,options:xz(e.config,{plugin:c,local:n[h]},d,l)})}return a}function xz(e,{plugin:t,local:n},i,s){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(i,a);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function G0(e,t){const n=Je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function wz(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Tz(e,t){return e===t?"_index_":"_value_"}function SA(e){if(e==="x"||e==="y"||e==="r")return e}function Ez(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function $0(e,...t){if(SA(e))return e;for(const n of t){const i=n.axis||Ez(n.position)||e.length>1&&SA(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function AA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Sz(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return AA(e,"x",n[0])||AA(e,"y",n[0])}return{}}function Az(e,t){const n=rl[e.type]||{scales:{}},i=t.scales||{},s=G0(e.type,t),a=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!ue(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=$0(l,c,Sz(l,e),Je.scales[c.type]),d=Tz(h,s),p=n.scales||{};a[l]=Ah(Object.create(null),[{axis:h},c,p[h],p[d]])}),e.data.datasets.forEach(l=>{const c=l.type||e.type,h=l.indexAxis||G0(c,t),p=(rl[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=wz(y,h),x=l[_+"AxisID"]||_;a[x]=a[x]||Object.create(null),Ah(a[x],[{axis:_},i[x],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];Ah(c,[Je.scales[c.type],Je.scale])}),a}function iO(e){const t=e.options||(e.options={});t.plugins=ve(t.plugins,{}),t.scales=Az(e,t)}function sO(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Rz(e){return e=e||{},e.data=sO(e.data),iO(e),e}const RA=new Map,rO=new Set;function pm(e,t){let n=RA.get(e);return n||(n=t(),RA.set(e,n),rO.add(n)),n}const eh=(e,t,n)=>{const i=Gh(t,n);i!==void 0&&e.add(i)};class Cz{constructor(t){this._config=Rz(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sO(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iO(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pm(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return pm(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return pm(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return pm(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:a}=this,l=this._cachedScopes(t,i),c=l.get(n);if(c)return c;const h=new Set;n.forEach(p=>{t&&(h.add(t),p.forEach(y=>eh(h,t,y))),p.forEach(y=>eh(h,s,y)),p.forEach(y=>eh(h,rl[a]||{},y)),p.forEach(y=>eh(h,Je,y)),p.forEach(y=>eh(h,W0,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),rO.has(n)&&l.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,rl[n]||{},Je.datasets[n]||{},{type:n},Je,W0]}resolveNamedOptions(t,n,i,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=CA(this._resolverCache,t,s);let h=l;if(Iz(l,n)){a.$shared=!1,i=Wa(i)?i():i;const d=this.createResolver(t,i,c);h=Du(l,i,d)}for(const d of n)a[d]=h[d];return a}createResolver(t,n,i=[""],s){const{resolver:a}=CA(this._resolverCache,t,i);return ue(n)?Du(a,n,void 0,s):a}}function CA(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let a=i.get(s);return a||(a={resolver:Hb(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,a)),a}const Dz=e=>ue(e)&&Object.getOwnPropertyNames(e).some(t=>Wa(e[t]));function Iz(e,t){const{isScriptable:n,isIndexable:i}=H2(e);for(const s of t){const a=n(s),l=i(s),c=(l||a)&&e[s];if(a&&(Wa(c)||Dz(c))||l&&jn(c))return!0}return!1}var Oz="4.5.0";const Mz=["top","bottom","left","right","chartArea"];function DA(e,t){return e==="top"||e==="bottom"||Mz.indexOf(e)===-1&&t==="x"}function IA(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function OA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ie(n&&n.onComplete,[e],t)}function kz(e){const t=e.chart,n=t.options.animation;Ie(n&&n.onProgress,[e],t)}function aO(e){return Yb()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Lm={},MA=e=>{const t=aO(e);return Object.values(Lm).filter(n=>n.canvas===t).pop()};function Pz(e,t,n){const i=Object.keys(e);for(const s of i){const a=+s;if(a>=t){const l=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=l)}}}function Nz(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}let ug=class{static defaults=Je;static instances=Lm;static overrides=rl;static registry=Fs;static version=Oz;static getChart=MA;static register(...t){Fs.add(...t),kA()}static unregister(...t){Fs.remove(...t),kA()}constructor(t,n){const i=this.config=new Cz(n),s=aO(t),a=MA(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||JF(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=aB(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TB(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Lm[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ar.listen(this,"complete",OA),Ar.listen(this,"progress",kz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:a}=this;return Kn(t)?n&&a?a:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Fs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iA(this.canvas,this.ctx),this}stop(){return Ar.stop(this),this}resize(t,n){Ar.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,n,a),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,oA(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Ie(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],h=$0(l,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ye(a,l=>{const c=l.options,h=c.id,d=$0(h,c),p=ve(c.type,l.dtype);(c.position===void 0||DA(c.position,d)!==DA(l.dposition))&&(c.position=l.dposition),s[h]=!0;let y=null;if(h in i&&i[h].type===p)y=i[h];else{const _=Fs.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(c,t)}),ye(s,(l,c)=>{l||delete i[c]}),ye(i,l=>{Da.configure(this,l,l.options),Da.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,a)=>s.index-a.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(IA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const a=n[i];let l=this.getDatasetMeta(i);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=a.indexAxis||G0(c,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Fs.getController(c),{datasetElementType:d,dataElementType:p}=Je.datasets[c];Object.assign(h,{dataElementType:Fs.getElement(p),datasetElementType:d&&Fs.getElement(d)}),l.controller=new h(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ye(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!s&&a.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||ye(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(IA("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ye(this.scales,t=>{Da.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$1(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:a}of n){const l=i==="_removeElements"?-a:a;Pz(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=a=>new Set(t.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let a=1;a<n;a++)if(!$1(s,i(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Da.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Wa(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ar.has(this)?this.attached&&!Ar.running(this)&&Ar.start(this):(this.draw(),OA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=cF(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Bb(n,s),t.controller.draw(),s&&Fb(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return z2(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const a=MF.modes[n];return typeof a=="function"?a(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Hu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,s);pp(n)?(a.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(a,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ar.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Lm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(a,l)=>{n.addEventListener(this,a,l),t[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};ye(this.options.events,a=>i(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(h,d)=>{n.addEventListener(this,h,d),t[h]=d},s=(h,d)=>{t[h]&&(n.removeEventListener(this,h,d),delete t[h])},a=(h,d)=>{this.canvas&&this.resize(h,d)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){ye(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},ye(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let a,l,c,h;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,h=t.length;c<h;++c){l=t[c];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!dp(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,a=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(n,t),c=i?t:a(t,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const a=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(a||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(t,s,i,l),h=fB(t),d=Nz(t,this._lastEvent,i,h);i&&(this._lastEvent=null,Ie(a.onHover,[t,c,this],this),h&&Ie(a.onClick,[t,c,this],this));const p=!dp(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,p}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}};function kA(){return ye(ug.instances,e=>e._plugins.invalidate())}function Vz(e,t,n){const{startAngle:i,x:s,y:a,outerRadius:l,innerRadius:c,options:h}=t,{borderWidth:d,borderJoinStyle:p}=h,y=Math.min(d/l,Hs(i-n));if(e.beginPath(),e.arc(s,a,l-d/2,i+y/2,n-y/2),c>0){const _=Math.min(d/c,Hs(i-n));e.arc(s,a,c+d/2,n-_/2,i+_/2,!0)}else{const _=Math.min(d/2,l*Hs(i-n));if(p==="round")e.arc(s,a,_,n-Me/2,i+Me/2,!0);else if(p==="bevel"){const x=2*_*_,E=-x*Math.cos(n+Me/2)+s,C=-x*Math.sin(n+Me/2)+a,D=x*Math.cos(i+Me/2)+s,M=x*Math.sin(i+Me/2)+a;e.lineTo(E,C),e.lineTo(D,M)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function Lz(e,t,n){const{startAngle:i,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:h}=t;let d=s/c;e.beginPath(),e.arc(a,l,c,i-d,n+d),h>s?(d=s/h,e.arc(a,l,h,n+d,i-d,!0)):e.arc(a,l,s,n+gn,i-gn),e.closePath(),e.clip()}function jz(e){return zb(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Uz(e,t,n,i){const s=jz(e.options.borderRadius),a=(n-t)/2,l=Math.min(a,i*t/2),c=h=>{const d=(n-Math.min(a,h))*i/2;return Ki(h,0,Math.min(a,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Ki(s.innerStart,0,l),innerEnd:Ki(s.innerEnd,0,l)}}function eu(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function wp(e,t,n,i,s,a){const{x:l,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=t,y=Math.max(t.outerRadius+i+n-d,0),_=p>0?p+i+n+d:0;let x=0;const E=s-h;if(i){const gt=p>0?p-i:0,G=y>0?y-i:0,Z=(gt+G)/2,ht=Z!==0?E*Z/(Z+i):E;x=(E-ht)/2}const C=Math.max(.001,E*y-n/Me)/y,D=(E-C)/2,M=h+D+x,F=s-D-x,{outerStart:L,outerEnd:H,innerStart:W,innerEnd:nt}=Uz(t,_,y,F-M),N=y-L,w=y-H,A=M+L/N,I=F-H/w,P=_+W,j=_+nt,V=M+W/P,xt=F-nt/j;if(e.beginPath(),a){const gt=(A+I)/2;if(e.arc(l,c,y,A,gt),e.arc(l,c,y,gt,I),H>0){const ct=eu(w,I,l,c);e.arc(ct.x,ct.y,H,I,F+gn)}const G=eu(j,F,l,c);if(e.lineTo(G.x,G.y),nt>0){const ct=eu(j,xt,l,c);e.arc(ct.x,ct.y,nt,F+gn,xt+Math.PI)}const Z=(F-nt/_+(M+W/_))/2;if(e.arc(l,c,_,F-nt/_,Z,!0),e.arc(l,c,_,Z,M+W/_,!0),W>0){const ct=eu(P,V,l,c);e.arc(ct.x,ct.y,W,V+Math.PI,M-gn)}const ht=eu(N,M,l,c);if(e.lineTo(ht.x,ht.y),L>0){const ct=eu(N,A,l,c);e.arc(ct.x,ct.y,L,M-gn,A)}}else{e.moveTo(l,c);const gt=Math.cos(A)*y+l,G=Math.sin(A)*y+c;e.lineTo(gt,G);const Z=Math.cos(I)*y+l,ht=Math.sin(I)*y+c;e.lineTo(Z,ht)}e.closePath()}function Bz(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c}=t;let h=t.endAngle;if(a){wp(e,t,n,i,h,s);for(let d=0;d<a;++d)e.fill();isNaN(c)||(h=l+(c%hn||hn))}return wp(e,t,n,i,h,s),e.fill(),h}function Fz(e,t,n,i,s){const{fullCircles:a,startAngle:l,circumference:c,options:h}=t,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:x}=h,E=h.borderAlign==="inner";if(!d)return;e.setLineDash(y||[]),e.lineDashOffset=_,E?(e.lineWidth=d*2,e.lineJoin=p||"round"):(e.lineWidth=d,e.lineJoin=p||"bevel");let C=t.endAngle;if(a){wp(e,t,n,i,C,s);for(let D=0;D<a;++D)e.stroke();isNaN(c)||(C=l+(c%hn||hn))}E&&Lz(e,t,C),h.selfJoin&&C-l>=Me&&x===0&&p!=="miter"&&Vz(e,t,C),a||(wp(e,t,n,i,C,s),e.stroke())}class zz extends Ef{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:l}=N2(s,{x:t,y:n}),{startAngle:c,endAngle:h,innerRadius:d,outerRadius:p,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,x=ve(y,h-c),E=vp(a,c,h)&&c!==h,C=x>=hn||E,D=mh(l,d+_,p+_);return C&&D}getCenterPoint(t){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:d}=this.options,p=(s+a)/2,y=(l+c+d+h)/2;return{x:n+Math.cos(p)*y,y:i+Math.sin(p)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>hn?Math.floor(i/hn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const h=1-Math.sin(Math.min(Me,i||0)),d=s*h;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,Bz(t,this,d,a,l),Fz(t,this,d,a,l),t.restore()}}const PA=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Hz=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class NA extends Ef{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ie(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=di(i.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=PA(i,a);let d,p;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,a,c,h)+10):(p=this.maxHeight,d=this._fitCols(l,s,c,h)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let y=t;a.textAlign="left",a.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((E,C)=>{const D=i+n/2+a.measureText(E.text).width;(C===0||d[d.length-1]+D+2*c>l)&&(y+=p,d[d.length-(C>0?0:1)]=0,x+=p,_++),h[C]={left:0,top:x,row:_,width:D,height:s},d[d.length-1]+=D+c}),y}_fitCols(t,n,i,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let y=c,_=0,x=0,E=0,C=0;return this.legendItems.forEach((D,M)=>{const{itemWidth:F,itemHeight:L}=qz(i,n,a,D,s);M>0&&x+L+2*c>p&&(y+=_+c,d.push({width:_,height:x}),E+=_+c,C++,_=x=0),h[M]={left:E,top:x,col:C,width:F,height:L},_=Math.max(_,F),x+=L+c}),y+=_,d.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:a}}=this,l=bu(a,this.left,this.width);if(this.isHorizontal()){let c=0,h=Ai(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,h=Ai(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(h),d.width),h+=d.width+s}else{let c=0,h=Ai(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,h=Ai(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),h+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Bb(t,this),this._draw(),Fb(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:a,labels:l}=t,c=Je.color,h=bu(t.rtl,this.left,this.width),d=di(l.font),{padding:p}=l,y=d.size,_=y/2;let x;this.drawTitle(),s.textAlign=h.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:E,boxHeight:C,itemHeight:D}=PA(l,y),M=function(nt,N,w){if(isNaN(E)||E<=0||isNaN(C)||C<0)return;s.save();const A=ve(w.lineWidth,1);if(s.fillStyle=ve(w.fillStyle,c),s.lineCap=ve(w.lineCap,"butt"),s.lineDashOffset=ve(w.lineDashOffset,0),s.lineJoin=ve(w.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=ve(w.strokeStyle,c),s.setLineDash(ve(w.lineDash,[])),l.usePointStyle){const I={radius:C*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:A},P=h.xPlus(nt,E/2),j=N+_;F2(s,I,P,j,l.pointStyleWidth&&E)}else{const I=N+Math.max((y-C)/2,0),P=h.leftForLtr(nt,E),j=Dh(w.borderRadius);s.beginPath(),Object.values(j).some(V=>V!==0)?Y0(s,{x:P,y:I,w:E,h:C,radius:j}):s.rect(P,I,E,C),s.fill(),A!==0&&s.stroke()}s.restore()},F=function(nt,N,w){_p(s,w.text,nt,N+D/2,d,{strikethrough:w.hidden,textAlign:h.textAlign(w.textAlign)})},L=this.isHorizontal(),H=this._computeTitleHeight();L?x={x:Ai(a,this.left+p,this.right-i[0]),y:this.top+p+H,line:0}:x={x:this.left+p,y:Ai(a,this.top+H+p,this.bottom-n[0].height),line:0},G2(this.ctx,t.textDirection);const W=D+p;this.legendItems.forEach((nt,N)=>{s.strokeStyle=nt.fontColor,s.fillStyle=nt.fontColor;const w=s.measureText(nt.text).width,A=h.textAlign(nt.textAlign||(nt.textAlign=l.textAlign)),I=E+_+w;let P=x.x,j=x.y;h.setWidth(this.width),L?N>0&&P+I+p>this.right&&(j=x.y+=W,x.line++,P=x.x=Ai(a,this.left+p,this.right-i[x.line])):N>0&&j+W>this.bottom&&(P=x.x=P+n[x.line].width+p,x.line++,j=x.y=Ai(a,this.top+H+p,this.bottom-n[x.line].height));const V=h.x(P);if(M(V,j,nt),P=EB(A,P+E+_,L?P+I:this.right,t.rtl),F(h.x(P),j,nt),L)x.x+=I+p;else if(typeof nt.text!="string"){const xt=d.lineHeight;x.y+=oO(nt,xt)+p}else x.y+=W}),$2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=di(n.font),s=gs(n.padding);if(!n.display)return;const a=bu(t.rtl,this.left,this.width),l=this.ctx,c=n.position,h=i.size/2,d=s.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=Ai(t.align,y,this.right-_);else{const E=this.columnSizes.reduce((C,D)=>Math.max(C,D.height),0);p=d+Ai(t.align,this.top,this.bottom-E-t.labels.padding-this._computeTitleHeight())}const x=Ai(c,y,y+_);l.textAlign=a.textAlign(U2(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=i.string,_p(l,n.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,n=di(t.font),i=gs(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,a;if(mh(t,this.left,this.right)&&mh(n,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(s=a[i],mh(t,s.left,s.left+s.width)&&mh(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!Gz(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=Hz(s,i);s&&!a&&Ie(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!a&&Ie(n.onHover,[t,i,this],this)}else i&&Ie(n.onClick,[t,i,this],this)}}function qz(e,t,n,i,s){const a=Wz(i,e,t,n),l=Yz(s,i,t.lineHeight);return{itemWidth:a,itemHeight:l}}function Wz(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),t+n.size/2+i.measureText(s).width}function Yz(e,t,n){let i=e;return typeof t.text!="string"&&(i=oO(t,n)),i}function oO(e,t){const n=e.text?e.text.length:0;return t*n}function Gz(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var $z={id:"legend",_element:NA,start(e,t,n){const i=e.legend=new NA({ctx:e.ctx,options:n,chart:e});Da.configure(e,i,n),Da.addBox(e,i)},stop(e){Da.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Da.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(n?0:void 0),p=gs(d.borderWidth);return{text:t[h.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const gh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),s+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=e.length;a<l;++a){const h=e[a].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=yB(t,d);p<s&&(s=p,c=h)}}if(c){const h=c.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Bs(e,t){return t&&(jn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Rr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Kz(e,t){const{element:n,datasetIndex:i,index:s}=t,a=e.getDatasetMeta(i).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:e,label:l,parsed:a.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function VA(e,t){const n=e.chart.ctx,{body:i,footer:s,title:a}=e,{boxWidth:l,boxHeight:c}=t,h=di(t.bodyFont),d=di(t.titleFont),p=di(t.footerFont),y=a.length,_=s.length,x=i.length,E=gs(t.padding);let C=E.height,D=0,M=i.reduce((H,W)=>H+W.before.length+W.lines.length+W.after.length,0);if(M+=e.beforeBody.length+e.afterBody.length,y&&(C+=y*d.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),M){const H=t.displayColors?Math.max(c,h.lineHeight):h.lineHeight;C+=x*H+(M-x)*h.lineHeight+(M-1)*t.bodySpacing}_&&(C+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let F=0;const L=function(H){D=Math.max(D,n.measureText(H).width+F)};return n.save(),n.font=d.string,ye(e.title,L),n.font=h.string,ye(e.beforeBody.concat(e.afterBody),L),F=t.displayColors?l+2+t.boxPadding:0,ye(i,H=>{ye(H.before,L),ye(H.lines,L),ye(H.after,L)}),F=0,n.font=p.string,ye(e.footer,L),n.restore(),D+=E.width,{width:D,height:C}}function Xz(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function Qz(e,t,n,i){const{x:s,width:a}=i,l=n.caretSize+n.caretPadding;if(e==="left"&&s+a+l>t.width||e==="right"&&s-a-l<0)return!0}function Zz(e,t,n,i){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:h}}=e;let d="center";return i==="center"?d=s<=(c+h)/2?"left":"right":s<=a/2?d="left":s>=l-a/2&&(d="right"),Qz(d,e,t,n)&&(d="center"),d}function LA(e,t,n){const i=n.yAlign||t.yAlign||Xz(e,n);return{xAlign:n.xAlign||t.xAlign||Zz(e,t,n,i),yAlign:i}}function Jz(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function t7(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function jA(e,t,n,i){const{caretSize:s,caretPadding:a,cornerRadius:l}=e,{xAlign:c,yAlign:h}=n,d=s+a,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=Dh(l);let E=Jz(t,c);const C=t7(t,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,_)+s:c==="right"&&(E+=Math.max(y,x)+s),{x:Ki(E,0,i.width-t.width),y:Ki(C,0,i.height-t.height)}}function gm(e,t,n){const i=gs(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function UA(e){return Bs([],Rr(e))}function e7(e,t,n){return Hu(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function BA(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const lO={beforeTitle:Sr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Sr,beforeBody:Sr,beforeLabel:Sr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Kn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Sr,afterBody:Sr,beforeFooter:Sr,footer:Sr,afterFooter:Sr};function ui(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?lO[t].call(n,i):s}class FA extends Ef{static positioners=gh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,a=new K2(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=e7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=ui(i,"beforeTitle",this,t),a=ui(i,"title",this,t),l=ui(i,"afterTitle",this,t);let c=[];return c=Bs(c,Rr(s)),c=Bs(c,Rr(a)),c=Bs(c,Rr(l)),c}getBeforeBody(t,n){return UA(ui(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return ye(t,a=>{const l={before:[],lines:[],after:[]},c=BA(i,a);Bs(l.before,Rr(ui(c,"beforeLabel",this,a))),Bs(l.lines,ui(c,"label",this,a)),Bs(l.after,Rr(ui(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(t,n){return UA(ui(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=ui(i,"beforeFooter",this,t),a=ui(i,"footer",this,t),l=ui(i,"afterFooter",this,t);let c=[];return c=Bs(c,Rr(s)),c=Bs(c,Rr(a)),c=Bs(c,Rr(l)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],a=[],l=[];let c=[],h,d;for(h=0,d=n.length;h<d;++h)c.push(Kz(this.chart,n[h]));return t.filter&&(c=c.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(c=c.sort((p,y)=>t.itemSort(p,y,i))),ye(c,p=>{const y=BA(t.callbacks,p);s.push(ui(y,"labelColor",this,p)),a.push(ui(y,"labelPointStyle",this,p)),l.push(ui(y,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=gh[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=VA(this,i),d=Object.assign({},c,h),p=LA(this.chart,i,d),y=jA(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const a=this.getCaretPosition(t,i,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=Dh(c),{x:_,y:x}=t,{width:E,height:C}=n;let D,M,F,L,H,W;return a==="center"?(H=x+C/2,s==="left"?(D=_,M=D-l,L=H+l,W=H-l):(D=_+E,M=D+l,L=H-l,W=H+l),F=D):(s==="left"?M=_+Math.max(h,p)+l:s==="right"?M=_+E-Math.max(d,y)-l:M=this.caretX,a==="top"?(L=x,H=L-l,D=M-l,F=M+l):(L=x+C,H=L+l,D=M+l,F=M-l),W=L),{x1:D,x2:M,x3:F,y1:L,y2:H,y3:W}}drawTitle(t,n,i){const s=this.title,a=s.length;let l,c,h;if(a){const d=bu(i.rtl,this.x,this.width);for(t.x=gm(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",l=di(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=l.string,h=0;h<a;++h)n.fillText(s[h],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+c,h+1===a&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,a){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:d}=a,p=di(a.bodyFont),y=gm(this,"left",a),_=s.x(y),x=h<p.lineHeight?(p.lineHeight-h)/2:0,E=n.y+x;if(a.usePointStyle){const C={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},D=s.leftForLtr(_,d)+d/2,M=E+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,sA(t,C,D,M),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,sA(t,C,D,M)}else{t.lineWidth=ue(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const C=s.leftForLtr(_,d),D=s.leftForLtr(s.xPlus(_,1),d-2),M=Dh(l.borderRadius);Object.values(M).some(F=>F!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Y0(t,{x:C,y:E,w:d,h,radius:M}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Y0(t,{x:D,y:E+1,w:d-2,h:h-2,radius:M}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(C,E,d,h),t.strokeRect(C,E,d,h),t.fillStyle=l.backgroundColor,t.fillRect(D,E+1,d-2,h-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=i,y=di(i.bodyFont);let _=y.lineHeight,x=0;const E=bu(i.rtl,this.x,this.width),C=function(w){n.fillText(w,E.x(t.x+x),t.y+_/2),t.y+=_+a},D=E.textAlign(l);let M,F,L,H,W,nt,N;for(n.textAlign=l,n.textBaseline="middle",n.font=y.string,t.x=gm(this,D,i),n.fillStyle=i.bodyColor,ye(this.beforeBody,C),x=c&&D!=="right"?l==="center"?d/2+p:d+2+p:0,H=0,nt=s.length;H<nt;++H){for(M=s[H],F=this.labelTextColors[H],n.fillStyle=F,ye(M.before,C),L=M.lines,c&&L.length&&(this._drawColorBox(n,t,H,E,i),_=Math.max(y.lineHeight,h)),W=0,N=L.length;W<N;++W)C(L[W]),_=y.lineHeight;ye(M.after,C)}x=0,_=y.lineHeight,ye(this.afterBody,C),t.y-=a}drawFooter(t,n,i){const s=this.footer,a=s.length;let l,c;if(a){const h=bu(i.rtl,this.x,this.width);for(t.x=gm(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",l=di(i.footerFont),n.fillStyle=i.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:a,yAlign:l}=this,{x:c,y:h}=t,{width:d,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:E}=Dh(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+y,h),l==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,h),n.quadraticCurveTo(c+d,h,c+d,h+_),l==="center"&&a==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,h+p-E),n.quadraticCurveTo(c+d,h+p,c+d-E,h+p),l==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+x,h+p),n.quadraticCurveTo(c,h+p,c,h+p-x),l==="center"&&a==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,h+y),n.quadraticCurveTo(c,h,c+y,h),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,a=i&&i.y;if(s||a){const l=gh[t.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=VA(this,t),h=Object.assign({},l,this._size),d=LA(n,t,h),p=jA(t,h,d,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=gs(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(a,t,s,n),G2(t,n.textDirection),a.y+=l.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),$2(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),a=!dp(i,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(t,a,n,i),c=this._positionChanged(l,t),h=n||!dp(l,a)||c;return h&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,i,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:i,caretY:s,options:a}=this,l=gh[a.position].call(this,t,n);return l!==!1&&(i!==l.x||s!==l.y)}}var n7={id:"tooltip",_element:FA,positioners:gh,afterInit(e,t,n){n&&(e.tooltip=new FA({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fi=Object.keys(cg);function zA(e,t){return e-t}function HA(e,t){if(Kn(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:a}=e._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Br(l)||(l=typeof i=="string"?n.parse(l,i):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(yp(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function qA(e,t,n,i){const s=fi.length;for(let a=fi.indexOf(e);a<s-1;++a){const l=cg[fi[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(c*l.size))<=i)return fi[a]}return fi[s-1]}function i7(e,t,n,i,s){for(let a=fi.length-1;a>=fi.indexOf(n);a--){const l=fi[a];if(cg[l].common&&e._adapter.diff(s,i,l)>=t-1)return l}return fi[n?fi.indexOf(n):0]}function s7(e){for(let t=fi.indexOf(e)+1,n=fi.length;t<n;++t)if(cg[fi[t]].common)return fi[t]}function WA(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=Ub(n,t),a=n[i]>=t?n[i]:n[s];e[a]=!0}}function r7(e,t,n,i){const s=e._adapter,a=+s.startOf(t[0].value,i),l=t[t.length-1].value;let c,h;for(c=a;c<=l;c=+s.add(c,1,i))h=n[c],h>=0&&(t[h].major=!0);return t}function YA(e,t,n){const i=[],s={},a=t.length;let l,c;for(l=0;l<a;++l)c=t[l],s[c]=l,i.push({value:c,major:!1});return a===0||!n?i:r7(e,i,s,n)}class GA extends lg{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new RF._date(t.adapters.date);s.init(n),Ah(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:HA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function h(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),s=Br(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),a=Br(a)&&!isNaN(a)?a:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=bB(s,a,l);return this._unit=n.unit||(i.autoSkip?qA(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):i7(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:s7(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),YA(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?i=a:i=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Ki(n,0,l),i=Ki(i,0,l),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,a=s.time,l=a.unit||qA(a.minUnit,n,i,this._getLabelCapacity(n)),c=ve(s.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,d=yp(h)||h===!0,p={};let y=n,_,x;if(d&&(y=+t.startOf(y,"isoWeek",h)),y=+t.startOf(y,d?"day":l),t.diff(i,n,l)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+l);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,c,l),x++)WA(p,_,E);return(_===i||s.bounds==="ticks"||x===1)&&WA(p,_,E),Object.keys(p).sort(zA).map(C=>+C)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(t,l)}_tickFormatFunction(t,n,i,s){const a=this.options,l=a.ticks.callback;if(l)return Ie(l,[t,n,i],this);const c=a.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],_=i[n],x=d&&y&&_&&_.major;return this._adapter.format(t,s||(x?y:p))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Wo(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*a+c*l,h:i*l+c*a}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,a=this._tickFormatFunction(t,0,YA(this,[t],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(HA(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wB(t.sort(zA))}}function ym(e,t,n){let i=0,s=e.length-1,a,l,c,h;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=q0(e,"pos",t)),{pos:a,time:c}=e[i],{pos:l,time:h}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=q0(e,"time",t)),{time:a,pos:c}=e[i],{time:l,pos:h}=e[s]);const d=l-a;return d?c+(h-c)*(t-a)/d:c}class sK extends GA{static id="timeseries";static defaults=GA.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ym(n,this.min),this._tableRange=ym(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],a=[];let l,c,h,d,p;for(l=0,c=t.length;l<c;++l)d=t[l],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],h=s[l-1],d=s[l],Math.round((p+h)/2)!==d&&a.push({time:d,pos:l/(c-1)});return a}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ym(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ym(this._table,i*this._tableRange+this._minPos,!0)}}const uO="label";function $A(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function a7(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function cO(e,t){e.labels=t}function hO(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uO;const i=[];e.datasets=t.map(s=>{const a=e.datasets.find(l=>l[n]===s[n]);return!a||!s.data||i.includes(a)?{...s}:(i.push(a),Object.assign(a,s),a)})}function o7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uO;const n={labels:[],datasets:[]};return cO(n,e.labels),hO(n,e.datasets,t),n}function l7(e,t){const{height:n=150,width:i=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:h,plugins:d=[],fallbackContent:p,updateMode:y,..._}=e,x=U.useRef(null),E=U.useRef(null),C=()=>{x.current&&(E.current=new ug(x.current,{type:l,data:o7(c,a),options:h&&{...h},plugins:d}),$A(t,E.current))},D=()=>{$A(t,null),E.current&&(E.current.destroy(),E.current=null)};return U.useEffect(()=>{!s&&E.current&&h&&a7(E.current,h)},[s,h]),U.useEffect(()=>{!s&&E.current&&cO(E.current.config.data,c.labels)},[s,c.labels]),U.useEffect(()=>{!s&&E.current&&c.datasets&&hO(E.current.config.data,c.datasets,a)},[s,c.datasets]),U.useEffect(()=>{E.current&&(s?(D(),setTimeout(C)):E.current.update(y))},[s,h,c.labels,c.datasets,y]),U.useEffect(()=>{E.current&&(D(),setTimeout(C))},[l]),U.useEffect(()=>(C(),()=>D()),[]),OC.createElement("canvas",{ref:x,role:"img",height:n,width:i,..._},p)}const u7=U.forwardRef(l7);function c7(e,t){return ug.register(t),U.forwardRef((n,i)=>OC.createElement(u7,{...n,ref:i,type:e}))}const h7=c7("doughnut",AF);var jm={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var f7=jm.exports,KA;function d7(){return KA||(KA=1,function(e,t){((n,i)=>{e.exports=i()})(f7,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},s,a=!i.document&&!!i.postMessage,l=i.IS_PAPA_WORKER||!1,c={},h=0,d={};function p(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var I=W(A);I.chunkSize=parseInt(I.chunkSize),A.step||A.chunk||(I.chunkSize=null),this._handle=new C(I),(this._handle.streamer=this)._config=I}).call(this,w),this.parseChunk=function(A,I){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let V=this._config.newline;V||(j=this._config.quoteChar||'"',V=this._handle.guessLineEndings(A,j)),A=[...A.split(V).slice(P)].join(V)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(A))!==void 0&&(A=j),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+A,j=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=j.meta.cursor,P=(this._finished||(this._partialLine=P.substring(A-this._baseIndex),this._baseIndex=A),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)i.postMessage({results:j,workerId:d.WORKER_ID,finished:P});else if(N(this._config.chunk)&&!I){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!P||!N(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(A){N(this._config.error)?this._config.error(A):l&&this._config.error&&i.postMessage({workerId:d.WORKER_ID,error:A,finished:!1})}}function y(w){var A;(w=w||{}).chunkSize||(w.chunkSize=d.RemoteChunkSize),p.call(this,w),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=nt(this._chunkLoaded,this),A.onerror=nt(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var I,P=this._config.downloadRequestHeaders;for(I in P)A.setRequestHeader(I,P[I])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+j));try{A.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(I){I=A.statusText||I,this._sendError(new Error(I))}}function _(w){(w=w||{}).chunkSize||(w.chunkSize=d.LocalChunkSize),p.call(this,w);var A,I,P=typeof FileReader<"u";this.stream=function(j){this._input=j,I=j.slice||j.webkitSlice||j.mozSlice,P?((A=new FileReader).onload=nt(this._chunkLoaded,this),A.onerror=nt(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),j=I.call(j,this._start,V)),A.readAsText(j,this._config.encoding));P||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(A.error)}}function x(w){var A;p.call(this,w=w||{}),this.stream=function(I){return A=I,this._nextChunk()},this._nextChunk=function(){var I,P;if(!this._finished)return I=this._config.chunkSize,A=I?(P=A.substring(0,I),A.substring(I)):(P=A,""),this._finished=!A,this.parseChunk(P)}}function E(w){p.call(this,w=w||{});var A=[],I=!0,P=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):I=!0},this._streamData=nt(function(j){try{A.push(typeof j=="string"?j:j.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(V){this._streamError(V)}},this),this._streamError=nt(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=nt(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=nt(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(w){var A,I,P,j,V=Math.pow(2,53),xt=-V,gt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,ht=0,ct=0,B=!1,Q=!1,st=[],J={data:[],errors:[],meta:{}};function ft(_t){return w.skipEmptyLines==="greedy"?_t.join("").trim()==="":_t.length===1&&_t[0].length===0}function yt(){if(J&&P&&(Yt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),P=!1),w.skipEmptyLines&&(J.data=J.data.filter(function(Gt){return!ft(Gt)})),mt()){let Gt=function(he,St){N(w.transformHeader)&&(he=w.transformHeader(he,St)),st.push(he)};var Rt=Gt;if(J)if(Array.isArray(J.data[0])){for(var _t=0;mt()&&_t<J.data.length;_t++)J.data[_t].forEach(Gt);J.data.splice(0,1)}else J.data.forEach(Gt)}function At(Gt,he){for(var St=w.header?{}:[],Ft=0;Ft<Gt.length;Ft++){var Tt=Ft,ee=Gt[Ft],ee=(($t,ae)=>(_e=>(w.dynamicTypingFunction&&w.dynamicTyping[_e]===void 0&&(w.dynamicTyping[_e]=w.dynamicTypingFunction(_e)),(w.dynamicTyping[_e]||w.dynamicTyping)===!0))($t)?ae==="true"||ae==="TRUE"||ae!=="false"&&ae!=="FALSE"&&((_e=>{if(gt.test(_e)&&(_e=parseFloat(_e),xt<_e&&_e<V))return 1})(ae)?parseFloat(ae):G.test(ae)?new Date(ae):ae===""?null:ae):ae)(Tt=w.header?Ft>=st.length?"__parsed_extra":st[Ft]:Tt,ee=w.transform?w.transform(ee,Tt):ee);Tt==="__parsed_extra"?(St[Tt]=St[Tt]||[],St[Tt].push(ee)):St[Tt]=ee}return w.header&&(Ft>st.length?Yt("FieldMismatch","TooManyFields","Too many fields: expected "+st.length+" fields but parsed "+Ft,ct+he):Ft<st.length&&Yt("FieldMismatch","TooFewFields","Too few fields: expected "+st.length+" fields but parsed "+Ft,ct+he)),St}var te;J&&(w.header||w.dynamicTyping||w.transform)&&(te=1,!J.data.length||Array.isArray(J.data[0])?(J.data=J.data.map(At),te=J.data.length):J.data=At(J.data,0),w.header&&J.meta&&(J.meta.fields=st),ct+=te)}function mt(){return w.header&&st.length===0}function Yt(_t,At,te,Rt){_t={type:_t,code:At,message:te},Rt!==void 0&&(_t.row=Rt),J.errors.push(_t)}N(w.step)&&(j=w.step,w.step=function(_t){J=_t,mt()?yt():(yt(),J.data.length!==0&&(ht+=_t.data.length,w.preview&&ht>w.preview?I.abort():(J.data=J.data[0],j(J,Z))))}),this.parse=function(_t,At,te){var Rt=w.quoteChar||'"',Rt=(w.newline||(w.newline=this.guessLineEndings(_t,Rt)),P=!1,w.delimiter?N(w.delimiter)&&(w.delimiter=w.delimiter(_t),J.meta.delimiter=w.delimiter):((Rt=((Gt,he,St,Ft,Tt)=>{var ee,$t,ae,_e;Tt=Tt||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Fn=0;Fn<Tt.length;Fn++){for(var zn,Qn=Tt[Fn],ke=0,An=0,jt=0,Nt=(ae=void 0,new M({comments:Ft,delimiter:Qn,newline:he,preview:10}).parse(Gt)),Ce=0;Ce<Nt.data.length;Ce++)St&&ft(Nt.data[Ce])?jt++:(zn=Nt.data[Ce].length,An+=zn,ae===void 0?ae=zn:0<zn&&(ke+=Math.abs(zn-ae),ae=zn));0<Nt.data.length&&(An/=Nt.data.length-jt),($t===void 0||ke<=$t)&&(_e===void 0||_e<An)&&1.99<An&&($t=ke,ee=Qn,_e=An)}return{successful:!!(w.delimiter=ee),bestDelimiter:ee}})(_t,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=Rt.bestDelimiter:(P=!0,w.delimiter=d.DefaultDelimiter),J.meta.delimiter=w.delimiter),W(w));return w.preview&&w.header&&Rt.preview++,A=_t,I=new M(Rt),J=I.parse(A,At,te),yt(),B?{meta:{paused:!0}}:J||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,I.abort(),A=N(w.chunk)?"":A.substring(I.getCharIndex())},this.resume=function(){Z.streamer._halted?(B=!1,Z.streamer.parseChunk(A,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,I.abort(),J.meta.aborted=!0,N(w.complete)&&w.complete(J),A=""},this.guessLineEndings=function(Gt,Rt){Gt=Gt.substring(0,1048576);var Rt=new RegExp(D(Rt)+"([^]*?)"+D(Rt),"gm"),te=(Gt=Gt.replace(Rt,"")).split("\r"),Rt=Gt.split(`
`),Gt=1<Rt.length&&Rt[0].length<te[0].length;if(te.length===1||Gt)return`
`;for(var he=0,St=0;St<te.length;St++)te[St][0]===`
`&&he++;return he>=te.length/2?`\r
`:"\r"}}function D(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(w){var A=(w=w||{}).delimiter,I=w.newline,P=w.comments,j=w.step,V=w.preview,xt=w.fastMode,gt=null,G=!1,Z=w.quoteChar==null?'"':w.quoteChar,ht=Z;if(w.escapeChar!==void 0&&(ht=w.escapeChar),(typeof A!="string"||-1<d.BAD_DELIMITERS.indexOf(A))&&(A=","),P===A)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var ct=0,B=!1;this.parse=function(Q,st,J){if(typeof Q!="string")throw new Error("Input must be a string");var ft=Q.length,yt=A.length,mt=I.length,Yt=P.length,_t=N(j),At=[],te=[],Rt=[],Gt=ct=0;if(!Q)return ke();if(xt||xt!==!1&&Q.indexOf(Z)===-1){for(var he=Q.split(I),St=0;St<he.length;St++){if(Rt=he[St],ct+=Rt.length,St!==he.length-1)ct+=I.length;else if(J)return ke();if(!P||Rt.substring(0,Yt)!==P){if(_t){if(At=[],_e(Rt.split(A)),An(),B)return ke()}else _e(Rt.split(A));if(V&&V<=St)return At=At.slice(0,V),ke(!0)}}return ke()}for(var Ft=Q.indexOf(A,ct),Tt=Q.indexOf(I,ct),ee=new RegExp(D(ht)+D(Z),"g"),$t=Q.indexOf(Z,ct);;)if(Q[ct]===Z)for($t=ct,ct++;;){if(($t=Q.indexOf(Z,$t+1))===-1)return J||te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:At.length,index:ct}),zn();if($t===ft-1)return zn(Q.substring(ct,$t).replace(ee,Z));if(Z===ht&&Q[$t+1]===ht)$t++;else if(Z===ht||$t===0||Q[$t-1]!==ht){Ft!==-1&&Ft<$t+1&&(Ft=Q.indexOf(A,$t+1));var ae=Fn((Tt=Tt!==-1&&Tt<$t+1?Q.indexOf(I,$t+1):Tt)===-1?Ft:Math.min(Ft,Tt));if(Q.substr($t+1+ae,yt)===A){Rt.push(Q.substring(ct,$t).replace(ee,Z)),Q[ct=$t+1+ae+yt]!==Z&&($t=Q.indexOf(Z,ct)),Ft=Q.indexOf(A,ct),Tt=Q.indexOf(I,ct);break}if(ae=Fn(Tt),Q.substring($t+1+ae,$t+1+ae+mt)===I){if(Rt.push(Q.substring(ct,$t).replace(ee,Z)),Qn($t+1+ae+mt),Ft=Q.indexOf(A,ct),$t=Q.indexOf(Z,ct),_t&&(An(),B))return ke();if(V&&At.length>=V)return ke(!0);break}te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:At.length,index:ct}),$t++}}else if(P&&Rt.length===0&&Q.substring(ct,ct+Yt)===P){if(Tt===-1)return ke();ct=Tt+mt,Tt=Q.indexOf(I,ct),Ft=Q.indexOf(A,ct)}else if(Ft!==-1&&(Ft<Tt||Tt===-1))Rt.push(Q.substring(ct,Ft)),ct=Ft+yt,Ft=Q.indexOf(A,ct);else{if(Tt===-1)break;if(Rt.push(Q.substring(ct,Tt)),Qn(Tt+mt),_t&&(An(),B))return ke();if(V&&At.length>=V)return ke(!0)}return zn();function _e(jt){At.push(jt),Gt=ct}function Fn(jt){var Nt=0;return Nt=jt!==-1&&(jt=Q.substring($t+1,jt))&&jt.trim()===""?jt.length:Nt}function zn(jt){return J||(jt===void 0&&(jt=Q.substring(ct)),Rt.push(jt),ct=ft,_e(Rt),_t&&An()),ke()}function Qn(jt){ct=jt,_e(Rt),Rt=[],Tt=Q.indexOf(I,ct)}function ke(jt){if(w.header&&!st&&At.length&&!G){var Nt=At[0],Ce=Object.create(null),Pe=new Set(Nt);let xs=!1;for(let pi=0;pi<Nt.length;pi++){let tn=Nt[pi];if(Ce[tn=N(w.transformHeader)?w.transformHeader(tn,pi):tn]){let vn,gi=Ce[tn];for(;vn=tn+"_"+gi,gi++,Pe.has(vn););Pe.add(vn),Nt[pi]=vn,Ce[tn]++,xs=!0,(gt=gt===null?{}:gt)[vn]=tn}else Ce[tn]=1,Nt[pi]=tn;Pe.add(tn)}xs&&console.warn("Duplicate headers found and renamed."),G=!0}return{data:At,errors:te,meta:{delimiter:A,linebreak:I,aborted:B,truncated:!!jt,cursor:Gt+(st||0),renamedHeaders:gt}}}function An(){j(ke()),At=[],te=[]}},this.abort=function(){B=!0},this.getCharIndex=function(){return ct}}function F(w){var A=w.data,I=c[A.workerId],P=!1;if(A.error)I.userError(A.error,A.file);else if(A.results&&A.results.data){var j={abort:function(){P=!0,L(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(N(I.userStep)){for(var V=0;V<A.results.data.length&&(I.userStep({data:A.results.data[V],errors:A.results.errors,meta:A.results.meta},j),!P);V++);delete A.results}else N(I.userChunk)&&(I.userChunk(A.results,j,A.file),delete A.results)}A.finished&&!P&&L(A.workerId,A.results)}function L(w,A){var I=c[w];N(I.userComplete)&&I.userComplete(A),I.terminate(),delete c[w]}function H(){throw new Error("Not implemented.")}function W(w){if(typeof w!="object"||w===null)return w;var A,I=Array.isArray(w)?[]:{};for(A in w)I[A]=W(w[A]);return I}function nt(w,A){return function(){w.apply(A,arguments)}}function N(w){return typeof w=="function"}return d.parse=function(w,A){var I=(A=A||{}).dynamicTyping||!1;if(N(I)&&(A.dynamicTypingFunction=I,I={}),A.dynamicTyping=I,A.transform=!!N(A.transform)&&A.transform,!A.worker||!d.WORKERS_SUPPORTED)return I=null,d.NODE_STREAM_INPUT,typeof w=="string"?(w=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(w),I=new(A.download?y:x)(A)):w.readable===!0&&N(w.read)&&N(w.on)?I=new E(A):(i.File&&w instanceof File||w instanceof Object)&&(I=new _(A)),I.stream(w);(I=(()=>{var P;return!!d.WORKERS_SUPPORTED&&(P=(()=>{var j=i.URL||i.webkitURL||null,V=n.toString();return d.BLOB_URL||(d.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(P=new i.Worker(P)).onmessage=F,P.id=h++,c[P.id]=P)})()).userStep=A.step,I.userChunk=A.chunk,I.userComplete=A.complete,I.userError=A.error,A.step=N(A.step),A.chunk=N(A.chunk),A.complete=N(A.complete),A.error=N(A.error),delete A.worker,I.postMessage({input:w,config:A,workerId:I.id})},d.unparse=function(w,A){var I=!1,P=!0,j=",",V=`\r
`,xt='"',gt=xt+xt,G=!1,Z=null,ht=!1,ct=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||d.BAD_DELIMITERS.filter(function(st){return A.delimiter.indexOf(st)!==-1}).length||(j=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(I=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(G=A.skipEmptyLines),typeof A.newline=="string"&&(V=A.newline),typeof A.quoteChar=="string"&&(xt=A.quoteChar),typeof A.header=="boolean"&&(P=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");Z=A.columns}A.escapeChar!==void 0&&(gt=A.escapeChar+xt),A.escapeFormulae instanceof RegExp?ht=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(ht=/^[=+\-@\t\r].*$/)}})(),new RegExp(D(xt),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return B(null,w,G);if(typeof w[0]=="object")return B(Z||Object.keys(w[0]),w,G)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||Z),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),B(w.fields||[],w.data||[],G);throw new Error("Unable to serialize unrecognized input");function B(st,J,ft){var yt="",mt=(typeof st=="string"&&(st=JSON.parse(st)),typeof J=="string"&&(J=JSON.parse(J)),Array.isArray(st)&&0<st.length),Yt=!Array.isArray(J[0]);if(mt&&P){for(var _t=0;_t<st.length;_t++)0<_t&&(yt+=j),yt+=Q(st[_t],_t);0<J.length&&(yt+=V)}for(var At=0;At<J.length;At++){var te=(mt?st:J[At]).length,Rt=!1,Gt=mt?Object.keys(J[At]).length===0:J[At].length===0;if(ft&&!mt&&(Rt=ft==="greedy"?J[At].join("").trim()==="":J[At].length===1&&J[At][0].length===0),ft==="greedy"&&mt){for(var he=[],St=0;St<te;St++){var Ft=Yt?st[St]:St;he.push(J[At][Ft])}Rt=he.join("").trim()===""}if(!Rt){for(var Tt=0;Tt<te;Tt++){0<Tt&&!Gt&&(yt+=j);var ee=mt&&Yt?st[Tt]:Tt;yt+=Q(J[At][ee],Tt)}At<J.length-1&&(!ft||0<te&&!Gt)&&(yt+=V)}}return yt}function Q(st,J){var ft,yt;return st==null?"":st.constructor===Date?JSON.stringify(st).slice(1,25):(yt=!1,ht&&typeof st=="string"&&ht.test(st)&&(st="'"+st,yt=!0),ft=st.toString().replace(ct,gt),(yt=yt||I===!0||typeof I=="function"&&I(st,J)||Array.isArray(I)&&I[J]||((mt,Yt)=>{for(var _t=0;_t<Yt.length;_t++)if(-1<mt.indexOf(Yt[_t]))return!0;return!1})(ft,d.BAD_DELIMITERS)||-1<ft.indexOf(j)||ft.charAt(0)===" "||ft.charAt(ft.length-1)===" ")?xt+ft+xt:ft)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!a&&!!i.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=M,d.ParserHandle=C,d.NetworkStreamer=y,d.FileStreamer=_,d.StringStreamer=x,d.ReadableStreamStreamer=E,i.jQuery&&((s=i.jQuery).fn.parse=function(w){var A=w.config||{},I=[];return this.each(function(V){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var xt=0;xt<this.files.length;xt++)I.push({file:this.files[xt],inputElem:this,instanceConfig:s.extend({},A)})}),P(),this;function P(){if(I.length===0)N(w.complete)&&w.complete();else{var V,xt,gt,G,Z=I[0];if(N(w.before)){var ht=w.before(Z.file,Z.inputElem);if(typeof ht=="object"){if(ht.action==="abort")return V="AbortError",xt=Z.file,gt=Z.inputElem,G=ht.reason,void(N(w.error)&&w.error({name:V},xt,gt,G));if(ht.action==="skip")return void j();typeof ht.config=="object"&&(Z.instanceConfig=s.extend(Z.instanceConfig,ht.config))}else if(ht==="skip")return void j()}var ct=Z.instanceConfig.complete;Z.instanceConfig.complete=function(B){N(ct)&&ct(B,Z.file,Z.inputElem),j()},d.parse(Z.file,Z.instanceConfig)}}function j(){I.splice(0,1),P()}}),l&&(i.onmessage=function(w){w=w.data,d.WORKER_ID===void 0&&w&&(d.WORKER_ID=w.workerId),typeof w.input=="string"?i.postMessage({workerId:d.WORKER_ID,results:d.parse(w.input,w.config),finished:!0}):(i.File&&w.input instanceof File||w.input instanceof Object)&&(w=d.parse(w.input,w.config))&&i.postMessage({workerId:d.WORKER_ID,results:w,finished:!0})}),(y.prototype=Object.create(p.prototype)).constructor=y,(_.prototype=Object.create(p.prototype)).constructor=_,(x.prototype=Object.create(x.prototype)).constructor=x,(E.prototype=Object.create(p.prototype)).constructor=E,d})}(jm)),jm.exports}var m7=d7();const p7=I_(m7);ug.register(zz,n7,$z);const nh=[{text:"Stay productive, stay positive!",author:"Unknown"},{text:"Focus on progress, not perfection.",author:"Unknown"},{text:"Small steps lead to big results.",author:"Unknown"},{text:"Consistency is the key to success.",author:"Unknown"},{text:"Make each day your masterpiece.",author:"John Wooden"},{text:"Believe in yourself and all that you are.",author:"Christian D. Larson"},{text:"Dont watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Success is the sum of small efforts repeated day in and day out.",author:"Robert Collier"},{text:"Discipline is choosing between what you want now and what you want most.",author:"Abraham Lincoln"},{text:"You dont have to be great to start, but you have to start to be great.",author:"Zig Ziglar"},{text:"Dont limit your challenges. Challenge your limits.",author:"Jerry Dunn"},{text:"Dream big, start small, act now.",author:"Robin Sharma"},{text:"Push yourself, because no one else is going to do it for you.",author:"Unknown"},{text:"Your future is created by what you do today, not tomorrow.",author:"Robert Kiyosaki"},{text:"The secret of getting ahead is getting started.",author:"Mark Twain"},{text:"Focus on being productive instead of busy.",author:"Tim Ferriss"},{text:"Hard work beats talent when talent doesn't work hard.",author:"Tim Notke"},{text:"Dont be afraid to give up the good to go for the great.",author:"John D. Rockefeller"},{text:"It always seems impossible until its done.",author:"Nelson Mandela"},{text:"A little progress each day adds up to big results.",author:"Unknown"},{text:"You are capable of more than you know.",author:"Unknown"},{text:"Stay humble. Work hard. Be kind.",author:"Unknown"},{text:"The harder you work for something, the greater youll feel when you achieve it.",author:"Unknown"},{text:"Great things never come from comfort zones.",author:"Unknown"},{text:"Dont stop until youre proud.",author:"Unknown"},{text:"Action is the foundational key to all success.",author:"Pablo Picasso"},{text:"If you get tired, learn to rest, not quit.",author:"Banksy"},{text:"The best way to predict your future is to create it.",author:"Peter Drucker"},{text:"Success doesnt come from what you do occasionally, it comes from what you do consistently.",author:"Marie Forleo"},{text:"Perseverance is not a long race; it is many short races one after the other.",author:"Walter Elliot"}];function g7(){const{user:e}=bs(),[t,n]=U.useState([]),[i,s]=U.useState(nh[0]),[a,l]=U.useState(!0);U.useEffect(()=>{const C=nh[Math.floor(Math.random()*nh.length)];s(C)},[]),U.useEffect(()=>{if(!e)return;const C=eg(bf(ri,"tasks"),Cu("uid","==",e.uid)),D=ig(C,M=>{const F=M.docs.map(L=>({id:L.id,...L.data()}));n(F)});return()=>D()},[e]);const c=()=>{l(!1),setTimeout(()=>{const C=nh[Math.floor(Math.random()*nh.length)];s(C),l(!0)},200)},h=()=>{if(t.length===0){Qt.error("No tasks to export!");return}const C=t.map(H=>({Title:H.title,Description:H.description,Category:H.category,Priority:H.priority,Tags:(H.tags||[]).join(", "),DueDate:H.dueDate?.toDate?H.dueDate.toDate().toLocaleString():"",Duration:H.duration||"",HighPriority:H.highPriority?"Yes":"No",Completed:H.completed?"Yes":"No",CreatedAt:H.createdAt?.toDate?H.createdAt.toDate().toLocaleString():""})),D=p7.unparse(C),M=new Blob([D],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(M),L=document.createElement("a");L.setAttribute("href",F),L.setAttribute("download","tasks.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L),Qt.success(" CSV downloaded!")},d=t.length,p=t.filter(C=>C.completed).length,y=t.filter(C=>!C.completed).length,_=d>0?Math.round(p/d*100):0,x={labels:["Completed","Pending"],datasets:[{data:[p,y],backgroundColor:["#8b5cf6","#e5e7eb"],borderWidth:1}]},E=[...t].sort((C,D)=>D.createdAt?.seconds-C.createdAt?.seconds).slice(0,3);return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[T.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700",children:["Welcome back, ",e?.displayName||"User","! "]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 space-y-3",children:[T.jsx("h3",{className:"font-semibold text-purple-700 mb-3 text-lg",children:" Motivation"}),T.jsxs("p",{className:`italic text-gray-600 transition-opacity duration-200 text-sm sm:text-base ${a?"opacity-100":"opacity-0"}`,children:['"',i.text,'"']}),T.jsxs("p",{className:"text-xs text-right text-gray-500",children:[" ",i.author]}),T.jsx("button",{onClick:c,className:"mt-3 bg-purple-600 text-white text-xs sm:text-sm px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:" New Quote"})]}),T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6",children:[T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 text-center",children:[T.jsx("div",{className:"text-gray-500 text-xs sm:text-sm mb-1",children:"Total Tasks"}),T.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-purple-700",children:d})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 text-center",children:[T.jsx("div",{className:"text-gray-500 text-xs sm:text-sm mb-1",children:"Completed"}),T.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-green-600",children:p})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 text-center",children:[T.jsx("div",{className:"text-gray-500 text-xs sm:text-sm mb-1",children:"Pending"}),T.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-yellow-500",children:y})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 text-center",children:[T.jsx("div",{className:"text-gray-500 text-xs sm:text-sm mb-1",children:"Completion %"}),T.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-semibold text-purple-700",children:[_,"%"]})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-end",children:[T.jsx("a",{href:"/calendar",className:"inline-flex items-center justify-center bg-purple-600 text-white text-sm px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:" View Calendar"}),T.jsx("button",{onClick:h,className:"inline-flex items-center justify-center bg-purple-600 text-white text-sm px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:" Export to CSV"})]}),T.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[T.jsx("h3",{className:"font-semibold text-purple-700 mb-4 text-lg",children:"Task Status Overview"}),T.jsx("div",{className:"w-full max-w-xs mx-auto",children:T.jsx(h7,{data:x})})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[T.jsx("h3",{className:"font-semibold text-purple-700 mb-4 text-lg",children:"Latest Tasks"}),E.length===0?T.jsx("p",{className:"text-gray-500 text-sm",children:"No tasks yet."}):T.jsx("ul",{className:"space-y-3",children:E.map(C=>T.jsxs("li",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center border-b border-gray-100 last:border-b-0 pb-3 last:pb-0",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("div",{className:"font-medium text-gray-800 text-sm sm:text-base truncate",children:C.title}),T.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[C.category," | ",C.priority]})]}),T.jsx("div",{className:`text-xs font-semibold mt-2 sm:mt-0 sm:ml-4 ${C.completed?"text-green-600":"text-yellow-500"}`,children:C.completed?"Completed":"Pending"})]},C.id))})]})]})]}),T.jsx(L9,{})]})}const Yv=e=>typeof e!="string"?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"),K0=e=>!e||typeof e!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),y7=e=>{if(!e||typeof e!="string")return{isValid:!1,score:0,feedback:"Password is required"};const t=8,n=/[A-Z]/.test(e),i=/[a-z]/.test(e),s=/\d/.test(e),a=/[!@#$%^&*(),.?":{}|<>]/.test(e);let l=0;const c=[];return e.length>=t?l+=1:c.push(`At least ${t} characters`),n?l+=1:c.push("At least one uppercase letter"),i?l+=1:c.push("At least one lowercase letter"),s?l+=1:c.push("At least one number"),a?l+=1:c.push("At least one special character"),{isValid:l>=4&&e.length>=t,score:l,feedback:c.length>0?c.join(", "):"Strong password"}};class v7{constructor(t=5,n=6e4){this.maxRequests=t,this.windowMs=n,this.requests=new Map}isAllowed(t){const n=Date.now(),s=(this.requests.get(t)||[]).filter(a=>n-a<this.windowMs);return s.length>=this.maxRequests?!1:(s.push(n),this.requests.set(t,s),!0)}reset(t){this.requests.delete(t)}}const XA=new v7,_7=e=>{const t=[];if((!e.title||e.title.trim().length===0)&&t.push("Task title is required"),e.title&&e.title.length>200&&t.push("Task title must be less than 200 characters"),e.description&&e.description.length>1e3&&t.push("Task description must be less than 1000 characters"),e.dueDate){const n=new Date(e.dueDate);isNaN(n.getTime())&&t.push("Invalid due date")}return e.tags&&Array.isArray(e.tags)&&(e.tags.length>10&&t.push("Maximum 10 tags allowed"),e.tags.forEach(n=>{n.length>20&&t.push("Each tag must be less than 20 characters")})),{isValid:t.length===0,errors:t}},b7=e=>({...e,title:Yv(e.title||""),description:Yv(e.description||""),tags:Array.isArray(e.tags)?e.tags.map(t=>Yv(t.trim())).filter(Boolean):[]}),nu={AUTHENTICATION:"AUTHENTICATION",VALIDATION:"VALIDATION",NETWORK:"NETWORK",DATABASE:"DATABASE",PERMISSION:"PERMISSION",UNKNOWN:"UNKNOWN"},ni={MEDIUM:"MEDIUM",HIGH:"HIGH",CRITICAL:"CRITICAL"};class x7{constructor(){this.errors=[],this.maxErrors=100}log(t,n={},i=ni.MEDIUM){const s={timestamp:new Date().toISOString(),message:t.message||"Unknown error",stack:t.stack,context:n,severity:i,type:this.categorizeError(t)};this.sendToErrorService(s),this.errors.push(s),this.errors.length>this.maxErrors&&this.errors.shift()}categorizeError(t){if(t.code){if(t.code.startsWith("auth/"))return nu.AUTHENTICATION;if(t.code.startsWith("permission-denied"))return nu.PERMISSION}if(t.message){const n=t.message.toLowerCase();if(n.includes("network")||n.includes("fetch"))return nu.NETWORK;if(n.includes("validation")||n.includes("invalid"))return nu.VALIDATION;if(n.includes("firestore")||n.includes("database"))return nu.DATABASE}return nu.UNKNOWN}sendToErrorService(t){typeof window<"u"&&window.gtag&&window.gtag("event","exception",{description:t.message,fatal:t.severity===ni.CRITICAL})}getErrors(){return[...this.errors]}clearErrors(){this.errors=[]}}const fO=new x7,Gv=(e,t)=>{let n="An authentication error occurred.",i=ni.MEDIUM;if(e.code)switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/wrong-password":n="Incorrect password. Please try again.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;case"auth/missing-password":n="Password is required.";break;case"auth/weak-password":n="Password should be at least 6 characters.";break;case"auth/email-already-in-use":n="An account with this email already exists.";break;case"auth/network-request-failed":n="Network error. Please check your internet connection.",i=ni.HIGH;break;case"auth/too-many-requests":n="Too many failed attempts. Please wait and try again later.",i=ni.HIGH;break;case"auth/popup-closed-by-user":n="Login popup was closed. Please try again.";break;case"auth/invalid-credential":n="Invalid login credentials. Please check and try again.";break;case"auth/user-disabled":n="This account has been disabled.",i=ni.HIGH;break;case"auth/operation-not-allowed":n="This operation is not allowed.",i=ni.HIGH;break;default:n="Something went wrong. Please try again."}return fO.log(e,{type:"AUTHENTICATION"},i),n},w7=(e,t)=>{let n="A database error occurred.",i=ni.MEDIUM;if(e.code)switch(e.code){case"permission-denied":n="You do not have permission to perform this action.",i=ni.HIGH;break;case"unavailable":n="Service temporarily unavailable. Please try again.",i=ni.HIGH;break;case"deadline-exceeded":n="Request timed out. Please try again.";break;case"resource-exhausted":n="Service quota exceeded. Please try again later.",i=ni.HIGH;break;case"failed-precondition":n="Operation failed due to invalid state.";break;case"aborted":n="Operation was aborted. Please try again.";break;case"out-of-range":n="Invalid data range.";break;case"unimplemented":n="Operation not implemented.",i=ni.HIGH;break;case"internal":n="Internal server error. Please try again.",i=ni.HIGH;break;case"unavailable":n="Service unavailable. Please try again.",i=ni.HIGH;break;case"data-loss":n="Data loss occurred.",i=ni.CRITICAL;break;default:n="Database operation failed. Please try again."}return fO.log(e,{type:"DATABASE",operation:t},i),n};function T7(){const{user:e}=bs(),[t,n]=U.useState(""),[i,s]=U.useState(""),[a,l]=U.useState(""),[c,h]=U.useState("Personal"),[d,p]=U.useState("Medium"),[y,_]=U.useState(""),[x,E]=U.useState(""),[C,D]=U.useState(!1),[M,F]=U.useState(!1),L=async()=>{const H={title:t,description:i,category:c,priority:d,tags:y.split(",").map(nt=>nt.trim()).filter(Boolean),duration:x,highPriority:C,dueDate:a?new Date(a):null},W=_7(H);if(!W.isValid){Qt.error(W.errors.join(", "));return}F(!0);try{const nt=b7(H);console.log("Adding task with data:",{uid:e.uid,username:e.displayName||"Anonymous",userEmail:e.email||"No email",...nt,completed:!1,createdAt:Ci()}),await FU(bf(ri,"tasks"),{uid:e.uid,username:e.displayName||"Anonymous",userEmail:e.email||"No email",...nt,completed:!1,createdAt:Ci()}),n(""),s(""),l(""),h("Personal"),p("Medium"),_(""),E(""),D(!1),Qt.success(" Task added successfully!")}catch(nt){const N=w7(nt,"add_task");Qt.error(N)}finally{F(!1)}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:T.jsx("div",{className:"flex justify-center items-start py-6 sm:py-10 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"bg-gradient-to-br from-white via-purple-50 to-white shadow-xl rounded-xl w-full max-w-2xl p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700 text-center mb-4 sm:mb-6",children:"Add New Task"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),T.jsx("input",{value:t,onChange:H=>n(H.target.value),placeholder:"Enter task title",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),T.jsx("textarea",{value:i,onChange:H=>s(H.target.value),rows:"3",placeholder:"Add details...",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Category"}),T.jsxs("select",{value:c,onChange:H=>h(H.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{children:"Personal"}),T.jsx("option",{children:"Work"}),T.jsx("option",{children:"Study"}),T.jsx("option",{children:"Other"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Priority"}),T.jsxs("select",{value:d,onChange:H=>p(H.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{children:"Low"}),T.jsx("option",{children:"Medium"}),T.jsx("option",{children:"High"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Tags (comma separated)"}),T.jsx("input",{value:y,onChange:H=>_(H.target.value),placeholder:"e.g., urgent, frontend, meeting",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Estimated Duration"}),T.jsx("input",{value:x,onChange:H=>E(H.target.value),placeholder:"e.g., 2h, 30min",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsx("div",{className:"flex items-center justify-start sm:justify-end",children:T.jsxs("label",{className:"flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:C,onChange:()=>D(!C),className:"mr-3 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),T.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"High priority"})]})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Due Date & Time"}),T.jsx("input",{type:"datetime-local",value:a,onChange:H=>l(H.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsx("button",{onClick:L,disabled:M,className:`w-full bg-purple-600 text-white py-3 px-4 rounded-lg text-base sm:text-lg font-semibold hover:bg-purple-700 transition-colors ${M?"opacity-70 cursor-not-allowed":""}`,children:M?T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Task"}),T.jsxs("div",{className:"mt-6 border-t border-purple-200 pt-6",children:[T.jsx("h3",{className:"text-purple-700 font-semibold mb-3 text-lg",children:"Live Preview"}),T.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 space-y-2",children:[T.jsx("div",{className:"font-medium text-gray-800 text-sm sm:text-base",children:t||"Task title..."}),T.jsx("div",{className:"text-gray-600 text-sm",children:i||"Task description..."}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[T.jsxs("span",{className:"bg-white px-2 py-1 rounded",children:["Category: ",c]}),T.jsxs("span",{className:"bg-white px-2 py-1 rounded",children:["Priority: ",d]}),a&&T.jsxs("span",{className:"bg-white px-2 py-1 rounded",children:["Due: ",new Date(a).toLocaleString()]}),x&&T.jsxs("span",{className:"bg-white px-2 py-1 rounded",children:["Duration: ",x]}),C&&T.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded font-semibold",children:" High Priority"})]}),y&&T.jsxs("div",{className:"text-xs text-gray-600",children:["Tags: ",y]})]})]})]})})})}const dO=6048e5,E7=864e5,S7=6e4,QA=Symbol.for("constructDateFrom");function Ya(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&QA in e?e[QA](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ii(e,t){return Ya(t||e,e)}let A7={};function hg(){return A7}function Kh(e,t){const n=hg(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ii(e,t?.in),a=s.getDay(),l=(a<i?7:0)+a-i;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Tp(e,t){return Kh(e,{...t,weekStartsOn:1})}function mO(e,t){const n=Ii(e,t?.in),i=n.getFullYear(),s=Ya(n,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const a=Tp(s),l=Ya(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const c=Tp(l);return n.getTime()>=a.getTime()?i+1:n.getTime()>=c.getTime()?i:i-1}function ZA(e){const t=Ii(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pO(e,...t){const n=Ya.bind(null,t.find(i=>typeof i=="object"));return t.map(n)}function Ep(e,t){const n=Ii(e,t?.in);return n.setHours(0,0,0,0),n}function R7(e,t,n){const[i,s]=pO(n?.in,e,t),a=Ep(i),l=Ep(s),c=+a-ZA(a),h=+l-ZA(l);return Math.round((c-h)/E7)}function C7(e,t){const n=mO(e,t),i=Ya(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Tp(i)}function D7(e,t,n){const[i,s]=pO(n?.in,e,t);return+Ep(i)==+Ep(s)}function I7(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function O7(e){return!(!I7(e)&&typeof e!="number"||isNaN(+Ii(e)))}function M7(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return i===0?0:i}}function k7(e,t){return+Ii(e)-+Ii(t)}function P7(e,t,n){const i=k7(e,t)/S7;return M7(n?.roundingMethod)(i)}function N7(e,t){const n=Ii(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const V7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L7=(e,t,n)=>{let i;const s=V7[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function $v(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const j7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},U7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F7={date:$v({formats:j7,defaultWidth:"full"}),time:$v({formats:U7,defaultWidth:"full"}),dateTime:$v({formats:B7,defaultWidth:"full"})},z7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},H7=(e,t,n,i)=>z7[e];function ih(e){return(t,n)=>{const i=n?.context?String(n.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const q7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},W7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X7=(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Q7={ordinalNumber:X7,era:ih({values:q7,defaultWidth:"wide"}),quarter:ih({values:W7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ih({values:Y7,defaultWidth:"wide"}),day:ih({values:G7,defaultWidth:"wide"}),dayPeriod:ih({values:$7,defaultWidth:"wide",formattingValues:K7,defaultFormattingWidth:"wide"})};function sh(e){return(t,n={})=>{const i=n.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],c=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(c)?J7(c,y=>y.test(l)):Z7(c,y=>y.test(l));let d;d=e.valueCallback?e.valueCallback(h):h,d=n.valueCallback?n.valueCallback(d):d;const p=t.slice(l.length);return{value:d,rest:p}}}function Z7(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function J7(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function t8(e){return(t,n={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const e8=/^(\d+)(th|st|nd|rd)?/i,n8=/\d+/i,i8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s8={any:[/^b/i,/^(a|c)/i]},r8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},a8={any:[/1/i,/2/i,/3/i,/4/i]},o8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},u8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},c8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},f8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},d8={ordinalNumber:t8({matchPattern:e8,parsePattern:n8,valueCallback:e=>parseInt(e,10)}),era:sh({matchPatterns:i8,defaultMatchWidth:"wide",parsePatterns:s8,defaultParseWidth:"any"}),quarter:sh({matchPatterns:r8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sh({matchPatterns:o8,defaultMatchWidth:"wide",parsePatterns:l8,defaultParseWidth:"any"}),day:sh({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any"}),dayPeriod:sh({matchPatterns:h8,defaultMatchWidth:"any",parsePatterns:f8,defaultParseWidth:"any"})},m8={code:"en-US",formatDistance:L7,formatLong:F7,formatRelative:H7,localize:Q7,match:d8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p8(e,t){const n=Ii(e,t?.in);return R7(n,N7(n))+1}function g8(e,t){const n=Ii(e,t?.in),i=+Tp(n)-+C7(n);return Math.round(i/dO)+1}function gO(e,t){const n=Ii(e,t?.in),i=n.getFullYear(),s=hg(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Ya(t?.in||e,0);l.setFullYear(i+1,0,a),l.setHours(0,0,0,0);const c=Kh(l,t),h=Ya(t?.in||e,0);h.setFullYear(i,0,a),h.setHours(0,0,0,0);const d=Kh(h,t);return+n>=+c?i+1:+n>=+d?i:i-1}function y8(e,t){const n=hg(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=gO(e,t),a=Ya(t?.in||e,0);return a.setFullYear(s,0,i),a.setHours(0,0,0,0),Kh(a,t)}function v8(e,t){const n=Ii(e,t?.in),i=+Kh(n,t)-+y8(n,t);return Math.round(i/dO)+1}function ge(e,t){const n=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return n+i}const ba={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return ge(t==="yy"?i%100:i,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ge(n+1,2)},d(e,t){return ge(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ge(e.getHours()%12||12,t.length)},H(e,t){return ge(e.getHours(),t.length)},m(e,t){return ge(e.getMinutes(),t.length)},s(e,t){return ge(e.getSeconds(),t.length)},S(e,t){const n=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,n-3));return ge(s,t.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JA={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return ba.y(e,t)},Y:function(e,t,n,i){const s=gO(e,i),a=s>0?s:1-s;if(t==="YY"){const l=a%100;return ge(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ge(a,t.length)},R:function(e,t){const n=mO(e);return ge(n,t.length)},u:function(e,t){const n=e.getFullYear();return ge(n,t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return ge(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return ge(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return ba.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return ge(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const s=v8(e,i);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ge(s,t.length)},I:function(e,t,n){const i=g8(e);return t==="Io"?n.ordinalNumber(i,{unit:"week"}):ge(i,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ba.d(e,t)},D:function(e,t,n){const i=p8(e);return t==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):ge(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ge(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const s=e.getDay(),a=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ge(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return ge(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let s;switch(i===12?s=iu.noon:i===0?s=iu.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let s;switch(i>=17?s=iu.evening:i>=12?s=iu.afternoon:i>=4?s=iu.morning:s=iu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return ba.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ba.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return t==="Ko"?n.ordinalNumber(i,{unit:"hour"}):ge(i,t.length)},k:function(e,t,n){let i=e.getHours();return i===0&&(i=24),t==="ko"?n.ordinalNumber(i,{unit:"hour"}):ge(i,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ba.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ba.s(e,t)},S:function(e,t){return ba.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return eR(i);case"XXXX":case"XX":return Bo(i);case"XXXXX":case"XXX":default:return Bo(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return eR(i);case"xxxx":case"xx":return Bo(i);case"xxxxx":case"xxx":default:return Bo(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tR(i,":");case"OOOO":default:return"GMT"+Bo(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tR(i,":");case"zzzz":default:return"GMT"+Bo(i,":")}},t:function(e,t,n){const i=Math.trunc(+e/1e3);return ge(i,t.length)},T:function(e,t,n){return ge(+e,t.length)}};function tR(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),a=i%60;return a===0?n+String(s):n+String(s)+t+ge(a,2)}function eR(e,t){return e%60===0?(e>0?"-":"+")+ge(Math.abs(e)/60,2):Bo(e,t)}function Bo(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),s=ge(Math.trunc(i/60),2),a=ge(i%60,2);return n+s+t+a}const nR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return nR(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",nR(i,t)).replace("{{time}}",yO(s,t))},b8={p:yO,P:_8},x8=/^D+$/,w8=/^Y+$/,T8=["D","DD","YY","YYYY"];function E8(e){return x8.test(e)}function S8(e){return w8.test(e)}function A8(e,t,n){const i=R8(e,t,n);if(console.warn(i),T8.includes(e))throw new RangeError(i)}function R8(e,t,n){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const C8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I8=/^'([^]*?)'?$/,O8=/''/g,M8=/[a-zA-Z]/;function Kb(e,t,n){const i=hg(),s=i.locale??m8,a=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,c=Ii(e,n?.in);if(!O7(c))throw new RangeError("Invalid time value");let h=t.match(D8).map(p=>{const y=p[0];if(y==="p"||y==="P"){const _=b8[y];return _(p,s.formatLong)}return p}).join("").match(C8).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:k8(p)};if(JA[y])return{isToken:!0,value:p};if(y.match(M8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(h=s.localize.preprocessor(c,h));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return h.map(p=>{if(!p.isToken)return p.value;const y=p.value;(S8(y)||E8(y))&&A8(y,t,String(e));const _=JA[y[0]];return _(c,y,s.localize,d)}).join("")}function k8(e){const t=e.match(I8);return t?t[1].replace(O8,"'"):e}function P8(){const{user:e}=bs(),[t,n]=U.useState([]),[i,s]=U.useState([]),[a,l]=U.useState("dueDate"),[c,h]=U.useState("All"),[d,p]=U.useState(!1),[y,_]=U.useState(null);U.useEffect(()=>{if(!e)return;const E=eg(bf(ri,"tasks"),Cu("uid","==",e.uid),Cu("completed","==",!1)),C=ig(E,D=>{const M=D.docs.map(F=>({id:F.id,...F.data()}));n(M)});return()=>C()},[e]),U.useEffect(()=>{const E=setInterval(()=>{const C=new Date;t.forEach(D=>{if(D.dueDate&&!i.includes(D.id)){const M=D.dueDate.toDate?D.dueDate.toDate():new Date(D.dueDate),F=P7(M,C);F>=0&&F<=1&&(Qt(` Task "${D.title}" is due now!`,{icon:""}),s(L=>[...L,D.id]))}})},3e4);return()=>clearInterval(E)},[t,i]);const x=async E=>{try{await Pb(ps(ri,"tasks",E),{completed:!0,uid:e.uid}),Qt.success(" Task marked as completed!")}catch(C){console.error("Failed to mark as completed:",C),Qt.error("Something went wrong!")}};return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:[T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700 mb-4",children:" Pending Tasks"}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),T.jsxs("select",{value:a,onChange:E=>l(E.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{value:"dueDate",children:"Due Date"}),T.jsx("option",{value:"priority",children:"Priority"})]})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),T.jsxs("select",{value:c,onChange:E=>h(E.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{value:"All",children:"All Categories"}),T.jsx("option",{value:"Personal",children:"Personal"}),T.jsx("option",{value:"Work",children:"Work"}),T.jsx("option",{value:"Study",children:"Study"}),T.jsx("option",{value:"Other",children:"Other"})]})]})]}),t.length===0&&T.jsxs("div",{className:"text-center py-12",children:[T.jsx("p",{className:"text-gray-600 text-lg",children:"No pending tasks. "}),T.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Great job staying on top of your tasks!"})]}),T.jsx("div",{className:"grid gap-4 sm:gap-6",children:t.filter(E=>c==="All"||E.category===c).sort((E,C)=>{if(a==="priority"){const D={High:1,Medium:2,Low:3};return(D[E.priority]||4)-(D[C.priority]||4)}else if(a==="dueDate"){const D=E.dueDate?.toDate?E.dueDate.toDate():new Date(E.dueDate||0),M=C.dueDate?.toDate?C.dueDate.toDate():new Date(C.dueDate||0);return D-M}return 0}).map(E=>T.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all p-4 sm:p-6 space-y-4 border border-purple-100",children:T.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-purple-800 mb-2",children:E.title}),T.jsx("p",{className:"text-gray-600 text-sm sm:text-base mb-3",children:E.description}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-xs sm:text-sm text-gray-500",children:[E.dueDate&&T.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Due: ",Kb(E.dueDate.toDate?E.dueDate.toDate():new Date(E.dueDate),"dd MMM yyyy, p")]}),T.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded",children:E.category}),T.jsx("span",{className:`px-2 py-1 rounded ${E.priority==="High"?"bg-red-100 text-red-700":E.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:E.priority}),E.duration&&T.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:E.duration}),E.highPriority&&T.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded font-semibold",children:" High Priority"})]}),E.tags?.length>0&&T.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:E.tags.map((C,D)=>T.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs",children:["#",C]},D))})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-col sm:gap-2",children:[T.jsx("button",{onClick:()=>x(E.id),className:"flex-1 sm:flex-none text-xs sm:text-sm px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:" Complete"}),T.jsx(on,{to:`/edit/${E.id}`,className:"flex-1 sm:flex-none text-xs sm:text-sm px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-center",children:" Edit"}),T.jsx("button",{onClick:()=>{_(E),p(!0)},className:"flex-1 sm:flex-none text-xs sm:text-sm px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:" Delete"})]})]})},E.id))})]}),d&&y&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-sm space-y-4",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:" Confirm Delete"}),T.jsxs("p",{className:"text-sm text-gray-600",children:["Are you sure you want to delete ",T.jsx("strong",{children:y.title}),"?"]}),T.jsxs("div",{className:"flex gap-3 justify-end",children:[T.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 text-sm font-medium transition-colors",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await x2(ps(ri,"tasks",y.id)),Qt.success("Task deleted!")}catch(E){console.error(E),Qt.error("Failed to delete task")}finally{p(!1),_(null)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})}function N8(){const{user:e}=bs(),[t,n]=U.useState([]);U.useEffect(()=>{if(!e)return;const a=eg(bf(ri,"tasks"),Cu("uid","==",e.uid),Cu("completed","==",!0)),l=ig(a,c=>{const h=c.docs.map(d=>({id:d.id,...d.data()}));n(h)});return()=>l()},[e]);const i=async a=>{try{await Pb(ps(ri,"tasks",a),{completed:!1}),Qt.success("Task moved back to pending!")}catch(l){console.error("Failed to move back:",l),Qt.error("Something went wrong!")}},s=async a=>{if(window.confirm("Are you sure you want to delete this task?"))try{await x2(ps(ri,"tasks",a)),Qt.success("Task deleted!")}catch(l){console.error("Failed to delete task:",l),Qt.error("Something went wrong!")}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700 mb-4",children:" Completed Tasks"}),t.length===0&&T.jsxs("div",{className:"text-center py-12",children:[T.jsx("p",{className:"text-gray-600 text-lg",children:"No completed tasks yet. "}),T.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Start completing tasks to see them here!"})]}),T.jsx("div",{className:"grid gap-4 sm:gap-6",children:t.map(a=>T.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all p-4 sm:p-6 space-y-4 border border-purple-100",children:T.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-purple-800 line-through mb-2",children:a.title}),T.jsx("p",{className:"text-gray-600 text-sm sm:text-base mb-3",children:a.description}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-xs sm:text-sm text-gray-500",children:[a.dueDate&&T.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Due: ",Kb(a.dueDate.toDate?a.dueDate.toDate():new Date(a.dueDate),"dd MMM yyyy, p")]}),T.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded",children:a.category}),T.jsx("span",{className:`px-2 py-1 rounded ${a.priority==="High"?"bg-red-100 text-red-700":a.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:a.priority}),a.duration&&T.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded",children:a.duration}),a.highPriority&&T.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded font-semibold",children:" High Priority"})]}),a.tags?.length>0&&T.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:a.tags.map((l,c)=>T.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs",children:["#",l]},c))})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-col sm:gap-2",children:[T.jsx("button",{onClick:()=>i(a.id),className:"flex-1 sm:flex-none text-xs sm:text-sm px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-medium",children:" Move to Pending"}),T.jsx("button",{onClick:()=>s(a.id),className:"flex-1 sm:flex-none text-xs sm:text-sm px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:" Delete"})]})]})},a.id))})]})})}function V8(){const[e,t]=U.useState(""),[n,i]=U.useState(!1),[s,a]=U.useState(""),[l,c]=U.useState(!1),[h,d]=U.useState(""),[p,y]=U.useState(null),[_,x]=U.useState(""),E=Ka(),C=_s();U.useEffect(()=>{C.state?.fromSignup&&(x("Account created successfully! Please log in."),E(C.pathname,{replace:!0}))},[C,E]);const D=async L=>{if(L.preventDefault(),y(null),!XA.isAllowed(e)){y("Too many login attempts. Please wait a moment and try again.");return}if(!e||!s){y("Please enter both email and password.");return}if(!K0(e)){y("Please enter a valid email address.");return}i(!0);try{await vj(Ra,l?MD:Q_),await mj(Ra,e,s),XA.reset(e),E("/")}catch(H){y(Gv(H))}finally{i(!1)}},M=async()=>{y(null);try{const H=(await BD(Ra,E2)).user;await hp(ps(ri,"users",H.uid),{fullName:H.displayName||"",username:H.email.split("@")[0],email:H.email,createdAt:Ci(),updatedAt:Ci()}),E("/")}catch(L){y(Gv(L))}},F=async()=>{if(y(null),!h){y("Please enter your email to reset password.");return}if(!K0(h)){y("Please enter a valid email address.");return}try{await fj(Ra,h),alert("Password reset email sent. Check your inbox.")}catch(L){y(Gv(L))}};return T.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:[T.jsx("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center px-4 sm:px-6 lg:px-16 py-8 lg:py-0",children:T.jsxs("div",{className:"w-full max-w-md",children:[T.jsx("img",{src:"/TaskMaster/logo.jpg",alt:"Logo",className:"w-24 sm:w-36 mb-6 sm:mb-8 mx-auto"}),T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2 text-center",children:"Welcome back"}),T.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Please enter your details"}),p&&T.jsx("div",{className:"mb-4 text-sm text-red-600 bg-red-100 border border-red-200 rounded-lg p-3",children:p}),_&&T.jsx("div",{className:"mb-4 text-sm text-green-600 bg-green-100 border border-green-200 rounded-lg p-3",children:_}),T.jsxs("form",{onSubmit:D,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),T.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",value:e,onChange:L=>{t(L.target.value),d(L.target.value)},required:!0,placeholder:"Enter your email"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),T.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",value:s,onChange:L=>a(L.target.value),required:!0,placeholder:"Enter your password"})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-sm text-gray-600 space-y-2 sm:space-y-0",children:[T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",className:"mr-2 rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:l,onChange:()=>c(!l)}),"Remember for 30 days"]}),T.jsx("button",{type:"button",onClick:F,className:"text-purple-600 hover:text-purple-700 hover:underline transition-colors",children:"Forgot password?"})]}),T.jsx("button",{type:"submit",disabled:n,className:`w-full flex items-center justify-center bg-purple-600 text-white py-3 px-4 rounded-lg font-medium transition-colors ${n?"opacity-70 cursor-not-allowed":"hover:bg-purple-700"}`,children:n?T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 11-8 8z"})]}),"Logging in..."]}):"Log in"})]}),T.jsxs("div",{className:"my-6 flex items-center justify-center text-gray-500",children:[T.jsx("div",{className:"flex-1 border-t border-gray-300"}),T.jsx("span",{className:"px-4 text-sm",children:"OR"}),T.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),T.jsxs("button",{onClick:M,className:"w-full bg-white text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors border border-gray-300 flex items-center justify-center",children:[T.jsx("img",{src:"/TaskMaster/google-color.svg",alt:"Google",className:"w-5 h-5 mr-3 bg-white rounded-full p-[1px]"}),"Log in with Google"]}),T.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",T.jsx(on,{to:"/signup",className:"text-purple-600 font-medium hover:text-purple-700 hover:underline transition-colors",children:"Sign up"})]})]})}),T.jsx("div",{className:"hidden lg:block lg:w-1/2 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/TaskMaster/bg.jpg')"}})]})}const vO=U.createContext({});function L8(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xb=typeof window<"u",j8=Xb?U.useLayoutEffect:U.useEffect,Qb=U.createContext(null);function Zb(e,t){e.indexOf(t)===-1&&e.push(t)}function Jb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Fr=(e,t,n)=>n>t?t:n<e?e:n;let tx=()=>{};const zr={},_O=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function bO(e){return typeof e=="object"&&e!==null}const xO=e=>/^0[^.\s]+$/u.test(e);function ex(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zi=e=>e,U8=(e,t)=>n=>t(e(n)),Sf=(...e)=>e.reduce(U8),Xh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class nx{constructor(){this.subscriptions=[]}add(t){return Zb(this.subscriptions,t),()=>Jb(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ks=e=>e*1e3,Xs=e=>e/1e3;function wO(e,t){return t?e*(1e3/t):0}const TO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,B8=1e-7,F8=12;function z8(e,t,n,i,s){let a,l,c=0;do l=t+(n-t)/2,a=TO(l,i,s)-e,a>0?n=l:t=l;while(Math.abs(a)>B8&&++c<F8);return l}function Af(e,t,n,i){if(e===t&&n===i)return Zi;const s=a=>z8(a,0,1,e,n);return a=>a===0||a===1?a:TO(s(a),t,i)}const EO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SO=e=>t=>1-e(1-t),AO=Af(.33,1.53,.69,.99),ix=SO(AO),RO=EO(ix),CO=e=>(e*=2)<1?.5*ix(e):.5*(2-Math.pow(2,-10*(e-1))),sx=e=>1-Math.sin(Math.acos(e)),DO=SO(sx),IO=EO(sx),H8=Af(.42,0,1,1),q8=Af(0,0,.58,1),OO=Af(.42,0,.58,1),W8=e=>Array.isArray(e)&&typeof e[0]!="number",MO=e=>Array.isArray(e)&&typeof e[0]=="number",Y8={linear:Zi,easeIn:H8,easeInOut:OO,easeOut:q8,circIn:sx,circInOut:IO,circOut:DO,backIn:ix,backInOut:RO,backOut:AO,anticipate:CO},G8=e=>typeof e=="string",iR=e=>{if(MO(e)){tx(e.length===4);const[t,n,i,s]=e;return Af(t,n,i,s)}else if(G8(e))return Y8[e];return e},vm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sR={value:null};function $8(e,t){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function d(y){l.has(y)&&(p.schedule(y),e()),h++,y(c)}const p={schedule:(y,_=!1,x=!1)=>{const C=x&&s?n:i;return _&&l.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),l.delete(y)},process:y=>{if(c=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(d),t&&sR.value&&sR.value.frameloop[t].push(h),h=0,n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const K8=40;function kO(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=vm.reduce((L,H)=>(L[H]=$8(a,t?H:void 0),L),{}),{setup:c,read:h,resolveKeyframes:d,preUpdate:p,update:y,preRender:_,render:x,postRender:E}=l,C=()=>{const L=zr.useManualTiming?s.timestamp:performance.now();n=!1,zr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(L-s.timestamp,K8),1)),s.timestamp=L,s.isProcessing=!0,c.process(s),h.process(s),d.process(s),p.process(s),y.process(s),_.process(s),x.process(s),E.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(C))},D=()=>{n=!0,i=!0,s.isProcessing||e(C)};return{schedule:vm.reduce((L,H)=>{const W=l[H];return L[H]=(nt,N=!1,w=!1)=>(n||D(),W.schedule(nt,N,w)),L},{}),cancel:L=>{for(let H=0;H<vm.length;H++)l[vm[H]].cancel(L)},state:s,steps:l}}const{schedule:Fe,cancel:Ga,state:Nn,steps:Kv}=kO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zi,!0);let Um;function X8(){Um=void 0}const mi={now:()=>(Um===void 0&&mi.set(Nn.isProcessing||zr.useManualTiming?Nn.timestamp:performance.now()),Um),set:e=>{Um=e,queueMicrotask(X8)}},PO=e=>t=>typeof t=="string"&&t.startsWith(e),rx=PO("--"),Q8=PO("var(--"),ax=e=>Q8(e)?Z8.test(e.split("/*")[0].trim()):!1,Z8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qh={...qu,transform:e=>Fr(0,1,e)},_m={...qu,default:1},Ih=e=>Math.round(e*1e5)/1e5,ox=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function J8(e){return e==null}const tH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lx=(e,t)=>n=>!!(typeof n=="string"&&tH.test(n)&&n.startsWith(e)||t&&!J8(n)&&Object.prototype.hasOwnProperty.call(n,t)),NO=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(ox);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},eH=e=>Fr(0,255,e),Xv={...qu,transform:e=>Math.round(eH(e))},Yo={test:lx("rgb","red"),parse:NO("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Xv.transform(e)+", "+Xv.transform(t)+", "+Xv.transform(n)+", "+Ih(Qh.transform(i))+")"};function nH(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const X0={test:lx("#"),parse:nH,transform:Yo.transform},Rf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xa=Rf("deg"),Qs=Rf("%"),kt=Rf("px"),iH=Rf("vh"),sH=Rf("vw"),rR={...Qs,parse:e=>Qs.parse(e)/100,transform:e=>Qs.transform(e*100)},lu={test:lx("hsl","hue"),parse:NO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Qs.transform(Ih(t))+", "+Qs.transform(Ih(n))+", "+Ih(Qh.transform(i))+")"},ln={test:e=>Yo.test(e)||X0.test(e)||lu.test(e),parse:e=>Yo.test(e)?Yo.parse(e):lu.test(e)?lu.parse(e):X0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yo.transform(e):lu.transform(e),getAnimatableNone:e=>{const t=ln.parse(e);return t.alpha=0,ln.transform(t)}},rH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aH(e){return isNaN(e)&&typeof e=="string"&&(e.match(ox)?.length||0)+(e.match(rH)?.length||0)>0}const VO="number",LO="color",oH="var",lH="var(",aR="${}",uH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zh(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=t.replace(uH,h=>(ln.test(h)?(i.color.push(a),s.push(LO),n.push(ln.parse(h))):h.startsWith(lH)?(i.var.push(a),s.push(oH),n.push(h)):(i.number.push(a),s.push(VO),n.push(parseFloat(h))),++a,aR)).split(aR);return{values:n,split:c,indexes:i,types:s}}function jO(e){return Zh(e).values}function UO(e){const{split:t,types:n}=Zh(e),i=t.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=t[l],s[l]!==void 0){const c=n[l];c===VO?a+=Ih(s[l]):c===LO?a+=ln.transform(s[l]):a+=s[l]}return a}}const cH=e=>typeof e=="number"?0:ln.test(e)?ln.getAnimatableNone(e):e;function hH(e){const t=jO(e);return UO(e)(t.map(cH))}const $a={test:aH,parse:jO,createTransformer:UO,getAnimatableNone:hH};function Qv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fH({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,l=0;if(!t)s=a=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,h=2*n-c;s=Qv(h,c,e+1/3),a=Qv(h,c,e),l=Qv(h,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function Sp(e,t){return n=>n>0?t:e}const Be=(e,t,n)=>e+(t-e)*n,Zv=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},dH=[X0,Yo,lu],mH=e=>dH.find(t=>t.test(e));function oR(e){const t=mH(e);if(!t)return!1;let n=t.parse(e);return t===lu&&(n=fH(n)),n}const lR=(e,t)=>{const n=oR(e),i=oR(t);if(!n||!i)return Sp(e,t);const s={...n};return a=>(s.red=Zv(n.red,i.red,a),s.green=Zv(n.green,i.green,a),s.blue=Zv(n.blue,i.blue,a),s.alpha=Be(n.alpha,i.alpha,a),Yo.transform(s))},Q0=new Set(["none","hidden"]);function pH(e,t){return Q0.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gH(e,t){return n=>Be(e,t,n)}function ux(e){return typeof e=="number"?gH:typeof e=="string"?ax(e)?Sp:ln.test(e)?lR:_H:Array.isArray(e)?BO:typeof e=="object"?ln.test(e)?lR:yH:Sp}function BO(e,t){const n=[...e],i=n.length,s=e.map((a,l)=>ux(a)(a,t[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function yH(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=ux(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function vH(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],l=e.indexes[a][i[a]],c=e.values[l]??0;n[s]=c,i[a]++}return n}const _H=(e,t)=>{const n=$a.createTransformer(t),i=Zh(e),s=Zh(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Q0.has(e)&&!s.values.length||Q0.has(t)&&!i.values.length?pH(e,t):Sf(BO(vH(i,s),s.values),n):Sp(e,t)};function FO(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Be(e,t,n):ux(e)(e,t)}const bH=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Fe.update(t,n),stop:()=>Ga(t),now:()=>Nn.isProcessing?Nn.timestamp:mi.now()}},zO=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ap=2e4;function cx(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Ap;)t+=n,i=e.next(t);return t>=Ap?1/0:t}function xH(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(cx(i),Ap);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:Xs(s)}}const wH=5;function HO(e,t,n){const i=Math.max(t-wH,0);return wO(n-e(i),t-i)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jv=.001;function TH({duration:e=Ye.duration,bounce:t=Ye.bounce,velocity:n=Ye.velocity,mass:i=Ye.mass}){let s,a,l=1-t;l=Fr(Ye.minDamping,Ye.maxDamping,l),e=Fr(Ye.minDuration,Ye.maxDuration,Xs(e)),l<1?(s=d=>{const p=d*l,y=p*e,_=p-n,x=Z0(d,l),E=Math.exp(-y);return Jv-_/x*E},a=d=>{const y=d*l*e,_=y*n+n,x=Math.pow(l,2)*Math.pow(d,2)*e,E=Math.exp(-y),C=Z0(Math.pow(d,2),l);return(-s(d)+Jv>0?-1:1)*((_-x)*E)/C}):(s=d=>{const p=Math.exp(-d*e),y=(d-n)*e+1;return-Jv+p*y},a=d=>{const p=Math.exp(-d*e),y=(n-d)*(e*e);return p*y});const c=5/e,h=SH(s,a,c);if(e=Ks(e),isNaN(h))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:e};{const d=Math.pow(h,2)*i;return{stiffness:d,damping:l*2*Math.sqrt(i*d),duration:e}}}const EH=12;function SH(e,t,n){let i=n;for(let s=1;s<EH;s++)i=i-e(i)/t(i);return i}function Z0(e,t){return e*Math.sqrt(1-t*t)}const AH=["duration","bounce"],RH=["stiffness","damping","mass"];function uR(e,t){return t.some(n=>e[n]!==void 0)}function CH(e){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...e};if(!uR(e,RH)&&uR(e,AH))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ye.mass,stiffness:s,damping:a}}else{const n=TH(e);t={...t,...n,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function Rp(e=Ye.visualDuration,t=Ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:d,mass:p,duration:y,velocity:_,isResolvedFromDuration:x}=CH({...n,velocity:-Xs(n.velocity||0)}),E=_||0,C=d/(2*Math.sqrt(h*p)),D=l-a,M=Xs(Math.sqrt(h/p)),F=Math.abs(D)<5;i||(i=F?Ye.restSpeed.granular:Ye.restSpeed.default),s||(s=F?Ye.restDelta.granular:Ye.restDelta.default);let L;if(C<1){const W=Z0(M,C);L=nt=>{const N=Math.exp(-C*M*nt);return l-N*((E+C*M*D)/W*Math.sin(W*nt)+D*Math.cos(W*nt))}}else if(C===1)L=W=>l-Math.exp(-M*W)*(D+(E+M*D)*W);else{const W=M*Math.sqrt(C*C-1);L=nt=>{const N=Math.exp(-C*M*nt),w=Math.min(W*nt,300);return l-N*((E+C*M*D)*Math.sinh(w)+W*D*Math.cosh(w))/W}}const H={calculatedDuration:x&&y||null,next:W=>{const nt=L(W);if(x)c.done=W>=y;else{let N=W===0?E:0;C<1&&(N=W===0?Ks(E):HO(L,W,nt));const w=Math.abs(N)<=i,A=Math.abs(l-nt)<=s;c.done=w&&A}return c.value=c.done?l:nt,c},toString:()=>{const W=Math.min(cx(H),Ap),nt=zO(N=>H.next(W*N).value,W,30);return W+"ms "+nt},toTransition:()=>{}};return H}Rp.applyToOptions=e=>{const t=xH(e,100,Rp);return e.ease=t.ease,e.duration=Ks(t.duration),e.type="keyframes",e};function J0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:p}){const y=e[0],_={done:!1,value:y},x=w=>c!==void 0&&w<c||h!==void 0&&w>h,E=w=>c===void 0?h:h===void 0||Math.abs(c-w)<Math.abs(h-w)?c:h;let C=n*t;const D=y+C,M=l===void 0?D:l(D);M!==D&&(C=M-y);const F=w=>-C*Math.exp(-w/i),L=w=>M+F(w),H=w=>{const A=F(w),I=L(w);_.done=Math.abs(A)<=d,_.value=_.done?M:I};let W,nt;const N=w=>{x(_.value)&&(W=w,nt=Rp({keyframes:[_.value,E(_.value)],velocity:HO(L,w,_.value),damping:s,stiffness:a,restDelta:d,restSpeed:p}))};return N(0),{calculatedDuration:null,next:w=>{let A=!1;return!nt&&W===void 0&&(A=!0,H(w),N(w)),W!==void 0&&w>=W?nt.next(w-W):(!A&&H(w),_)}}}function DH(e,t,n){const i=[],s=n||zr.mix||FO,a=e.length-1;for(let l=0;l<a;l++){let c=s(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Zi:t;c=Sf(h,c)}i.push(c)}return i}function IH(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(tx(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=DH(t,i,s),h=c.length,d=p=>{if(l&&p<e[0])return t[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const _=Xh(e[y],e[y+1],p);return c[y](_)};return n?p=>d(Fr(e[0],e[a-1],p)):d}function OH(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Xh(0,t,i);e.push(Be(n,1,s))}}function MH(e){const t=[0];return OH(t,e.length-1),t}function kH(e,t){return e.map(n=>n*t)}function PH(e,t){return e.map(()=>t||OO).splice(0,e.length-1)}function Oh({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=W8(i)?i.map(iR):iR(i),a={done:!1,value:t[0]},l=kH(n&&n.length===t.length?n:MH(t),e),c=IH(l,t,{ease:Array.isArray(s)?s:PH(t,s)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const NH=e=>e!==null;function hx(e,{repeat:t,repeatType:n="loop"},i,s=1){const a=e.filter(NH),c=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const VH={decay:J0,inertia:J0,tween:Oh,keyframes:Oh,spring:Rp};function qO(e){typeof e.type=="string"&&(e.type=VH[e.type])}class fx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const LH=e=>e/100;class dx extends fx{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==mi.now()&&this.tick(mi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qO(t);const{type:n=Oh,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=t;let{keyframes:c}=t;const h=n||Oh;h!==Oh&&typeof c[0]!="number"&&(this.mixKeyframes=Sf(LH,FO(c[0],c[1])),c=[0,100]);const d=h({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=cx(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:p,repeat:y,repeatType:_,repeatDelay:x,type:E,onUpdate:C,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-d*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let L=this.currentTime,H=i;if(y){const w=Math.min(this.currentTime,s)/c;let A=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&A--,A=Math.min(A,y+1),!!(A%2)&&(_==="reverse"?(I=1-I,x&&(I-=x/c)):_==="mirror"&&(H=l)),L=Fr(0,1,I)*c}const W=F?{done:!1,value:p[0]}:H.next(L);a&&(W.value=a(W.value));let{done:nt}=W;!F&&h!==null&&(nt=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&nt);return N&&E!==J0&&(W.value=hx(p,this.options,D,this.speed)),C&&C(W.value),N&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return Xs(this.calculatedDuration)}get time(){return Xs(this.currentTime)}set time(t){t=Ks(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=bH,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jH(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Go=e=>e*180/Math.PI,t_=e=>{const t=Go(Math.atan2(e[1],e[0]));return e_(t)},UH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:t_,rotateZ:t_,skewX:e=>Go(Math.atan(e[1])),skewY:e=>Go(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e_=e=>(e=e%360,e<0&&(e+=360),e),cR=t_,hR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hR,scaleY:fR,scale:e=>(hR(e)+fR(e))/2,rotateX:e=>e_(Go(Math.atan2(e[6],e[5]))),rotateY:e=>e_(Go(Math.atan2(-e[2],e[0]))),rotateZ:cR,rotate:cR,skewX:e=>Go(Math.atan(e[4])),skewY:e=>Go(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function n_(e){return e.includes("scale")?1:0}function i_(e,t){if(!e||e==="none")return n_(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=BH,s=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=UH,s=c}if(!s)return n_(t);const a=i[t],l=s[1].split(",").map(zH);return typeof a=="function"?a(l):l[a]}const FH=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return i_(n,t)};function zH(e){return parseFloat(e.trim())}const Wu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yu=new Set(Wu),dR=e=>e===qu||e===kt,HH=new Set(["x","y","z"]),qH=Wu.filter(e=>!HH.has(e));function WH(e){const t=[];return qH.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Xo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>i_(t,"x"),y:(e,{transform:t})=>i_(t,"y")};Xo.translateX=Xo.x;Xo.translateY=Xo.y;const Qo=new Set;let s_=!1,r_=!1,a_=!1;function WO(){if(r_){const e=Array.from(Qo).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=WH(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{i.getValue(a)?.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}r_=!1,s_=!1,Qo.forEach(e=>e.complete(a_)),Qo.clear()}function YO(){Qo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(r_=!0)})}function YH(){a_=!0,YO(),WO(),a_=!1}class mx{constructor(t,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Qo.add(this),s_||(s_=!0,Fe.read(YO),Fe.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const a=s?.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const c=i.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}jH(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qo.delete(this)}cancel(){this.state==="scheduled"&&(Qo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GH=e=>e.startsWith("--");function $H(e,t,n){GH(t)?e.style.setProperty(t,n):e.style[t]=n}const KH=ex(()=>window.ScrollTimeline!==void 0),XH={};function QH(e,t){const n=ex(e);return()=>XH[t]??n()}const GO=QH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yh=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,mR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yh([0,.65,.55,1]),circOut:yh([.55,0,1,.45]),backIn:yh([.31,.01,.66,-.59]),backOut:yh([.33,1.53,.69,.99])};function $O(e,t){if(e)return typeof e=="function"?GO()?zO(e,t):"ease-out":MO(e)?yh(e):Array.isArray(e)?e.map(n=>$O(n,t)||mR.easeOut):mR[e]}function ZH(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:h}={},d=void 0){const p={[t]:n};h&&(p.offset=h);const y=$O(c,s);Array.isArray(y)&&(p.easing=y);const _={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(_.pseudoElement=d),e.animate(p,_)}function KO(e){return typeof e=="function"&&"applyToOptions"in e}function JH({type:e,...t}){return KO(e)&&GO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tq extends fx{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,tx(typeof t.type!="string");const d=JH(t);this.animation=ZH(n,i,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=hx(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):$H(n,i,p),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Xs(Number(t))}get time(){return Xs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ks(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&KH()?(this.animation.timeline=t,Zi):n(this)}}const XO={anticipate:CO,backInOut:RO,circInOut:IO};function eq(e){return e in XO}function nq(e){typeof e.ease=="string"&&eq(e.ease)&&(e.ease=XO[e.ease])}const pR=10;class iq extends tq{constructor(t){nq(t),qO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new dx({...l,autoplay:!1}),h=Ks(this.finishedTime??this.time);n.setWithVelocity(c.sample(h-pR).value,c.sample(h).value,pR),c.stop()}}const gR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($a.test(e)||e==="0")&&!e.startsWith("url("));function sq(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function rq(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=gR(s,t),c=gR(a,t);return!l||!c?!1:sq(e)||(n==="spring"||KO(n))&&i}function QO(e){return bO(e)&&"offsetHeight"in e}const aq=new Set(["opacity","clipPath","filter","transform"]),oq=ex(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lq(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=e;if(!QO(t?.owner?.current))return!1;const{onUpdate:c,transformTemplate:h}=t.owner.getProps();return oq()&&n&&aq.has(n)&&(n!=="transform"||!h)&&!c&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const uq=40;class cq extends fx{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:d,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mi.now();const _={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:h,motionValue:d,element:p,...y},x=p?.KeyframeResolver||mx;this.keyframeResolver=new x(c,(E,C,D)=>this.onKeyframesResolved(E,C,_,!D),h,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:h,isHandoff:d,onUpdate:p}=i;this.resolvedAt=mi.now(),rq(t,a,l,c)||((zr.instantAnimations||!h)&&p?.(hx(t,i,n)),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>uq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},x=!d&&lq(_)?new iq({..._,element:_.motionValue.owner.current}):new dx(_);x.finished.then(()=>this.notifyFinished()).catch(Zi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YH()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fq(e){const t=hq.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function ZO(e,t,n=1){const[i,s]=fq(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const l=a.trim();return _O(l)?parseFloat(l):l}return ax(s)?ZO(s,t,n+1):s}function px(e,t){return e?.[t]??e?.default??e}const JO=new Set(["width","height","top","left","right","bottom",...Wu]),dq={test:e=>e==="auto",parse:e=>e},tM=e=>t=>t.test(e),eM=[qu,kt,Qs,xa,sH,iH,dq],yR=e=>eM.find(tM(e));function mq(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xO(e):!0}const pq=new Set(["brightness","contrast","saturate","opacity"]);function gq(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(ox)||[];if(!i)return e;const s=n.replace(i,"");let a=pq.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const yq=/\b([a-z-]*)\(.*?\)/gu,o_={...$a,getAnimatableNone:e=>{const t=e.match(yq);return t?t.map(gq).join(" "):e}},vR={...qu,transform:Math.round},vq={rotate:xa,rotateX:xa,rotateY:xa,rotateZ:xa,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:xa,skewX:xa,skewY:xa,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:Qh,originX:rR,originY:rR,originZ:kt},gx={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt,...vq,zIndex:vR,fillOpacity:Qh,strokeOpacity:Qh,numOctaves:vR},_q={...gx,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:o_,WebkitFilter:o_},nM=e=>_q[e];function iM(e,t){let n=nM(e);return n!==o_&&(n=$a),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bq=new Set(["auto","none","0"]);function xq(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!bq.has(a)&&Zh(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=iM(n,s)}class wq extends mx{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let d=t[h];if(typeof d=="string"&&(d=d.trim(),ax(d))){const p=ZO(d,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!JO.has(i)||t.length!==2)return;const[s,a]=t,l=yR(s),c=yR(a);if(l!==c)if(dR(l)&&dR(c))for(let h=0;h<t.length;h++){const d=t[h];typeof d=="string"&&(t[h]=parseFloat(d))}else Xo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||mq(t[s]))&&i.push(s);i.length&&xq(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=Xo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,h])=>{t.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function Tq(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const sM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_R=30,Eq=e=>!isNaN(parseFloat(e));class Sq{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const a=mi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Eq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new nx);const i=this.events[t].add(n);return t==="change"?()=>{i(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_R)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_R);return wO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Iu(e,t){return new Sq(e,t)}const{schedule:yx}=kO(queueMicrotask,!1),cs={x:!1,y:!1};function rM(){return cs.x||cs.y}function Aq(e){return e==="x"||e==="y"?cs[e]?null:(cs[e]=!0,()=>{cs[e]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function aM(e,t){const n=Tq(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function bR(e){return!(e.pointerType==="touch"||rM())}function Rq(e,t,n={}){const[i,s,a]=aM(e,n),l=c=>{if(!bR(c))return;const{target:h}=c,d=t(h,c);if(typeof d!="function"||!h)return;const p=y=>{bR(y)&&(d(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const oM=(e,t)=>t?e===t?!0:oM(e,t.parentElement):!1,vx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dq(e){return Cq.has(e.tagName)||e.tabIndex!==-1}const Bm=new WeakSet;function xR(e){return t=>{t.key==="Enter"&&e(t)}}function t0(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Iq=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=xR(()=>{if(Bm.has(n))return;t0(n,"down");const s=xR(()=>{t0(n,"up")}),a=()=>t0(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function wR(e){return vx(e)&&!rM()}function Oq(e,t,n={}){const[i,s,a]=aM(e,n),l=c=>{const h=c.currentTarget;if(!wR(c))return;Bm.add(h);const d=t(h,c),p=(x,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Bm.has(h)&&Bm.delete(h),wR(x)&&typeof d=="function"&&d(x,{success:E})},y=x=>{p(x,h===window||h===document||n.useGlobalTarget||oM(h,x.target))},_=x=>{p(x,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),QO(c)&&(c.addEventListener("focus",d=>Iq(d,s)),!Dq(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function lM(e){return bO(e)&&"ownerSVGElement"in e}function Mq(e){return lM(e)&&e.tagName==="svg"}const $n=e=>!!(e&&e.getVelocity),kq=[...eM,ln,$a],Pq=e=>kq.find(tM(e)),uM=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Nq(e=!0){const t=U.useContext(Qb);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=U.useId();U.useEffect(()=>{if(e)return s(a)},[e]);const l=U.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,l]:[!0]}const cM=U.createContext({strict:!1}),TR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ou={};for(const e in TR)Ou[e]={isEnabled:t=>TR[e].some(n=>!!t[n])};function Vq(e){for(const t in e)Ou[t]={...Ou[t],...e[t]}}const Lq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lq.has(e)}let hM=e=>!Cp(e);function jq(e){typeof e=="function"&&(hM=t=>t.startsWith("on")?!Cp(t):e(t))}try{jq(require("@emotion/is-prop-valid").default)}catch{}function Uq(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(hM(s)||n===!0&&Cp(s)||!t&&!Cp(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}function Bq(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const fg=U.createContext({});function dg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Jh(e){return typeof e=="string"||Array.isArray(e)}const _x=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bx=["initial",..._x];function mg(e){return dg(e.animate)||bx.some(t=>Jh(e[t]))}function fM(e){return!!(mg(e)||e.variants)}function Fq(e,t){if(mg(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Jh(n)?n:void 0,animate:Jh(i)?i:void 0}}return e.inherit!==!1?t:{}}function zq(e){const{initial:t,animate:n}=Fq(e,U.useContext(fg));return U.useMemo(()=>({initial:t,animate:n}),[ER(t),ER(n)])}function ER(e){return Array.isArray(e)?e.join(" "):e}const Hq=Symbol.for("motionComponentSymbol");function uu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qq(e,t,n){return U.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):uu(n)&&(n.current=i))},[t])}const xx=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wq="framerAppearId",dM="data-"+xx(Wq),mM=U.createContext({});function Yq(e,t,n,i,s){const{visualElement:a}=U.useContext(fg),l=U.useContext(cM),c=U.useContext(Qb),h=U.useContext(uM).reducedMotion,d=U.useRef(null);i=i||l.renderer,!d.current&&i&&(d.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=d.current,y=U.useContext(mM);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Gq(d.current,n,s,y);const _=U.useRef(!1);U.useInsertionEffect(()=>{p&&_.current&&p.update(n,c)});const x=n[dM],E=U.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return j8(()=>{p&&(_.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),yx.render(p.render),E.current&&p.animationState&&p.animationState.animateChanges())}),U.useEffect(()=>{p&&(!E.current&&p.animationState&&p.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),E.current=!1))}),p}function Gq(e,t,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:d,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pM(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&uu(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:h,layoutRoot:d})}function pM(e){if(e)return e.options.allowProjection!==!1?e.projection:pM(e.parent)}function $q({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:s}){e&&Vq(e);function a(c,h){let d;const p={...U.useContext(uM),...c,layoutId:Kq(c)},{isStatic:y}=p,_=zq(c),x=i(c,y);if(!y&&Xb){Xq();const E=Qq(p);d=E.MeasureLayout,_.visualElement=Yq(s,x,p,t,E.ProjectionNode)}return T.jsxs(fg.Provider,{value:_,children:[d&&_.visualElement?T.jsx(d,{visualElement:_.visualElement,...p}):null,n(s,c,qq(x,_.visualElement,h),x,y,_.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=U.forwardRef(a);return l[Hq]=s,l}function Kq({layoutId:e}){const t=U.useContext(vO).id;return t&&e!==void 0?t+"-"+e:e}function Xq(e,t){U.useContext(cM).strict}function Qq(e){const{drag:t,layout:n}=Ou;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const tf={};function Zq(e){for(const t in e)tf[t]=e[t],rx(t)&&(tf[t].isCSSVariable=!0)}function gM(e,{layout:t,layoutId:n}){return Yu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!tf[e]||e==="opacity")}const Jq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tW=Wu.length;function eW(e,t,n){let i="",s=!0;for(let a=0;a<tW;a++){const l=Wu[a],c=e[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const d=sM(c,gx[l]);if(!h){s=!1;const p=Jq[l]||l;i+=`${p}(${d}) `}n&&(t[l]=d)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function wx(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let l=!1,c=!1;for(const h in t){const d=t[h];if(Yu.has(h)){l=!0;continue}else if(rx(h)){s[h]=d;continue}else{const p=sM(d,gx[h]);h.startsWith("origin")?(c=!0,a[h]=p):i[h]=p}}if(t.transform||(l||n?i.transform=eW(t,e.transform,n):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${d} ${p}`}}const Tx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yM(e,t,n){for(const i in t)!$n(t[i])&&!gM(i,n)&&(e[i]=t[i])}function nW({transformTemplate:e},t){return U.useMemo(()=>{const n=Tx();return wx(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iW(e,t){const n=e.style||{},i={};return yM(i,n,e),Object.assign(i,nW(e,t)),i}function sW(e,t){const n={},i=iW(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const rW={offset:"stroke-dashoffset",array:"stroke-dasharray"},aW={offset:"strokeDashoffset",array:"strokeDasharray"};function oW(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?rW:aW;e[a.offset]=kt.transform(-i);const l=kt.transform(t),c=kt.transform(n);e[a.array]=`${l} ${c}`}function vM(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(wx(e,c,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:_}=e;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=p?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),s!==void 0&&oW(y,s,a,l,!1)}const _M=()=>({...Tx(),attrs:{}}),bM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lW(e,t,n,i){const s=U.useMemo(()=>{const a=_M();return vM(a,t,bM(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};yM(a,e.style,e),s.style={...a,...s.style}}return s}const uW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ex(e){return typeof e!="string"||e.includes("-")?!1:!!(uW.indexOf(e)>-1||/[A-Z]/u.test(e))}function cW(e=!1){return(n,i,s,{latestValues:a},l)=>{const h=(Ex(n)?lW:sW)(i,a,l,n),d=Uq(i,typeof n=="string",e),p=n!==U.Fragment?{...d,...h,ref:s}:{},{children:y}=i,_=U.useMemo(()=>$n(y)?y.get():y,[y]);return U.createElement(n,{...p,children:_})}}function SR(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Sx(e,t,n,i){if(typeof t=="function"){const[s,a]=SR(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=SR(i);t=t(n!==void 0?n:e.custom,s,a)}return t}function Fm(e){return $n(e)?e.get():e}function hW({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:fW(n,i,s,e),renderState:t()}}const xM=e=>(t,n)=>{const i=U.useContext(fg),s=U.useContext(Qb),a=()=>hW(e,t,i,s);return n?a():L8(a)};function fW(e,t,n,i){const s={},a=i(e,{});for(const _ in a)s[_]=Fm(a[_]);let{initial:l,animate:c}=e;const h=mg(e),d=fM(e);t&&d&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!dg(y)){const _=Array.isArray(y)?y:[y];for(let x=0;x<_.length;x++){const E=Sx(e,_[x]);if(E){const{transitionEnd:C,transition:D,...M}=E;for(const F in M){let L=M[F];if(Array.isArray(L)){const H=p?L.length-1:0;L=L[H]}L!==null&&(s[F]=L)}for(const F in C)s[F]=C[F]}}}return s}function Ax(e,t,n){const{style:i}=e,s={};for(const a in i)($n(i[a])||t.style&&$n(t.style[a])||gM(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=i[a]);return s}const dW={useVisualState:xM({scrapeMotionValuesFromProps:Ax,createRenderState:Tx})};function wM(e,t,n){const i=Ax(e,t,n);for(const s in e)if($n(e[s])||$n(t[s])){const a=Wu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const mW={useVisualState:xM({scrapeMotionValuesFromProps:wM,createRenderState:_M})};function pW(e,t){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Ex(i)?mW:dW,preloadedFeatures:e,useRender:cW(s),createVisualElement:t,Component:i};return $q(l)}}function ef(e,t,n){const i=e.getProps();return Sx(i,t,n!==void 0?n:i.custom,e)}const l_=e=>Array.isArray(e);function gW(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Iu(n))}function yW(e){return l_(e)?e[e.length-1]||0:e}function vW(e,t){const n=ef(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=yW(a[l]);gW(e,l,c)}}function _W(e){return!!($n(e)&&e.add)}function u_(e,t){const n=e.getValue("willChange");if(_W(n))return n.add(t);if(!n&&zr.WillChange){const i=new zr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function TM(e){return e.props[dM]}const bW=e=>e!==null;function xW(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(bW),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const wW={type:"spring",stiffness:500,damping:25,restSpeed:10},TW=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EW={type:"keyframes",duration:.8},SW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AW=(e,{keyframes:t})=>t.length>2?EW:Yu.has(e)?e.startsWith("scale")?TW(t[1]):wW:SW;function RW({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:d,...p}){return!!Object.keys(p).length}const Rx=(e,t,n,i={},s,a)=>l=>{const c=px(i,e)||{},h=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Ks(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:_=>{t.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:s};RW(c)||Object.assign(p,AW(e,p)),p.duration&&(p.duration=Ks(p.duration)),p.repeatDelay&&(p.repeatDelay=Ks(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(zr.instantAnimations||zr.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!a&&t.get()!==void 0){const _=xW(p.keyframes,c);if(_!==void 0){Fe.update(()=>{p.onUpdate(_),p.onComplete()});return}}return c.isSync?new dx(p):new cq(p)};function CW({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function EM(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;i&&(a=i);const h=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const p in c){const y=e.getValue(p,e.latestValues[p]??null),_=c[p];if(_===void 0||d&&CW(d,p))continue;const x={delay:n,...px(a||{},p)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===E&&!x.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=TM(e);if(M){const F=window.MotionHandoffAnimation(M,p,Fe);F!==null&&(x.startTime=F,C=!0)}}u_(e,p),y.start(Rx(p,y,_,e.shouldReduceMotion&&JO.has(p)?{type:!1}:x,e,C));const D=y.animation;D&&h.push(D)}return l&&Promise.all(h).then(()=>{Fe.update(()=>{l&&vW(e,l)})}),h}function c_(e,t,n={}){const i=ef(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(EM(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:y}=s;return DW(e,t,d+h,p,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,d]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function DW(e,t,n=0,i=0,s=1,a){const l=[],c=(e.variantChildren.size-1)*i,h=s===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(e.variantChildren).sort(IW).forEach((d,p)=>{d.notify("AnimationStart",t),l.push(c_(d,t,{...a,delay:n+h(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function IW(e,t){return e.sortNodePosition(t)}function OW(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>c_(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=c_(e,t,n);else{const s=typeof t=="function"?ef(e,t,n.custom):t;i=Promise.all(EM(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function SM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const MW=bx.length;function AM(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?AM(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<MW;n++){const i=bx[n],s=e.props[i];(Jh(s)||s===!1)&&(t[i]=s)}return t}const kW=[..._x].reverse(),PW=_x.length;function NW(e){return t=>Promise.all(t.map(({animation:n,options:i})=>OW(e,n,i)))}function VW(e){let t=NW(e),n=AR(),i=!0;const s=h=>(d,p)=>{const y=ef(e,p,h==="exit"?e.presenceContext?.custom:void 0);if(y){const{transition:_,transitionEnd:x,...E}=y;d={...d,...E,...x}}return d};function a(h){t=h(e)}function l(h){const{props:d}=e,p=AM(e.parent)||{},y=[],_=new Set;let x={},E=1/0;for(let D=0;D<PW;D++){const M=kW[D],F=n[M],L=d[M]!==void 0?d[M]:p[M],H=Jh(L),W=M===h?F.isActive:null;W===!1&&(E=D);let nt=L===p[M]&&L!==d[M]&&H;if(nt&&i&&e.manuallyAnimateOnMount&&(nt=!1),F.protectedKeys={...x},!F.isActive&&W===null||!L&&!F.prevProp||dg(L)||typeof L=="boolean")continue;const N=LW(F.prevProp,L);let w=N||M===h&&F.isActive&&!nt&&H||D>E&&H,A=!1;const I=Array.isArray(L)?L:[L];let P=I.reduce(s(M),{});W===!1&&(P={});const{prevResolvedValues:j={}}=F,V={...j,...P},xt=Z=>{w=!0,_.has(Z)&&(A=!0,_.delete(Z)),F.needsAnimating[Z]=!0;const ht=e.getValue(Z);ht&&(ht.liveStyle=!1)};for(const Z in V){const ht=P[Z],ct=j[Z];if(x.hasOwnProperty(Z))continue;let B=!1;l_(ht)&&l_(ct)?B=!SM(ht,ct):B=ht!==ct,B?ht!=null?xt(Z):_.add(Z):ht!==void 0&&_.has(Z)?xt(Z):F.protectedKeys[Z]=!0}F.prevProp=L,F.prevResolvedValues=P,F.isActive&&(x={...x,...P}),i&&e.blockInitialAnimation&&(w=!1),w&&(!(nt&&N)||A)&&y.push(...I.map(Z=>({animation:Z,options:{type:M}})))}if(_.size){const D={};if(typeof d.initial!="boolean"){const M=ef(e,Array.isArray(d.initial)?d.initial[0]:d.initial);M&&M.transition&&(D.transition=M.transition)}_.forEach(M=>{const F=e.getBaseTarget(M),L=e.getValue(M);L&&(L.liveStyle=!0),D[M]=F??null}),y.push({animation:D})}let C=!!y.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(C=!1),i=!1,C?t(y):Promise.resolve()}function c(h,d){if(n[h].isActive===d)return Promise.resolve();e.variantChildren?.forEach(y=>y.animationState?.setActive(h,d)),n[h].isActive=d;const p=l(h);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=AR(),i=!0}}}function LW(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!SM(t,e):!1}function Vo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AR(){return{animate:Vo(!0),whileInView:Vo(),whileHover:Vo(),whileTap:Vo(),whileDrag:Vo(),whileFocus:Vo(),exit:Vo()}}class Ja{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jW extends Ja{constructor(t){super(t),t.animationState||(t.animationState=VW(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UW=0;class BW extends Ja{constructor(){super(...arguments),this.id=UW++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FW={animation:{Feature:jW},exit:{Feature:BW}};function nf(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Cf(e){return{point:{x:e.pageX,y:e.pageY}}}const zW=e=>t=>vx(t)&&e(t,Cf(t));function Mh(e,t,n,i){return nf(e,t,zW(n),i)}function RM({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function HW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const CM=1e-4,WW=1-CM,YW=1+CM,DM=.01,GW=0-DM,$W=0+DM;function si(e){return e.max-e.min}function KW(e,t,n){return Math.abs(e-t)<=n}function RR(e,t,n,i=.5){e.origin=i,e.originPoint=Be(t.min,t.max,e.origin),e.scale=si(n)/si(t),e.translate=Be(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WW&&e.scale<=YW||isNaN(e.scale))&&(e.scale=1),(e.translate>=GW&&e.translate<=$W||isNaN(e.translate))&&(e.translate=0)}function kh(e,t,n,i){RR(e.x,t.x,n.x,i?i.originX:void 0),RR(e.y,t.y,n.y,i?i.originY:void 0)}function CR(e,t,n){e.min=n.min+t.min,e.max=e.min+si(t)}function XW(e,t,n){CR(e.x,t.x,n.x),CR(e.y,t.y,n.y)}function DR(e,t,n){e.min=t.min-n.min,e.max=e.min+si(t)}function Ph(e,t,n){DR(e.x,t.x,n.x),DR(e.y,t.y,n.y)}const IR=()=>({translate:0,scale:1,origin:0,originPoint:0}),cu=()=>({x:IR(),y:IR()}),OR=()=>({min:0,max:0}),Qe=()=>({x:OR(),y:OR()});function Gi(e){return[e("x"),e("y")]}function e0(e){return e===void 0||e===1}function h_({scale:e,scaleX:t,scaleY:n}){return!e0(e)||!e0(t)||!e0(n)}function Fo(e){return h_(e)||IM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IM(e){return MR(e.x)||MR(e.y)}function MR(e){return e&&e!=="0%"}function Dp(e,t,n){const i=e-n,s=t*i;return n+s}function kR(e,t,n,i,s){return s!==void 0&&(e=Dp(e,s,i)),Dp(e,n,i)+t}function f_(e,t=0,n=1,i,s){e.min=kR(e.min,t,n,i,s),e.max=kR(e.max,t,n,i,s)}function OM(e,{x:t,y:n}){f_(e.x,t.translate,t.scale,t.originPoint),f_(e.y,n.translate,n.scale,n.originPoint)}const PR=.999999999999,NR=1.0000000000001;function QW(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&fu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,OM(e,l)),i&&Fo(a.latestValues)&&fu(e,a.latestValues))}t.x<NR&&t.x>PR&&(t.x=1),t.y<NR&&t.y>PR&&(t.y=1)}function hu(e,t){e.min=e.min+t,e.max=e.max+t}function VR(e,t,n,i,s=.5){const a=Be(e.min,e.max,s);f_(e,t,n,a,i)}function fu(e,t){VR(e.x,t.x,t.scaleX,t.scale,t.originX),VR(e.y,t.y,t.scaleY,t.scale,t.originY)}function MM(e,t){return RM(qW(e.getBoundingClientRect(),t))}function ZW(e,t,n){const i=MM(e,n),{scroll:s}=t;return s&&(hu(i.x,s.offset.x),hu(i.y,s.offset.y)),i}const kM=({current:e})=>e?e.ownerDocument.defaultView:null,LR=(e,t)=>Math.abs(e-t);function JW(e,t){const n=LR(e.x,t.x),i=LR(e.y,t.y);return Math.sqrt(n**2+i**2)}class PM{constructor(t,n,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=i0(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=JW(y.offset,{x:0,y:0})>=3;if(!_&&!x)return;const{point:E}=y,{timestamp:C}=Nn;this.history.push({...E,timestamp:C});const{onStart:D,onMove:M}=this.handlers;_||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=n0(_,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:x,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=i0(y.type==="pointercancel"?this.lastMoveEventInfo:n0(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(y,D),E&&E(y,D)},!vx(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=s||window;const l=Cf(t),c=n0(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=Nn;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=n;p&&p(t,i0(c,this.history)),this.removeListeners=Sf(Mh(this.contextWindow,"pointermove",this.handlePointerMove),Mh(this.contextWindow,"pointerup",this.handlePointerUp),Mh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ga(this.updatePoint)}}function n0(e,t){return t?{point:t(e.point)}:e}function jR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i0({point:e},t){return{point:e,delta:jR(e,NM(t)),offset:jR(e,tY(t)),velocity:eY(t,.1)}}function tY(e){return e[0]}function NM(e){return e[e.length-1]}function eY(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=NM(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Ks(t)));)n--;if(!i)return{x:0,y:0};const a=Xs(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function nY(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Be(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Be(n,e,i.max):Math.min(e,n)),e}function UR(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function iY(e,{top:t,left:n,bottom:i,right:s}){return{x:UR(e.x,n,s),y:UR(e.y,t,i)}}function BR(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function sY(e,t){return{x:BR(e.x,t.x),y:BR(e.y,t.y)}}function rY(e,t){let n=.5;const i=si(e),s=si(t);return s>i?n=Xh(t.min,t.max-i,e.min):i>s&&(n=Xh(e.min,e.max-s,t.min)),Fr(0,1,n)}function aY(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const d_=.35;function oY(e=d_){return e===!1?e=0:e===!0&&(e=d_),{x:FR(e,"left","right"),y:FR(e,"top","bottom")}}function FR(e,t,n){return{min:zR(e,t),max:zR(e,n)}}function zR(e,t){return typeof e=="number"?e:e[t]||0}const lY=new WeakMap;class uY{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cf(p).point)},a=(p,y)=>{const{drag:_,dragPropagation:x,onDragStart:E}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aq(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(D=>{let M=this.getAxisMotionValue(D).get()||0;if(Qs.test(M)){const{projection:F}=this.visualElement;if(F&&F.layout){const L=F.layout.layoutBox[D];L&&(M=si(L)*(parseFloat(M)/100))}}this.originPoint[D]=M}),E&&Fe.postRender(()=>E(p,y)),u_(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(p,y)=>{const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:E,onDrag:C}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:D}=y;if(x&&this.currentDirection===null){this.currentDirection=cY(D),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),C&&C(p,y)},c=(p,y)=>this.stop(p,y),h=()=>Gi(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PM(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:kM(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Fe.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!bm(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=nY(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&uu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=iY(i.layoutBox,t):this.constraints=!1,this.elastic=oY(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=aY(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uu(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=ZW(i,s.root,this.visualElement.getTransformPagePoint());let l=sY(s.layout.layoutBox,a);if(n){const c=n(HW(l));this.hasMutatedConstraints=!!c,c&&(l=RM(c))}return l}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=Gi(p=>{if(!bm(p,n,this.currentDirection))return;let y=h&&h[p]||{};l&&(y={min:0,max:0});const _=s?200:1e6,x=s?40:1e7,E={type:"inertia",velocity:i?t[p]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(p,E)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return u_(this.visualElement,t),i.start(Rx(t,i,0,n,this.visualElement,!1))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Gi(n=>{const{drag:i}=this.getProps();if(!bm(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(t[n]-Be(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!uu(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=rY({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Gi(l=>{if(!bm(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(Be(h,d,s[l]))})}addListeners(){if(!this.visualElement.current)return;lY.set(this.visualElement,this);const t=this.visualElement.current,n=Mh(t,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();uu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Fe.read(i);const l=nf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(Gi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=d_,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function bm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function cY(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hY extends Ja{constructor(t){super(t),this.removeGroupControls=Zi,this.removeListeners=Zi,this.controls=new uY(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zi}unmount(){this.removeGroupControls(),this.removeListeners()}}const HR=e=>(t,n)=>{e&&Fe.postRender(()=>e(t,n))};class fY extends Ja{constructor(){super(...arguments),this.removePointerDownListener=Zi}onPointerDown(t){this.session=new PM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:HR(t),onStart:HR(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Fe.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Mh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(kt.test(e))e=parseFloat(e);else return e;const n=qR(e,t.target.x),i=qR(e,t.target.y);return`${n}% ${i}%`}},dY={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=$a.parse(e);if(s.length>5)return i;const a=$a.createTransformer(e),l=typeof s[0]!="number"?1:0,c=n.x.scale*t.x,h=n.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const d=Be(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d),a(s)}};class mY extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;Zq(pY),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Fe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VM(e){const[t,n]=Nq(),i=U.useContext(vO);return T.jsx(mY,{...e,layoutGroup:i,switchLayoutGroup:U.useContext(mM),isPresent:t,safeToRemove:n})}const pY={borderRadius:{...rh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rh,borderTopRightRadius:rh,borderBottomLeftRadius:rh,borderBottomRightRadius:rh,boxShadow:dY};function gY(e,t,n){const i=$n(e)?e:Iu(e);return i.start(Rx("",i,t,n)),i.animation}const yY=(e,t)=>e.depth-t.depth;class vY{constructor(){this.children=[],this.isDirty=!1}add(t){Zb(this.children,t),this.isDirty=!0}remove(t){Jb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yY),this.isDirty=!1,this.children.forEach(t)}}function _Y(e,t){const n=mi.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(Ga(i),e(a-t))};return Fe.setup(i,!0),()=>Ga(i)}const LM=["TopLeft","TopRight","BottomLeft","BottomRight"],bY=LM.length,WR=e=>typeof e=="string"?parseFloat(e):e,YR=e=>typeof e=="number"||kt.test(e);function xY(e,t,n,i,s,a){s?(e.opacity=Be(0,n.opacity??1,wY(i)),e.opacityExit=Be(t.opacity??1,0,TY(i))):a&&(e.opacity=Be(t.opacity??1,n.opacity??1,i));for(let l=0;l<bY;l++){const c=`border${LM[l]}Radius`;let h=GR(t,c),d=GR(n,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||YR(h)===YR(d)?(e[c]=Math.max(Be(WR(h),WR(d),i),0),(Qs.test(d)||Qs.test(h))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=Be(t.rotate||0,n.rotate||0,i))}function GR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wY=jM(0,.5,DO),TY=jM(.5,.95,Zi);function jM(e,t,n){return i=>i<e?0:i>t?1:n(Xh(e,t,i))}function $R(e,t){e.min=t.min,e.max=t.max}function Yi(e,t){$R(e.x,t.x),$R(e.y,t.y)}function KR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function XR(e,t,n,i,s){return e-=t,e=Dp(e,1/n,i),s!==void 0&&(e=Dp(e,1/s,i)),e}function EY(e,t=0,n=1,i=.5,s,a=e,l=e){if(Qs.test(t)&&(t=parseFloat(t),t=Be(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Be(a.min,a.max,i);e===a&&(c-=t),e.min=XR(e.min,t,n,c,s),e.max=XR(e.max,t,n,c,s)}function QR(e,t,[n,i,s],a,l){EY(e,t[n],t[i],t[s],t.scale,a,l)}const SY=["x","scaleX","originX"],AY=["y","scaleY","originY"];function ZR(e,t,n,i){QR(e.x,t,SY,n?n.x:void 0,i?i.x:void 0),QR(e.y,t,AY,n?n.y:void 0,i?i.y:void 0)}function JR(e){return e.translate===0&&e.scale===1}function UM(e){return JR(e.x)&&JR(e.y)}function tC(e,t){return e.min===t.min&&e.max===t.max}function RY(e,t){return tC(e.x,t.x)&&tC(e.y,t.y)}function eC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BM(e,t){return eC(e.x,t.x)&&eC(e.y,t.y)}function nC(e){return si(e.x)/si(e.y)}function iC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CY{constructor(){this.members=[]}add(t){Zb(this.members,t),t.scheduleRender()}remove(t){if(Jb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DY(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,l=n?.z||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:y,rotateY:_,skewX:x,skewY:E}=n;d&&(i=`perspective(${d}px) ${i}`),p&&(i+=`rotate(${p}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),E&&(i+=`skewY(${E}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(i+=`scale(${c}, ${h})`),i||"none"}const s0=["","X","Y","Z"],IY={visibility:"hidden"},OY=1e3;let MY=0;function r0(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function FM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=TM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&FM(i)}function zM({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=MY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NY),this.nodes.forEach(UY),this.nodes.forEach(BY),this.nodes.forEach(VY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new vY)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new nx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=lM(l)&&!Mq(l),this.instance=l;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),e){let p;const y=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=_Y(y,250),zm.hasAnimatedSinceResize&&(zm.hasAnimatedSinceResize=!1,this.nodes.forEach(aC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||d.getDefaultTransition()||WY,{onLayoutAnimationStart:C,onLayoutAnimationComplete:D}=d.getProps(),M=!this.targetLayout||!BM(this.targetLayout,x),F=!y&&_;if(this.options.layoutRoot||this.resumeFrom||F||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...px(E,"layout"),onPlay:C,onComplete:D};(d.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(p,F)}else y||aC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rC);return}this.isUpdating||this.nodes.forEach(rC),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(jY),this.nodes.forEach(kY),this.nodes.forEach(PY),this.clearAllSnapshots();const c=mi.now();Nn.delta=Fr(0,1e3/60,c-Nn.timestamp),Nn.timestamp=c,Nn.isProcessing=!0,Kv.update.process(Nn),Kv.preRender.process(Nn),Kv.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LY),this.sharedNodes.forEach(zY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!UM(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&this.instance&&(c||Fo(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),YY(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Qe();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(GY))){const{scroll:d}=this.root;d&&(hu(c.x,d.offset.x),hu(c.y,d.offset.y))}return c}removeElementScroll(l){const c=Qe();if(Yi(c,l),this.scroll?.wasRoot)return c;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:p,options:y}=d;d!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&Yi(c,l),hu(c.x,p.offset.x),hu(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const h=Qe();Yi(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&fu(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fo(p.latestValues)&&fu(h,p.latestValues)}return Fo(this.latestValues)&&fu(h,this.latestValues),h}removeTransform(l){const c=Qe();Yi(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Fo(d.latestValues))continue;h_(d.latestValues)&&d.updateSnapshot();const p=Qe(),y=d.measurePageBox();Yi(p,y),ZR(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Fo(this.latestValues)&&ZR(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ph(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),OM(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),Ph(this.relativeTargetOrigin,this.target,_.target),Yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||h_(this.parent.latestValues)||IM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(h=!1),h)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Yi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;QW(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qe());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KR(this.prevProjectionDelta.x,this.projectionDelta.x),KR(this.prevProjectionDelta.y,this.projectionDelta.y)),kh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!iC(this.projectionDelta.x,this.prevProjectionDelta.x)||!iC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cu(),this.projectionDelta=cu(),this.projectionDeltaWithTransform=cu()}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},p={...this.latestValues},y=cu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=Qe(),x=h?h.source:void 0,E=this.layout?this.layout.source:void 0,C=x!==E,D=this.getStack(),M=!D||D.members.length<=1,F=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(qY));this.animationProgress=0;let L;this.mixTargetDelta=H=>{const W=H/1e3;oC(y.x,l.x,W),oC(y.y,l.y,W),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HY(this.relativeTarget,this.relativeTargetOrigin,_,W),L&&RY(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Qe()),Yi(L,this.relativeTarget)),C&&(this.animationValues=p,xY(p,d,this.latestValues,W,F,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Iu(0)),this.currentAnimation=gY(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:p}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&HM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||Qe();const y=si(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=si(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}Yi(c,h),fu(c,p),kh(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new CY),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const d={};h.z&&r0("z",l,d,this.animationValues);for(let p=0;p<s0.length;p++)r0(`rotate${s0[p]}`,l,d,this.animationValues),r0(`skew${s0[p]}`,l,d,this.animationValues);l.render();for(const p in d)l.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return IY;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Fm(l?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Fm(l?.pointerEvents)||""),this.hasProjected&&!Fo(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=DY(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:_}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,d.animationValues?c.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in tf){if(p[x]===void 0)continue;const{correct:E,applyTo:C,isCSSVariable:D}=tf[x],M=c.transform==="none"?p[x]:E(p[x],d);if(C){const F=C.length;for(let L=0;L<F;L++)c[C[L]]=M}else D?this.options.visualElement.renderState.vars[x]=M:c[x]=M}return this.options.layoutId&&(c.pointerEvents=d===this?Fm(l?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(sC),this.root.sharedNodes.clear()}}}function kY(e){e.updateLayout()}function PY(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Gi(p=>{const y=a?t.measuredBox[p]:t.layoutBox[p],_=si(y);y.min=n[p].min,y.max=y.min+_}):HM(s,t.layoutBox,n)&&Gi(p=>{const y=a?t.measuredBox[p]:t.layoutBox[p],_=si(n[p]);y.max=y.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+_)});const l=cu();kh(l,n,t.layoutBox);const c=cu();a?kh(c,e.applyTransform(i,!0),t.measuredBox):kh(c,n,t.layoutBox);const h=!UM(l);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:_}=p;if(y&&_){const x=Qe();Ph(x,t.layoutBox,y.layoutBox);const E=Qe();Ph(E,n,_.layoutBox),BM(x,E)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=x,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function NY(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function LY(e){e.clearSnapshot()}function sC(e){e.clearMeasurements()}function rC(e){e.isLayoutDirty=!1}function jY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UY(e){e.resolveTargetDelta()}function BY(e){e.calcProjection()}function FY(e){e.resetSkewAndRotation()}function zY(e){e.removeLeadSnapshot()}function oC(e,t,n){e.translate=Be(t.translate,0,n),e.scale=Be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function lC(e,t,n,i){e.min=Be(t.min,n.min,i),e.max=Be(t.max,n.max,i)}function HY(e,t,n,i){lC(e.x,t.x,n.x,i),lC(e.y,t.y,n.y,i)}function qY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WY={duration:.45,ease:[.4,0,.1,1]},uC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cC=uC("applewebkit/")&&!uC("chrome/")?Math.round:Zi;function hC(e){e.min=cC(e.min),e.max=cC(e.max)}function YY(e){hC(e.x),hC(e.y)}function HM(e,t,n){return e==="position"||e==="preserve-aspect"&&!KW(nC(t),nC(n),.2)}function GY(e){return e!==e.root&&e.scroll?.wasRoot}const $Y=zM({attachResizeListener:(e,t)=>nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),a0={current:void 0},qM=zM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!a0.current){const e=new $Y({});e.mount(window),e.setOptions({layoutScroll:!0}),a0.current=e}return a0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),KY={pan:{Feature:fY},drag:{Feature:hY,ProjectionNode:qM,MeasureLayout:VM}};function fC(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Fe.postRender(()=>a(t,Cf(t)))}class XY extends Ja{mount(){const{current:t}=this.node;t&&(this.unmount=Rq(t,(n,i)=>(fC(this.node,i,"Start"),s=>fC(this.node,s,"End"))))}unmount(){}}class QY extends Ja{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sf(nf(this.node.current,"focus",()=>this.onFocus()),nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dC(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Fe.postRender(()=>a(t,Cf(t)))}class ZY extends Ja{mount(){const{current:t}=this.node;t&&(this.unmount=Oq(t,(n,i)=>(dC(this.node,i,"Start"),(s,{success:a})=>dC(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const m_=new WeakMap,o0=new WeakMap,JY=e=>{const t=m_.get(e.target);t&&t(e)},tG=e=>{e.forEach(JY)};function eG({root:e,...t}){const n=e||document;o0.has(n)||o0.set(n,{});const i=o0.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(tG,{root:e,...t})),i[s]}function nG(e,t,n){const i=eG(t);return m_.set(e,n),i.observe(e),()=>{m_.delete(e),i.unobserve(e)}}const iG={some:0,all:1};class sG extends Ja{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:iG[s]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),_=d?p:y;_&&_(h)};return nG(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(rG(t,n))&&this.startObserver()}unmount(){}}function rG({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aG={inView:{Feature:sG},tap:{Feature:ZY},focus:{Feature:QY},hover:{Feature:XY}},oG={layout:{ProjectionNode:qM,MeasureLayout:VM}},p_={current:null},WM={current:!1};function lG(){if(WM.current=!0,!!Xb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>p_.current=e.matches;e.addListener(t),t()}else p_.current=!1}const uG=new WeakMap;function cG(e,t,n){for(const i in t){const s=t[i],a=n[i];if($n(s))e.addValue(i,s);else if($n(a))e.addValue(i,Iu(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(i);e.addValue(i,Iu(l!==void 0?l:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const mC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hG{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=mi.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Fe.render(this.render,!1,!0))};const{latestValues:h,renderState:d}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=mg(n),this.isVariantNode=fM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const x=y[_];h[_]!==void 0&&$n(x)&&x.set(h[_],!1)}}mount(t){this.current=t,uG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),WM.current||lG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Yu.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ou){const n=Ou[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mC.length;i++){const s=mC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=t[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=cG(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Iu(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(_O(i)||xO(i))?i=parseFloat(i):!Pq(i)&&$a.test(n)&&(i=iM(t,n)),this.setBaseTarget(t,$n(i)?i.get():i)),$n(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Sx(this.props,n,this.presenceContext?.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$n(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new nx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class YM extends hG{constructor(){super(...arguments),this.KeyframeResolver=wq}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$n(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GM(e,{style:t,vars:n},i,s){Object.assign(e.style,t,s&&s.getProjectionStyles(i));for(const a in n)e.style.setProperty(a,n[a])}function fG(e){return window.getComputedStyle(e)}class dG extends YM{constructor(){super(...arguments),this.type="html",this.renderInstance=GM}readValueFromInstance(t,n){if(Yu.has(n))return this.projection?.isProjecting?n_(n):FH(t,n);{const i=fG(t),s=(rx(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return MM(t,n)}build(t,n,i){wx(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Ax(t,n,i)}}const $M=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mG(e,t,n,i){GM(e,t,void 0,i);for(const s in t.attrs)e.setAttribute($M.has(s)?s:xx(s),t.attrs[s])}class pG extends YM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Yu.has(n)){const i=nM(n);return i&&i.default||0}return n=$M.has(n)?n:xx(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return wM(t,n,i)}build(t,n,i){vM(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){mG(t,n,i,s)}mount(t){this.isSVGTag=bM(t.tagName),super.mount(t)}}const gG=(e,t)=>Ex(e)?new pG(t):new dG(t,{allowProjection:e!==U.Fragment}),yG=pW({...FW,...aG,...KY,...oG},gG),ah=Bq(yG);function vG(){const[e,t]=U.useState({fullName:"",username:"",email:"",password:"",confirmPassword:""}),[n,i]=U.useState({}),[s,a]=U.useState(!1),[l,c]=U.useState(1),[h,d]=U.useState(!1),[p,y]=U.useState(!1),_=Ka(),x=L=>{Qt.error(`An account with ${L} already exists. Please try logging in instead.`,{duration:5e3}),setTimeout(()=>{_("/login")},3e3)};U.useEffect(()=>{i({})},[e]);const E=(L,H)=>{t(W=>({...W,[L]:H})),n[L]&&i(W=>({...W,[L]:""}))},C=(L,H)=>{switch(L){case"fullName":return H.trim()?H.trim().length<2?"Full name must be at least 2 characters":H.trim().length>50?"Full name must be less than 50 characters":"":"Full name is required";case"username":return H.trim()?H.trim().length<3?"Username must be at least 3 characters":H.trim().length>20?"Username must be less than 20 characters":/^[a-zA-Z0-9_-]+$/.test(H.trim())?"":"Username can only contain letters, numbers, hyphens, and underscores":"Username is required";case"email":return H.trim()?K0(H.trim())?"":"Please enter a valid email address":"Email is required";case"password":if(!H)return"Password is required";const W=y7(H);return W.isValid?"":W.feedback;case"confirmPassword":return H?H!==e.password?"Passwords do not match":"":"Please confirm your password";default:return""}},D=()=>{const L={};return Object.keys(e).forEach(H=>{const W=C(H,e[H]);W&&(L[H]=W)}),i(L),Object.keys(L).length===0},M=async L=>{if(L.preventDefault(),!D()){Qt.error("Please fix the errors in the form");return}a(!0);try{const W=(await dj(Ra,e.email.trim(),e.password)).user;await yj(W,{displayName:e.fullName.trim()}),await pj(W),await hp(ps(ri,"users",W.uid),{fullName:e.fullName.trim(),username:e.username.trim(),email:e.email.trim(),emailVerified:!1,createdAt:Ci(),updatedAt:Ci(),lastLoginAt:Ci()}),Qt.success("Account created successfully! Please check your email for verification."),_("/login",{state:{fromSignup:!0,message:"Account created successfully! Please verify your email and log in."}})}catch(H){console.error("Signup error:",H),H.code==="auth/email-already-in-use"?(i({email:"An account with this email already exists"}),Qt.error("Email already registered. Please try logging in instead.")):H.code==="auth/weak-password"?i({password:"Password is too weak. Please choose a stronger password."}):H.code==="auth/invalid-email"?i({email:"Please enter a valid email address"}):Qt.error("Account creation failed. Please try again.")}finally{a(!1)}},F=async()=>{a(!0);try{const H=(await BD(Ra,E2)).user;Qt.success("Welcome to Task Master!"),_("/")}catch(L){console.error("Google signup error:",L),L.code==="auth/popup-closed-by-user"?Qt.error("Signup cancelled. Please try again."):L.code==="auth/account-exists-with-different-credential"||L.code==="auth/email-already-in-use"?x("this email"):L.code==="auth/popup-blocked"?Qt.error("Popup was blocked. Please allow popups for this site and try again."):L.code==="auth/cancelled-popup-request"?Qt.error("Signup was cancelled. Please try again."):L.code==="auth/network-request-failed"?Qt.error("Network error. Please check your internet connection and try again."):L.code==="auth/operation-not-allowed"?Qt.error("Google sign-in is not enabled. Please contact support."):L.code==="auth/too-many-requests"?Qt.error("Too many signup attempts. Please wait a moment and try again."):(console.error("Unknown Google signup error:",L),Qt.error(`Signup failed: ${L.message||"Unknown error occurred"}`))}finally{a(!1)}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:T.jsxs(ah.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[T.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[T.jsx(ah.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),T.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),T.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Join Task Master and boost your productivity"})]}),T.jsxs(ah.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[T.jsxs("form",{onSubmit:M,className:"space-y-4 sm:space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),T.jsx("input",{type:"text",value:e.fullName,onChange:L=>E("fullName",L.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${n.fullName?"border-red-300":"border-gray-300"}`,placeholder:"Enter your full name",disabled:s}),n.fullName&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.fullName})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),T.jsx("input",{type:"text",value:e.username,onChange:L=>E("username",L.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${n.username?"border-red-300":"border-gray-300"}`,placeholder:"Choose a username",disabled:s}),n.username&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.username})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),T.jsx("input",{type:"email",value:e.email,onChange:L=>E("email",L.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${n.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter your email",disabled:s}),n.email&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:h?"text":"password",value:e.password,onChange:L=>E("password",L.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${n.password?"border-red-300":"border-gray-300"}`,placeholder:"Create a strong password",disabled:s}),T.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:s,children:h?T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):T.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.password&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:p?"text":"password",value:e.confirmPassword,onChange:L=>E("confirmPassword",L.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${n.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm your password",disabled:s}),T.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:s,children:p?T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):T.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.confirmPassword&&T.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.confirmPassword})]}),T.jsx(ah.button,{type:"submit",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-colors ${s?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700"}`,children:s?T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]}),T.jsxs("div",{className:"my-6 flex items-center",children:[T.jsx("div",{className:"flex-1 border-t border-gray-300"}),T.jsx("span",{className:"px-4 text-sm text-gray-500",children:"or"}),T.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),T.jsxs(ah.button,{onClick:F,disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",children:[T.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),T.jsx("p",{className:"mt-3 text-center text-xs text-gray-500",children:"If you already have an account, you'll be automatically signed in"}),T.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",T.jsx(on,{to:"/login",className:"font-medium text-purple-600 hover:text-purple-500 transition-colors",children:"Sign in here"})]})]}),T.jsxs("p",{className:"mt-6 text-center text-xs text-gray-500",children:["By creating an account, you agree to our"," ",T.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-500 transition-colors",children:"Terms of Service"})," ","and"," ",T.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-500 transition-colors",children:"Privacy Policy"})]})]})})}function _G(){const{logout:e}=bs(),t=Ka();return U.useEffect(()=>{async function n(){try{await e(),Qt.success("Logout successfully!"),t("/login")}catch{Qt.error("Logout failed. Please try again.")}}n()},[e,t]),T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("div",{className:"text-center text-lg text-gray-600",children:"Logging out..."})})}function bG(){const{id:e}=MN(),t=Ka(),{user:n}=bs(),[i,s]=U.useState(!1),[a,l]=U.useState(!0),[c,h]=U.useState(""),[d,p]=U.useState(""),[y,_]=U.useState("Medium"),[x,E]=U.useState("Personal"),[C,D]=U.useState(""),[M,F]=U.useState(""),[L,H]=U.useState(""),[W,nt]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const A=ps(ri,"tasks",e),I=await kb(A);if(I.exists()){const P=I.data();h(P.title||""),p(P.description||""),_(P.priority||"Medium"),E(P.category||"Personal"),D(P.dueDate?.toDate?P.dueDate.toDate().toISOString().slice(0,16):""),F((P.tags||[]).join(", ")),H(P.duration||""),nt(P.highPriority||!1)}else Qt.error("Task not found"),t("/pending")}catch(A){console.error("Fetch error:",A),Qt.error("Failed to load task")}finally{l(!1)}})()},[e,t]);const N=async()=>{if(!c.trim())return Qt.error("Title is required");s(!0);try{const w=ps(ri,"tasks",e);await Pb(w,{title:c,description:d,priority:y,category:x,dueDate:C?new Date(C):null,tags:M.split(",").map(A=>A.trim()).filter(Boolean),duration:L,highPriority:W,updatedAt:Ci(),uid:n.uid}),Qt.success(" Task updated!"),t("/pending")}catch(w){console.error("Update error:",w),Qt.error("Failed to update task")}finally{s(!1)}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:T.jsx("div",{className:"flex justify-center items-start py-6 sm:py-10 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700 text-center flex items-center justify-center gap-2 mb-4",children:" Edit Task"}),a?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500",children:"Loading task details..."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),T.jsx("input",{value:c,onChange:w=>h(w.target.value),placeholder:"Enter task title",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),T.jsx("textarea",{value:d,onChange:w=>p(w.target.value),rows:"3",placeholder:"Add details...",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),T.jsxs("select",{value:y,onChange:w=>_(w.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{children:"Low"}),T.jsx("option",{children:"Medium"}),T.jsx("option",{children:"High"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),T.jsxs("select",{value:x,onChange:w=>E(w.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors",children:[T.jsx("option",{children:"Personal"}),T.jsx("option",{children:"Work"}),T.jsx("option",{children:"Study"}),T.jsx("option",{children:"Other"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date & Time"}),T.jsx("input",{type:"datetime-local",value:C,onChange:w=>D(w.target.value),className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma separated)"}),T.jsx("input",{value:M,onChange:w=>F(w.target.value),placeholder:"e.g., urgent, frontend, meeting",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Duration"}),T.jsx("input",{value:L,onChange:w=>H(w.target.value),placeholder:"e.g., 2h, 30min",className:"w-full px-4 py-3 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors"})]}),T.jsx("div",{className:"flex items-center justify-start sm:justify-end",children:T.jsxs("label",{className:"flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:W,onChange:()=>nt(!W),className:"mr-3 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),T.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"High priority"})]})})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[T.jsx("button",{onClick:N,disabled:i,className:`flex-1 bg-purple-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors ${i?"opacity-60 cursor-not-allowed":""}`,children:i?T.jsxs("div",{className:"flex items-center justify-center",children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Task"}),T.jsx("button",{onClick:()=>t(-1),className:"flex-1 border border-purple-600 text-purple-700 py-3 px-4 rounded-lg font-medium hover:bg-purple-50 transition-colors",children:"Cancel"})]})]})]})})})}function KM(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=KM(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function pg(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=KM(e))&&(i&&(i+=" "),i+=t);return i}const xG=(e,t,n,i)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!wG(s,a)&&i||Object.defineProperty(e,n,a)},wG=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},TG=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},EG=(e,t)=>`/* Wrapped ${e}*/
${t}`,SG=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),AG=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),RG=(e,t,n)=>{const i=n===""?"":`with ${n.trim()}() `,s=EG.bind(null,i,t.toString());Object.defineProperty(s,"name",AG);const{writable:a,enumerable:l,configurable:c}=SG;Object.defineProperty(e,"toString",{value:s,writable:a,enumerable:l,configurable:c})};function CG(e,t,{ignoreNonConfigurable:n=!1}={}){const{name:i}=e;for(const s of Reflect.ownKeys(t))xG(e,t,s,n);return TG(e,t),RG(e,t,i),e}const DG=new WeakMap,pC=new WeakMap;function XM(e,{cacheKey:t,cache:n=new Map,maxAge:i}={}){if(i===0)return e;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...a){const l=t?t(a):a[0],c=n.get(l);if(c)return c.data;const h=e.apply(this,a),d=typeof i=="function"?i(...a):i;if(n.set(l,{data:h,maxAge:d?Date.now()+d:Number.POSITIVE_INFINITY}),d&&d>0&&d!==Number.POSITIVE_INFINITY){const p=setTimeout(()=>{n.delete(l)},d);p.unref?.();const y=pC.get(e)??new Set;y.add(p),pC.set(e,y)}return h};return CG(s,e,{ignoreNonConfigurable:!0}),DG.set(s,n),s}function IG(e){return typeof e=="string"}function OG(e,t,n){return n.indexOf(e)===t}function MG(e){return e.toLowerCase()===e}function gC(e){return e.indexOf(",")===-1?e:e.split(",")}function g_(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return g_(n)}if(e.indexOf("@")!==-1){var i=e.split("@")[0],n=i===void 0?"":i;return g_(n)}if(e.indexOf("-")===-1||!MG(e))return e;var s=e.split("-"),a=s[0],l=s[1],c=l===void 0?"":l;return"".concat(a,"-").concat(c.toUpperCase())}function kG(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,i=n===void 0?!0:n,s=t.fallbackLocale,a=s===void 0?"en-US":s,l=[];if(typeof navigator<"u"){for(var c=navigator.languages||[],h=[],d=0,p=c;d<p.length;d++){var y=p[d];h=h.concat(gC(y))}var _=navigator.language,x=_&&gC(_);l=l.concat(h,x)}return i&&l.push(a),l.filter(IG).map(g_).filter(OG)}var PG=XM(kG,{cacheKey:JSON.stringify});function NG(e){return PG(e)[0]||null}var QM=XM(NG,{cacheKey:JSON.stringify});function Yr(e,t,n){return function(s,a=n){const l=e(s)+a;return t(l)}}function Df(e){return function(n){return new Date(e(n).getTime()-1)}}function If(e,t){return function(i){return[e(i),t(i)]}}function je(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const t=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function to(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function gg(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Gu(e){const t=je(e),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const VG=Yr(je,Gu,-100),ZM=Yr(je,Gu,100),Cx=Df(ZM),LG=Yr(je,Cx,-100),JM=If(Gu,Cx);function eo(e){const t=je(e),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}const tk=Yr(je,eo,-10),Dx=Yr(je,eo,10),yg=Df(Dx),ek=Yr(je,yg,-10),nk=If(eo,yg);function $u(e){const t=je(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}const ik=Yr(je,$u,-1),Ix=Yr(je,$u,1),vg=Df(Ix),sk=Yr(je,vg,-1),jG=If($u,vg);function Ox(e,t){return function(i,s=t){const a=je(i),l=to(i)+s,c=new Date;return c.setFullYear(a,l,1),c.setHours(0,0,0,0),e(c)}}function ul(e){const t=je(e),n=to(e),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}const rk=Ox(ul,-1),Mx=Ox(ul,1),Of=Df(Mx),ak=Ox(Of,-1),UG=If(ul,Of);function BG(e,t){return function(i,s=t){const a=je(i),l=to(i),c=gg(i)+s,h=new Date;return h.setFullYear(a,l,c),h.setHours(0,0,0,0),e(h)}}function Mf(e){const t=je(e),n=to(e),i=gg(e),s=new Date;return s.setFullYear(t,n,i),s.setHours(0,0,0,0),s}const FG=BG(Mf,1),kx=Df(FG),zG=If(Mf,kx);function ok(e){return gg(Of(e))}var Un={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},HG={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Px=[0,1,2,3,4,5,6],l0=new Map;function qG(e){return function(n,i){var s=n||QM();l0.has(s)||l0.set(s,new Map);var a=l0.get(s);return a.has(e)||a.set(e,new Intl.DateTimeFormat(s||void 0,e).format),a.get(e)(i)}}function WG(e){var t=new Date(e);return new Date(t.setHours(12))}function cl(e){return function(t,n){return qG(e)(t,WG(n))}}var YG={day:"numeric"},GG={day:"numeric",month:"long",year:"numeric"},$G={month:"long"},KG={month:"long",year:"numeric"},XG={weekday:"short"},QG={weekday:"long"},ZG={year:"numeric"},JG=cl(YG),t$=cl(GG),e$=cl($G),lk=cl(KG),n$=cl(XG),i$=cl(QG),_g=cl(ZG),s$=Px[0],r$=Px[5],yC=Px[6];function sf(e,t){t===void 0&&(t=Un.ISO_8601);var n=e.getDay();switch(t){case Un.ISO_8601:return(n+6)%7;case Un.ISLAMIC:return(n+1)%7;case Un.HEBREW:case Un.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function a$(e){var t=Gu(e);return je(t)}function o$(e){var t=eo(e);return je(t)}function y_(e,t){t===void 0&&(t=Un.ISO_8601);var n=je(e),i=to(e),s=e.getDate()-sf(e,t);return new Date(n,i,s)}function l$(e,t){t===void 0&&(t=Un.ISO_8601);var n=t===Un.GREGORY?Un.GREGORY:Un.ISO_8601,i=y_(e,t),s=je(e)+1,a,l;do a=new Date(s,0,n===Un.ISO_8601?4:1),l=y_(a,t),s-=1;while(e<l);return Math.round((i.getTime()-l.getTime())/(864e5*7))+1}function Zo(e,t){switch(e){case"century":return Gu(t);case"decade":return eo(t);case"year":return $u(t);case"month":return ul(t);case"day":return Mf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function u$(e,t){switch(e){case"century":return VG(t);case"decade":return tk(t);case"year":return ik(t);case"month":return rk(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function uk(e,t){switch(e){case"century":return ZM(t);case"decade":return Dx(t);case"year":return Ix(t);case"month":return Mx(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function c$(e,t){switch(e){case"decade":return tk(t,-100);case"year":return ik(t,-10);case"month":return rk(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function h$(e,t){switch(e){case"decade":return Dx(t,100);case"year":return Ix(t,10);case"month":return Mx(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function ck(e,t){switch(e){case"century":return Cx(t);case"decade":return yg(t);case"year":return vg(t);case"month":return Of(t);case"day":return kx(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function f$(e,t){switch(e){case"century":return LG(t);case"decade":return ek(t);case"year":return sk(t);case"month":return ak(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function d$(e,t){switch(e){case"decade":return ek(t,-100);case"year":return sk(t,-10);case"month":return ak(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function vC(e,t){switch(e){case"century":return JM(t);case"decade":return nk(t);case"year":return jG(t);case"month":return UG(t);case"day":return zG(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function m$(e,t,n){var i=[t,n].sort(function(s,a){return s.getTime()-a.getTime()});return[Zo(e,i[0]),ck(e,i[1])]}function hk(e,t,n){return n.map(function(i){return(t||_g)(e,i)}).join("  ")}function p$(e,t,n){return hk(e,t,JM(n))}function fk(e,t,n){return hk(e,t,nk(n))}function g$(e){return e.getDay()===new Date().getDay()}function dk(e,t){t===void 0&&(t=Un.ISO_8601);var n=e.getDay();switch(t){case Un.ISLAMIC:case Un.HEBREW:return n===r$||n===yC;case Un.ISO_8601:case Un.GREGORY:return n===yC||n===s$;default:throw new Error("Unsupported calendar type.")}}var Us="react-calendar__navigation";function y$(e){var t=e.activeStartDate,n=e.drillUp,i=e.formatMonthYear,s=i===void 0?lk:i,a=e.formatYear,l=a===void 0?_g:a,c=e.locale,h=e.maxDate,d=e.minDate,p=e.navigationAriaLabel,y=p===void 0?"":p,_=e.navigationAriaLive,x=e.navigationLabel,E=e.next2AriaLabel,C=E===void 0?"":E,D=e.next2Label,M=D===void 0?"":D,F=e.nextAriaLabel,L=F===void 0?"":F,H=e.nextLabel,W=H===void 0?"":H,nt=e.prev2AriaLabel,N=nt===void 0?"":nt,w=e.prev2Label,A=w===void 0?"":w,I=e.prevAriaLabel,P=I===void 0?"":I,j=e.prevLabel,V=j===void 0?"":j,xt=e.setActiveStartDate,gt=e.showDoubleView,G=e.view,Z=e.views,ht=Z.indexOf(G)>0,ct=G!=="century",B=u$(G,t),Q=ct?c$(G,t):void 0,st=uk(G,t),J=ct?h$(G,t):void 0,ft=function(){if(B.getFullYear()<0)return!0;var St=f$(G,t);return d&&d>=St}(),yt=ct&&function(){if(Q.getFullYear()<0)return!0;var St=d$(G,t);return d&&d>=St}(),mt=h&&h<st,Yt=ct&&h&&h<J;function _t(){xt(B,"prev")}function At(){xt(Q,"prev2")}function te(){xt(st,"next")}function Rt(){xt(J,"next2")}function Gt(St){var Ft=function(){switch(G){case"century":return p$(c,l,St);case"decade":return fk(c,l,St);case"year":return l(c,St);case"month":return s(c,St);default:throw new Error("Invalid view: ".concat(G,"."))}}();return x?x({date:St,label:Ft,locale:c||QM()||void 0,view:G}):Ft}function he(){var St="".concat(Us,"__label");return T.jsxs("button",{"aria-label":y,"aria-live":_,className:St,disabled:!ht,onClick:n,style:{flexGrow:1},type:"button",children:[T.jsx("span",{className:"".concat(St,"__labelText ").concat(St,"__labelText--from"),children:Gt(t)}),gt?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"".concat(St,"__divider"),children:"  "}),T.jsx("span",{className:"".concat(St,"__labelText ").concat(St,"__labelText--to"),children:Gt(st)})]}):null]})}return T.jsxs("div",{className:Us,children:[A!==null&&ct?T.jsx("button",{"aria-label":N,className:"".concat(Us,"__arrow ").concat(Us,"__prev2-button"),disabled:yt,onClick:At,type:"button",children:A}):null,V!==null&&T.jsx("button",{"aria-label":P,className:"".concat(Us,"__arrow ").concat(Us,"__prev-button"),disabled:ft,onClick:_t,type:"button",children:V}),he(),W!==null&&T.jsx("button",{"aria-label":L,className:"".concat(Us,"__arrow ").concat(Us,"__next-button"),disabled:mt,onClick:te,type:"button",children:W}),M!==null&&ct?T.jsx("button",{"aria-label":C,className:"".concat(Us,"__arrow ").concat(Us,"__next2-button"),disabled:Yt,onClick:Rt,type:"button",children:M}):null]})}var du=function(){return du=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},du.apply(this,arguments)},v$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function _C(e){return"".concat(e,"%")}function Nx(e){var t=e.children,n=e.className,i=e.count,s=e.direction,a=e.offset,l=e.style,c=e.wrap,h=v$(e,["children","className","count","direction","offset","style","wrap"]);return T.jsx("div",du({className:n,style:du({display:"flex",flexDirection:s,flexWrap:c?"wrap":"nowrap"},l)},h,{children:U.Children.map(t,function(d,p){var y=a&&p===0?_C(100*a/i):null;return U.cloneElement(d,du(du({},d.props),{style:{flexBasis:_C(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:y,marginInlineStart:y,marginInlineEnd:0}}))})}))}function _$(e,t,n){return t&&t>e?t:n&&n<e?n:e}function rf(e,t){return t[0]<=e&&t[1]>=e}function b$(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function mk(e,t){return rf(e[0],t)||rf(e[1],t)}function bC(e,t,n){var i=mk(t,e),s=[];if(i){s.push(n);var a=rf(e[0],t),l=rf(e[1],t);a&&s.push("".concat(n,"Start")),l&&s.push("".concat(n,"End")),a&&l&&s.push("".concat(n,"BothEnds"))}return s}function x$(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function w$(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,i=e.hover,s="react-calendar__tile",a=[s];if(!n)return a;var l=new Date,c=function(){if(Array.isArray(n))return n;var x=e.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return vC(x,n)}();if(rf(l,c)&&a.push("".concat(s,"--now")),!t||!x$(t))return a;var h=function(){if(Array.isArray(t))return t;var x=e.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return vC(x,t)}();b$(h,c)?a.push("".concat(s,"--active")):mk(h,c)&&a.push("".concat(s,"--hasActive"));var d=bC(h,c,"".concat(s,"--range"));a.push.apply(a,d);var p=Array.isArray(t)?t:[t];if(i&&p.length===1){var y=i>h[0]?[h[0],i]:[i,h[0]],_=bC(y,c,"".concat(s,"--hover"));a.push.apply(a,_)}return a}function bg(e){for(var t=e.className,n=e.count,i=n===void 0?3:n,s=e.dateTransform,a=e.dateType,l=e.end,c=e.hover,h=e.offset,d=e.renderTile,p=e.start,y=e.step,_=y===void 0?1:y,x=e.value,E=e.valueType,C=[],D=p;D<=l;D+=_){var M=s(D);C.push(d({classes:w$({date:M,dateType:a,hover:c,value:x,valueType:E}),date:M}))}return T.jsx(Nx,{className:t,count:i,offset:h,wrap:!0,children:C})}function xg(e){var t=e.activeStartDate,n=e.children,i=e.classes,s=e.date,a=e.formatAbbr,l=e.locale,c=e.maxDate,h=e.maxDateTransform,d=e.minDate,p=e.minDateTransform,y=e.onClick,_=e.onMouseOver,x=e.style,E=e.tileClassName,C=e.tileContent,D=e.tileDisabled,M=e.view,F=U.useMemo(function(){var H={activeStartDate:t,date:s,view:M};return typeof E=="function"?E(H):E},[t,s,E,M]),L=U.useMemo(function(){var H={activeStartDate:t,date:s,view:M};return typeof C=="function"?C(H):C},[t,s,C,M]);return T.jsxs("button",{className:pg(i,F),disabled:d&&p(d)>s||c&&h(c)<s||D?.({activeStartDate:t,date:s,view:M}),onClick:y?function(H){return y(s,H)}:void 0,onFocus:_?function(){return _(s)}:void 0,onMouseOver:_?function(){return _(s)}:void 0,style:x,type:"button",children:[a?T.jsx("abbr",{"aria-label":a(l,s),children:n}):n,L]})}var v_=function(){return v_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},v_.apply(this,arguments)},T$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n},xC="react-calendar__century-view__decades__decade";function E$(e){var t=e.classes,n=t===void 0?[]:t,i=e.currentCentury,s=e.formatYear,a=s===void 0?_g:s,l=T$(e,["classes","currentCentury","formatYear"]),c=l.date,h=l.locale,d=[];return n&&d.push.apply(d,n),d.push(xC),Gu(c).getFullYear()!==i&&d.push("".concat(xC,"--neighboringCentury")),T.jsx(xg,v_({},l,{classes:d,maxDateTransform:yg,minDateTransform:eo,view:"century",children:fk(h,a,c)}))}var __=function(){return __=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},__.apply(this,arguments)},wC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function S$(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringCentury,s=e.value,a=e.valueType,l=wC(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),c=a$(t),h=c+(i?119:99);return T.jsx(bg,{className:"react-calendar__century-view__decades",dateTransform:eo,dateType:"decade",end:h,hover:n,renderTile:function(d){var p=d.date,y=wC(d,["date"]);return T.jsx(E$,__({},l,y,{activeStartDate:t,currentCentury:c,date:p}),p.getTime())},start:c,step:10,value:s,valueType:a})}var b_=function(){return b_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},b_.apply(this,arguments)};function A$(e){function t(){return T.jsx(S$,b_({},e))}return T.jsx("div",{className:"react-calendar__century-view",children:t()})}var x_=function(){return x_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},x_.apply(this,arguments)},R$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n},TC="react-calendar__decade-view__years__year";function C$(e){var t=e.classes,n=t===void 0?[]:t,i=e.currentDecade,s=e.formatYear,a=s===void 0?_g:s,l=R$(e,["classes","currentDecade","formatYear"]),c=l.date,h=l.locale,d=[];return n&&d.push.apply(d,n),d.push(TC),eo(c).getFullYear()!==i&&d.push("".concat(TC,"--neighboringDecade")),T.jsx(xg,x_({},l,{classes:d,maxDateTransform:vg,minDateTransform:$u,view:"decade",children:a(h,c)}))}var w_=function(){return w_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},w_.apply(this,arguments)},EC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function D$(e){var t=e.activeStartDate,n=e.hover,i=e.showNeighboringDecade,s=e.value,a=e.valueType,l=EC(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),c=o$(t),h=c+(i?11:9);return T.jsx(bg,{className:"react-calendar__decade-view__years",dateTransform:$u,dateType:"year",end:h,hover:n,renderTile:function(d){var p=d.date,y=EC(d,["date"]);return T.jsx(C$,w_({},l,y,{activeStartDate:t,currentDecade:c,date:p}),p.getTime())},start:c,value:s,valueType:a})}var T_=function(){return T_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},T_.apply(this,arguments)};function I$(e){function t(){return T.jsx(D$,T_({},e))}return T.jsx("div",{className:"react-calendar__decade-view",children:t()})}var E_=function(){return E_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},E_.apply(this,arguments)},O$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n},SC=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,a;i<s;i++)(a||!(i in t))&&(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},M$="react-calendar__year-view__months__month";function k$(e){var t=e.classes,n=t===void 0?[]:t,i=e.formatMonth,s=i===void 0?e$:i,a=e.formatMonthYear,l=a===void 0?lk:a,c=O$(e,["classes","formatMonth","formatMonthYear"]),h=c.date,d=c.locale;return T.jsx(xg,E_({},c,{classes:SC(SC([],n,!0),[M$],!1),formatAbbr:l,maxDateTransform:Of,minDateTransform:ul,view:"year",children:s(d,h)}))}var S_=function(){return S_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},S_.apply(this,arguments)},AC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function P$(e){var t=e.activeStartDate,n=e.hover,i=e.value,s=e.valueType,a=AC(e,["activeStartDate","hover","value","valueType"]),l=0,c=11,h=je(t);return T.jsx(bg,{className:"react-calendar__year-view__months",dateTransform:function(d){var p=new Date;return p.setFullYear(h,d,1),ul(p)},dateType:"month",end:c,hover:n,renderTile:function(d){var p=d.date,y=AC(d,["date"]);return T.jsx(k$,S_({},a,y,{activeStartDate:t,date:p}),p.getTime())},start:l,value:i,valueType:s})}var A_=function(){return A_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},A_.apply(this,arguments)};function N$(e){function t(){return T.jsx(P$,A_({},e))}return T.jsx("div",{className:"react-calendar__year-view",children:t()})}var R_=function(){return R_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},R_.apply(this,arguments)},V$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n},u0="react-calendar__month-view__days__day";function L$(e){var t=e.calendarType,n=e.classes,i=n===void 0?[]:n,s=e.currentMonthIndex,a=e.formatDay,l=a===void 0?JG:a,c=e.formatLongDate,h=c===void 0?t$:c,d=V$(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),p=d.date,y=d.locale,_=[];return i&&_.push.apply(_,i),_.push(u0),dk(p,t)&&_.push("".concat(u0,"--weekend")),p.getMonth()!==s&&_.push("".concat(u0,"--neighboringMonth")),T.jsx(xg,R_({},d,{classes:_,formatAbbr:h,maxDateTransform:kx,minDateTransform:Mf,view:"month",children:l(y,p)}))}var C_=function(){return C_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},C_.apply(this,arguments)},RC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function j$(e){var t=e.activeStartDate,n=e.calendarType,i=e.hover,s=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,l=e.value,c=e.valueType,h=RC(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=je(t),p=to(t),y=s||a,_=sf(t,n),x=y?0:_,E=(y?-_:0)+1,C=function(){if(s)return E+6*7-1;var D=ok(t);if(a){var M=new Date;M.setFullYear(d,p,D),M.setHours(0,0,0,0);var F=7-sf(M,n)-1;return D+F}return D}();return T.jsx(bg,{className:"react-calendar__month-view__days",count:7,dateTransform:function(D){var M=new Date;return M.setFullYear(d,p,D),Mf(M)},dateType:"day",hover:i,end:C,renderTile:function(D){var M=D.date,F=RC(D,["date"]);return T.jsx(L$,C_({},h,F,{activeStartDate:t,calendarType:n,currentMonthIndex:p,date:M}),M.getTime())},offset:x,start:E,value:l,valueType:c})}var pk="react-calendar__month-view__weekdays",c0="".concat(pk,"__weekday");function U$(e){for(var t=e.calendarType,n=e.formatShortWeekday,i=n===void 0?n$:n,s=e.formatWeekday,a=s===void 0?i$:s,l=e.locale,c=e.onMouseLeave,h=new Date,d=ul(h),p=je(d),y=to(d),_=[],x=1;x<=7;x+=1){var E=new Date(p,y,x-sf(d,t)),C=a(l,E);_.push(T.jsx("div",{className:pg(c0,g$(E)&&"".concat(c0,"--current"),dk(E,t)&&"".concat(c0,"--weekend")),children:T.jsx("abbr",{"aria-label":C,title:C,children:i(l,E).replace(".","")})},x))}return T.jsx(Nx,{className:pk,count:7,onFocus:c,onMouseOver:c,children:_})}var Ip=function(){return Ip=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ip.apply(this,arguments)},CC=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n},DC="react-calendar__tile";function B$(e){var t=e.onClickWeekNumber,n=e.weekNumber,i=T.jsx("span",{children:n});if(t){var s=e.date,a=e.onClickWeekNumber,l=e.weekNumber,c=CC(e,["date","onClickWeekNumber","weekNumber"]);return T.jsx("button",Ip({},c,{className:DC,onClick:function(h){return a(l,s,h)},type:"button",children:i}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var c=CC(e,["date","onClickWeekNumber","weekNumber"]);return T.jsx("div",Ip({},c,{className:DC,children:i}))}}function F$(e){var t=e.activeStartDate,n=e.calendarType,i=e.onClickWeekNumber,s=e.onMouseLeave,a=e.showFixedNumberOfWeeks,l=function(){if(a)return 6;var d=ok(t),p=sf(t,n),y=d-(7-p);return 1+Math.ceil(y/7)}(),c=function(){for(var d=je(t),p=to(t),y=gg(t),_=[],x=0;x<l;x+=1)_.push(y_(new Date(d,p,y+x*7),n));return _}(),h=c.map(function(d){return l$(d,n)});return T.jsx(Nx,{className:"react-calendar__month-view__weekNumbers",count:l,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:h.map(function(d,p){var y=c[p];if(!y)throw new Error("date is not defined");return T.jsx(B$,{date:y,onClickWeekNumber:i,weekNumber:d},d)})})}var D_=function(){return D_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},D_.apply(this,arguments)},z$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};function H$(e){if(e)for(var t=0,n=Object.entries(HG);t<n.length;t++){var i=n[t],s=i[0],a=i[1];if(a.includes(e))return s}return Un.ISO_8601}function q$(e){var t=e.activeStartDate,n=e.locale,i=e.onMouseLeave,s=e.showFixedNumberOfWeeks,a=e.calendarType,l=a===void 0?H$(n):a,c=e.formatShortWeekday,h=e.formatWeekday,d=e.onClickWeekNumber,p=e.showWeekNumbers,y=z$(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function _(){return T.jsx(U$,{calendarType:l,formatShortWeekday:c,formatWeekday:h,locale:n,onMouseLeave:i})}function x(){return p?T.jsx(F$,{activeStartDate:t,calendarType:l,onClickWeekNumber:d,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function E(){return T.jsx(j$,D_({calendarType:l},y))}var C="react-calendar__month-view";return T.jsx("div",{className:pg(C,p?"".concat(C,"--weekNumbers"):""),children:T.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),T.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[_(),E()]})]})})}var mu=function(){return mu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},mu.apply(this,arguments)},xm="react-calendar",Hm=["century","decade","year","month"],W$=["decade","year","month","day"],Vx=new Date;Vx.setFullYear(1,0,1);Vx.setHours(0,0,0,0);var Y$=new Date(864e13);function vh(e){return e instanceof Date?e:new Date(e)}function gk(e,t){return Hm.slice(Hm.indexOf(e),Hm.indexOf(t)+1)}function G$(e,t,n){var i=gk(t,n);return i.indexOf(e)!==-1}function Lx(e,t,n){return e&&G$(e,t,n)?e:n}function yk(e){var t=Hm.indexOf(e);return W$[t]}function $$(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var i=vh(n);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}function vk(e,t){var n=e.value,i=e.minDate,s=e.maxDate,a=e.maxDetail,l=$$(n,t);if(!l)return null;var c=yk(a),h=function(){switch(t){case 0:return Zo(c,l);case 1:return ck(c,l);default:throw new Error("Invalid index value: ".concat(t))}}();return _$(h,i,s)}var jx=function(e){return vk(e,0)},_k=function(e){return vk(e,1)},K$=function(e){return[jx,_k].map(function(t){return t(e)})};function bk(e){var t=e.maxDate,n=e.maxDetail,i=e.minDate,s=e.minDetail,a=e.value,l=e.view,c=Lx(l,s,n),h=jx({value:a,minDate:i,maxDate:t,maxDetail:n})||new Date;return Zo(c,h)}function X$(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,i=e.defaultValue,s=e.defaultView,a=e.maxDate,l=e.maxDetail,c=e.minDate,h=e.minDetail,d=e.value,p=e.view,y=Lx(p,h,l),_=t||n;return _?Zo(y,_):bk({maxDate:a,maxDetail:l,minDate:c,minDetail:h,value:d||i,view:p||s})}function h0(e){return e&&(!Array.isArray(e)||e.length===1)}function wm(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Q$=U.forwardRef(function(t,n){var i=t.activeStartDate,s=t.allowPartialRange,a=t.calendarType,l=t.className,c=t.defaultActiveStartDate,h=t.defaultValue,d=t.defaultView,p=t.formatDay,y=t.formatLongDate,_=t.formatMonth,x=t.formatMonthYear,E=t.formatShortWeekday,C=t.formatWeekday,D=t.formatYear,M=t.goToRangeStartOnSelect,F=M===void 0?!0:M,L=t.inputRef,H=t.locale,W=t.maxDate,nt=W===void 0?Y$:W,N=t.maxDetail,w=N===void 0?"month":N,A=t.minDate,I=A===void 0?Vx:A,P=t.minDetail,j=P===void 0?"century":P,V=t.navigationAriaLabel,xt=t.navigationAriaLive,gt=t.navigationLabel,G=t.next2AriaLabel,Z=t.next2Label,ht=t.nextAriaLabel,ct=t.nextLabel,B=t.onActiveStartDateChange,Q=t.onChange,st=t.onClickDay,J=t.onClickDecade,ft=t.onClickMonth,yt=t.onClickWeekNumber,mt=t.onClickYear,Yt=t.onDrillDown,_t=t.onDrillUp,At=t.onViewChange,te=t.prev2AriaLabel,Rt=t.prev2Label,Gt=t.prevAriaLabel,he=t.prevLabel,St=t.returnValue,Ft=St===void 0?"start":St,Tt=t.selectRange,ee=t.showDoubleView,$t=t.showFixedNumberOfWeeks,ae=t.showNavigation,_e=ae===void 0?!0:ae,Fn=t.showNeighboringCentury,zn=t.showNeighboringDecade,Qn=t.showNeighboringMonth,ke=Qn===void 0?!0:Qn,An=t.showWeekNumbers,jt=t.tileClassName,Nt=t.tileContent,Ce=t.tileDisabled,Pe=t.value,xs=t.view,pi=U.useState(c),tn=pi[0],vn=pi[1],gi=U.useState(null),yi=gi[0],tr=gi[1],ws=U.useState(Array.isArray(h)?h.map(function(Pt){return Pt!==null?vh(Pt):null}):h!=null?vh(h):null),er=ws[0],no=ws[1],Gr=U.useState(d),ts=Gr[0],Oi=Gr[1],en=i||tn||X$({activeStartDate:i,defaultActiveStartDate:c,defaultValue:h,defaultView:d,maxDate:nt,maxDetail:w,minDate:I,minDetail:j,value:Pe,view:xs}),De=function(){var Pt=function(){return Tt&&h0(er)?er:Pe!==void 0?Pe:er}();return Pt?Array.isArray(Pt)?Pt.map(function(qt){return qt!==null?vh(qt):null}):Pt!==null?vh(Pt):null:null}(),Ts=yk(w),oe=Lx(xs||ts,j,w),Rn=gk(j,w),Es=Tt?yi:null,$r=Rn.indexOf(oe)<Rn.length-1,Ee=Rn.indexOf(oe)>0,He=U.useCallback(function(Pt){var qt=function(){switch(Ft){case"start":return jx;case"end":return _k;case"range":return K$;default:throw new Error("Invalid returnValue.")}}();return qt({maxDate:nt,maxDetail:w,minDate:I,value:Pt})},[nt,w,I,Ft]),Ne=U.useCallback(function(Pt,qt){vn(Pt);var Ut={action:qt,activeStartDate:Pt,value:De,view:oe};B&&!wm(en,Pt)&&B(Ut)},[en,B,De,oe]),Cn=U.useCallback(function(Pt,qt){var Ut=function(){switch(oe){case"century":return J;case"decade":return mt;case"year":return ft;case"month":return st;default:throw new Error("Invalid view: ".concat(oe,"."))}}();Ut&&Ut(Pt,qt)},[st,J,ft,mt,oe]),nr=U.useCallback(function(Pt,qt){if($r){Cn(Pt,qt);var Ut=Rn[Rn.indexOf(oe)+1];if(!Ut)throw new Error("Attempted to drill down from the lowest view.");vn(Pt),Oi(Ut);var Dn={action:"drillDown",activeStartDate:Pt,value:De,view:Ut};B&&!wm(en,Pt)&&B(Dn),At&&oe!==Ut&&At(Dn),Yt&&Yt(Dn)}},[en,$r,B,Cn,Yt,At,De,oe,Rn]),io=U.useCallback(function(){if(Ee){var Pt=Rn[Rn.indexOf(oe)-1];if(!Pt)throw new Error("Attempted to drill up from the highest view.");var qt=Zo(Pt,en);vn(qt),Oi(Pt);var Ut={action:"drillUp",activeStartDate:qt,value:De,view:Pt};B&&!wm(en,qt)&&B(Ut),At&&oe!==Pt&&At(Ut),_t&&_t(Ut)}},[en,Ee,B,_t,At,De,oe,Rn]),Mi=U.useCallback(function(Pt,qt){var Ut=De;Cn(Pt,qt);var Dn=Tt&&!h0(Ut),_n;if(Tt)if(Dn)_n=Zo(Ts,Pt);else{if(!Ut)throw new Error("previousValue is required");if(Array.isArray(Ut))throw new Error("previousValue must not be an array");_n=m$(Ts,Ut,Pt)}else _n=He(Pt);var Zn=!Tt||Dn||F?bk({maxDate:nt,maxDetail:w,minDate:I,minDetail:j,value:_n,view:oe}):null;qt.persist(),vn(Zn),no(_n);var ss={action:"onChange",activeStartDate:Zn,value:_n,view:oe};if(B&&!wm(en,Zn)&&B(ss),Q)if(Tt){var fl=h0(_n);if(!fl)Q(_n||null,qt);else if(s){if(Array.isArray(_n))throw new Error("value must not be an array");Q([_n||null,null],qt)}}else Q(_n||null,qt)},[en,s,He,F,nt,w,I,j,B,Q,Cn,Tt,De,Ts,oe]);function hl(Pt){tr(Pt)}function es(){tr(null)}U.useImperativeHandle(n,function(){return{activeStartDate:en,drillDown:nr,drillUp:io,onChange:Mi,setActiveStartDate:Ne,value:De,view:oe}},[en,nr,io,Mi,Ne,De,oe]);function ns(Pt){var qt=Pt?uk(oe,en):Zo(oe,en),Ut=$r?nr:Mi,Dn={activeStartDate:qt,hover:Es,locale:H,maxDate:nt,minDate:I,onClick:Ut,onMouseOver:Tt?hl:void 0,tileClassName:jt,tileContent:Nt,tileDisabled:Ce,value:De,valueType:Ts};switch(oe){case"century":return T.jsx(A$,mu({formatYear:D,showNeighboringCentury:Fn},Dn));case"decade":return T.jsx(I$,mu({formatYear:D,showNeighboringDecade:zn},Dn));case"year":return T.jsx(N$,mu({formatMonth:_,formatMonthYear:x},Dn));case"month":return T.jsx(q$,mu({calendarType:a,formatDay:p,formatLongDate:y,formatShortWeekday:E,formatWeekday:C,onClickWeekNumber:yt,onMouseLeave:Tt?es:void 0,showFixedNumberOfWeeks:typeof $t<"u"?$t:ee,showNeighboringMonth:ke,showWeekNumbers:An},Dn));default:throw new Error("Invalid view: ".concat(oe,"."))}}function is(){return _e?T.jsx(y$,{activeStartDate:en,drillUp:io,formatMonthYear:x,formatYear:D,locale:H,maxDate:nt,minDate:I,navigationAriaLabel:V,navigationAriaLive:xt,navigationLabel:gt,next2AriaLabel:G,next2Label:Z,nextAriaLabel:ht,nextLabel:ct,prev2AriaLabel:te,prev2Label:Rt,prevAriaLabel:Gt,prevLabel:he,setActiveStartDate:Ne,showDoubleView:ee,view:oe,views:Rn}):null}var ki=Array.isArray(De)?De:[De];return T.jsxs("div",{className:pg(xm,Tt&&ki.length===1&&"".concat(xm,"--selectRange"),ee&&"".concat(xm,"--doubleView"),l),ref:L,children:[is(),T.jsxs("div",{className:"".concat(xm,"__viewContainer"),onBlur:Tt?es:void 0,onMouseLeave:Tt?es:void 0,children:[ns(),ee?ns(!0):null]})]})});function Z$(){const{user:e}=bs(),[t,n]=U.useState([]),[i,s]=U.useState(new Date),[a,l]=U.useState(!0);U.useEffect(()=>{if(!e){l(!1);return}console.log("Fetching tasks for user:",e.uid);const h=eg(bf(ri,"tasks"),Cu("uid","==",e.uid)),d=ig(h,p=>{const y=p.docs.map(_=>({id:_.id,..._.data()}));console.log("Fetched tasks:",y),n(y),l(!1)},p=>{console.error("Error fetching tasks:",p),l(!1),Qt.error("Failed to load tasks")});return()=>d()},[e]);const c=t.filter(h=>{if(!h.dueDate)return!1;const d=h.dueDate.toDate?h.dueDate.toDate():new Date(h.dueDate);return D7(d,i)});return console.log("Tasks for selected date:",c),a?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"Loading calendar..."})]})}):T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-purple-700 mb-6",children:" Calendar View"}),T.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-purple-700 mb-4",children:"Select Date"}),T.jsx("div",{className:"flex justify-center",children:T.jsx(Q$,{value:i,onChange:s,className:"w-full max-w-sm"})}),T.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-xs text-gray-600",children:[T.jsxs("p",{children:["Total tasks: ",t.length]}),T.jsxs("p",{children:["Tasks with due dates: ",t.filter(h=>h.dueDate).length]}),T.jsxs("p",{children:["Selected date: ",i.toDateString()]})]})]}),T.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[T.jsxs("h3",{className:"text-lg font-semibold text-purple-700 mb-4",children:["Tasks for ",i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),c.length===0?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"text-4xl mb-4",children:""}),T.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"No tasks scheduled for this date."}),T.jsx("p",{className:"text-gray-400 text-xs mt-2",children:"Select another date or add new tasks"}),T.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[T.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"All Tasks (Debug)"}),T.jsxs("div",{className:"text-left space-y-2",children:[t.slice(0,5).map(h=>T.jsxs("div",{className:"text-xs",children:[T.jsx("span",{className:"font-medium",children:h.title}),h.dueDate&&T.jsxs("span",{className:"text-gray-500 ml-2",children:["- ",h.dueDate.toDate?h.dueDate.toDate().toDateString():new Date(h.dueDate).toDateString()]})]},h.id)),t.length>5&&T.jsxs("div",{className:"text-xs text-gray-500",children:["... and ",t.length-5," more"]})]})]})]}):T.jsx("div",{className:"space-y-3",children:c.map(h=>T.jsxs("div",{className:`p-4 rounded-lg border-l-4 transition-all hover:shadow-md ${h.completed?"bg-green-50 border-green-400":"bg-purple-50 border-purple-400"}`,children:[T.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("div",{className:`font-medium text-sm sm:text-base ${h.completed?"line-through text-gray-600":"text-gray-800"}`,children:h.title}),h.description&&T.jsx("div",{className:"text-gray-600 text-xs sm:text-sm mt-1 line-clamp-2",children:h.description}),h.dueDate&&T.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[" ",Kb(h.dueDate.toDate?h.dueDate.toDate():new Date(h.dueDate),"h:mm a")]})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[T.jsx("span",{className:`px-2 py-1 rounded-full ${h.priority==="High"?"bg-red-100 text-red-700":h.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:h.priority}),T.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:h.category}),h.completed&&T.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full",children:" Completed"}),h.highPriority&&T.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full",children:" High Priority"})]})]}),h.tags?.length>0&&T.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:h.tags.map((d,p)=>T.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs",children:["#",d]},p))})]},h.id))})]})]})]})})}function Lo({children:e}){const{user:t}=bs();return t?e:T.jsx(FC,{to:"/login"})}function IC({children:e}){const{user:t}=bs(),n=_s();return U.useEffect(()=>{t&&(n.pathname,Qt.success("You're already logged in! Redirecting to dashboard."))},[t,n.pathname]),t?T.jsx(FC,{to:"/",replace:!0}):e}function J$(){const{user:e}=bs(),t=Ka();return U.useEffect(()=>{Qt.error("Page not found!"),e?t("/",{replace:!0}):t("/login",{replace:!0})},[e,t]),T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})})}function tK(){return T.jsxs(T.Fragment,{children:[T.jsx(k9,{position:"bottom-left",reverseOrder:!1}),T.jsx(V9,{}),T.jsxs(GN,{children:[T.jsx(us,{path:"/",element:T.jsx(Lo,{children:T.jsx(g7,{})})}),T.jsx(us,{path:"/add",element:T.jsx(Lo,{children:T.jsx(T7,{})})}),T.jsx(us,{path:"/pending",element:T.jsx(Lo,{children:T.jsx(P8,{})})}),T.jsx(us,{path:"/completed",element:T.jsx(Lo,{children:T.jsx(N8,{})})}),T.jsx(us,{path:"/login",element:T.jsx(IC,{children:T.jsx(V8,{})})}),T.jsx(us,{path:"/signup",element:T.jsx(IC,{children:T.jsx(vG,{})})}),T.jsx(us,{path:"/logout",element:T.jsx(Lo,{children:T.jsx(_G,{})})}),T.jsx(us,{path:"/edit/:id",element:T.jsx(Lo,{children:T.jsx(bG,{})})}),T.jsx(us,{path:"/calendar",element:T.jsx(Lo,{children:T.jsx(Z$,{})})}),T.jsx(us,{path:"*",element:T.jsx(J$,{})})]})]})}eN.createRoot(document.getElementById("root")).render(T.jsx(yV,{children:T.jsx(P9,{children:T.jsx(tK,{})})}));
